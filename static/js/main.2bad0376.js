/*! For license information please see main.2bad0376.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case x:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var O=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},F=[],j=-1;function z(e){return{current:e}}function B(e){0>j||(e.current=F[j],F[j]=null,j--)}function U(e,t){j++,F[j]=e.current,e.current=t}var W,H,V=z(null),q=z(null),G=z(null),K=z(null);function $(e,t){switch(U(G,t),U(q,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(V),U(V,e)}function Q(){B(V),B(q),B(G)}function Y(e){null!==e.memoizedState&&U(K,e);var t=V.current,n=bd(t,e.type);t!==n&&(U(q,e),U(V,n))}function Z(e){q.current===e&&(B(V),B(q)),K.current===e&&(B(K),dh._currentValue=D)}function J(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var X=!1;function ee(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Se|0)|0},we=Math.log,Se=Math.LN2;var ke=256,xe=262144,Ce=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Ee(r):0!==(s&=a)?i=Ee(s):n||0!==(n=a&~e)&&(i=Ee(n)):0!==(a=r&~o)?i=Ee(a):0!==s?i=Ee(s):n||0!==(n=r&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function ze(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,We="__reactProps$"+Be,He="__reactContainer$"+Be,Ve="__reactEvents$"+Be,qe="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Ke="__reactResources$"+Be,$e="__reactMarker$"+Be;function Qe(e){delete e[Ue],delete e[We],delete e[Ve],delete e[qe],delete e[Ge]}function Ye(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fd(e);null!==e;){if(n=e[Ue])return n;e=Fd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Xe(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?_t(e,s,dt(t)):null!=n?_t(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function _t(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function At(){}var Ot=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Dt=null;function Ft(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(s(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var jt=!1;function zt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Mt||null!==Dt)&&(eu(),Mt&&(t=Mt,e=Dt,Dt=Mt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jh){Wt=!1}var Vt=null,qt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,n=qt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Yt(){return!1}function Zt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Jt,Xt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),on=Zt(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Xt=e.screenY-en.screenY):Xt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Zt(sn),ln=Zt(f({},sn,{dataTransfer:0})),cn=Zt(f({},rn,{relatedTarget:0})),un=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Zt(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Zt(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Zt(f({},tn,{newState:0,oldState:0})),xn=[9,13,27,32],Cn=Ut&&"CompositionEvent"in window,En=null;Ut&&"documentMode"in document&&(En=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!En,In=Ut&&(!Cn||En&&8<En&&11>=En),Pn=String.fromCharCode(32),Nn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Dn(e,t,n,r){Mt?Dt?Dt.push(r):Dt=[r]:Mt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,jn=null;function zn(e){Yu(e,0)}function Bn(e){if(pt(Je(e)))return e}function Un(e,t){if("change"===e)return t}var Wn=!1;if(Ut){var Hn;if(Ut){var Vn="oninput"in document;if(!Vn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Vn="function"===typeof qn.oninput}Hn=Vn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Fn&&(Fn.detachEvent("onpropertychange",Kn),jn=Fn=null)}function Kn(e){if("value"===e.propertyName&&Bn(jn)){var t=[];Dn(t,jn,e,Lt(e)),zt(zn,t)}}function $n(e,t,n){"focusin"===e?(Gn(),jn=n,(Fn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Gn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(jn)}function Yn(e,t){if("click"===e)return Bn(t)}function Zn(e,t){if("input"===e||"change"===e)return Bn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Ut&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==gt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=id(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Ut&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),br=gr("transitionrun"),_r=gr("transitionstart"),wr=gr("transitioncancel"),Sr=gr("transitionend"),kr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){kr.set(e,t),rt(t,[e])}xr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ir=0,Pr=0;function Nr(){for(var e=Ir,t=Pr=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Lr(n,i,o)}}function Rr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Rr(e,t,n,r),Mr(e)}function Or(e,t){return Rr(e,null,null,t),Mr(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-_e(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<qc)throw qc=0,Gc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)zr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=jr(31,n,t,i)).elementType=T,e.lanes=o,e;case y:return Hr(n.children,i,o,t);case v:a=8,i|=24;break;case b:return(e=jr(12,n,t,2|i)).elementType=b,e.lanes=o,e;case k:return(e=jr(13,n,t,i)).elementType=k,e.lanes=o,e;case x:return(e=jr(19,n,t,i)).elementType=x,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case _:a=9;break e;case S:a=11;break e;case C:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=jr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function qr(e){var t=jr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Yr=0,Zr=null,Jr=0,Xr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Qr[Yr++]=Jr,Qr[Yr++]=Zr,Zr=e,Jr=t}function oi(e,t,n){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-_e(r)-1;r&=~(1<<i),n+=1;var o=32-_e(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-_e(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===Zr;)Zr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null;for(;e===ti;)ti=Xr[--ei],Xr[ei]=null,ri=Xr[--ei],Xr[ei]=null,ni=Xr[--ei],Xr[ei]=null}function li(e,t){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(s(519));function gi(e){throw wi($r(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[We]=r,n){case"dialog":Zu("cancel",t),Zu("close",t);break;case"iframe":case"object":case"embed":Zu("load",t);break;case"video":case"audio":for(n=0;n<$u.length;n++)Zu($u[n],t);break;case"source":Zu("error",t);break;case"img":case"image":case"link":Zu("error",t),Zu("load",t);break;case"details":Zu("toggle",t);break;case"input":Zu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Zu("invalid",t);break;case"textarea":Zu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Zu("beforetoggle",t),Zu("toggle",t)),null!=r.onScroll&&Zu("scroll",t),null!=r.onScrollEnd&&Zu("scrollend",t),null!=r.onClick&&(t.onclick=At),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Dd(e)}else 27===n?(n=ui,Td(e.type)?(e=Md,Md=null,ui=e):ui=n):ui=ci?Ld(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function _i(){var e=hi;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var Si=z(null),ki=null,xi=null;function Ci(e,t,n){U(Si,t._currentValue),t._currentValue=n}function Ei(e){e._currentValue=Si.current,B(Si)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ti(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ti(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Pi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){ki=e,xi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ai(e){return Li(ki,e)}function Oi(e,t){return null===ki&&Ri(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xi){if(null===e)throw Error(s(308));xi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xi=xi.next=t;return n}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Di=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,ji={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Di(Fi,function(){e.controller.abort()})}var Ui=null,Wi=0,Hi=0,Vi=null;function qi(){if(0===--Wi&&null!==Ui){null!==Vi&&(Vi.status="fulfilled");var e=Ui;Ui=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=L.S;L.S=function(e,t){Lc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Wi=0,Hi=Hu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(qi,qi)}(0,t),null!==Gi&&Gi(e,t)};var Ki=z(null);function $i(){var e=Ki.current;return null!==e?e:gc.pooledCache}function Qi(e,t){U(Ki,null===t?Ki.current:t.pool)}function Yi(){var e=$i();return null===e?null:{parent:ji._currentValue,pool:e}}var Zi=Error(s(460)),Ji=Error(s(474)),Xi=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(At,At),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(At,At);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw io=t,Zi}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw io=t,Zi;throw t}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===Zi||e===Xi)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return uo(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gr(t,e.mode,n)).return=e,t;case E:return h(e,t=ro(t),n)}if(O(t)||N(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),n);if(t.$$typeof===w)return h(e,Oi(e,t),n);ho(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=ro(n),r)}if(O(n)||N(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===w)return f(e,t,Oi(e,n),r);ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,r=ro(r),i)}if(O(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,co(r),i);if(r.$$typeof===w)return p(e,t,n,Oi(t,r),i);ho(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ro(b)===c.type){n(l,c.sibling),uo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return a(l);case E:return v(l,c,u=ro(u),d)}if(O(u))return function(i,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),di&&ii(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(s=o(d,s,g),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,g),c}for(d=r(d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,g),c}(l,c,u,d);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),di&&ii(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return di&&ii(i,m),u}for(g=r(g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(i,e)}),di&&ii(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,co(u),d);if(u.$$typeof===w)return v(l,c,Oi(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=v(e,t,n,r);return ao=null,i}catch(s){if(s===Zi||s===Xi)throw s;var o=jr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var po=fo(!0),go=fo(!1),mo=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Lr(e,null,n),t}return Rr(e,r,t,n),Mr(e)}function wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function So(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ko=!1;function xo(){if(ko){if(null!==Vi)throw Vi}}function Co(e,t,n,r){ko=!1;var i=e.updateQueue;mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Hi&&(ko=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;h=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(y,d,h):g)||void 0===h)break e;d=f({},d,h);break e;case 2:mo=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),Cc|=s,e.lanes=s,e.memoizedState=d}}function Eo(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Io(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Eo(n[e],t)}var Po=z(null),No=z(0);function Ro(e,t){U(No,e=kc),U(Po,t),kc=e|t.baseLanes}function Ao(){U(No,kc),U(Po,Po.current)}function Oo(){kc=No.current,B(Po),B(No)}var Lo=z(null),Mo=null;function Do(e){var t=e.alternate;U(Uo,1&Uo.current),U(Lo,e),null===Mo&&(null===t||null!==Po.current||null!==t.memoizedState)&&(Mo=e)}function Fo(e){U(Uo,Uo.current),U(Lo,e),null===Mo&&(Mo=e)}function jo(e){22===e.tag?(U(Uo,Uo.current),U(Lo,e),null===Mo&&(Mo=e)):zo()}function zo(){U(Uo,Uo.current),U(Lo,Lo.current)}function Bo(e){B(Lo),Mo===e&&(Mo=null),B(Uo)}var Uo=z(0);function Wo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=0,Vo=null,qo=null,Go=null,Ko=!1,$o=!1,Qo=!1,Yo=0,Zo=0,Jo=null,Xo=0;function es(){throw Error(s(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,i,o){return Ho=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?ya:va,Qo=!1,o=n(r,i),Qo=!1,$o&&(o=is(t,n,r,i)),rs(e),o}function rs(e){L.H=ma;var t=null!==qo&&null!==qo.next;if(Ho=0,Go=qo=Vo=null,Ko=!1,Zo=0,Jo=null,t)throw Error(s(300));null===e||La||null!==(e=e.dependencies)&&Ni(e)&&(La=!0)}function is(e,t,n,r){Vo=e;var i=0;do{if($o&&(Jo=null),Zo=0,$o=!1,25<=i)throw Error(s(301));if(i+=1,Go=qo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}L.H=ba,o=t(n,r)}while($o);return o}function os(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?ds(t):t,e=e.useState()[0],(null!==qo?qo.memoizedState:null)!==e&&(Vo.flags|=1024),t}function ss(){var e=0!==Yo;return Yo=0,e}function as(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ls(e){if(Ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ko=!1}Ho=0,Go=qo=Vo=null,$o=!1,Zo=Yo=0,Jo=null}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Vo.memoizedState=Go=e:Go=Go.next=e,Go}function us(){if(null===qo){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=qo.next;var t=null===Go?Vo.memoizedState:Go.next;if(null!==t)Go=t,qo=e;else{if(null===e){if(null===Vo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Go?Vo.memoizedState=Go=e:Go=Go.next=e}return Go}function ds(e){var t=Zo;return Zo+=1,null===Jo&&(Jo=[]),e=no(Jo,e,t),t=Vo,null===(null===Go?t.memoizedState:Go.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?ya:va),e}function hs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ds(e);if(e.$$typeof===w)return Ai(e)}throw Error(s(438,String(e)))}function fs(e){var t=null,n=Vo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Vo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function gs(e){return ms(us(),qo,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Ho&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ho&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Vo.lanes|=f,Cc|=f}h=u.action,Qo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,Vo.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(La=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ys(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vs(e,t,n){var r=Vo,i=us(),o=di;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((qo||i).memoizedState,n);if(a&&(i.memoizedState=n,La=!0),i=i.queue,Hs(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Go&&1&Go.memoizedState.tag){if(r.flags|=2048,js(9,{destroy:void 0},_s.bind(null,r,i,n,t),null),null===gc)throw Error(s(349));o||0!==(127&Ho)||bs(r,t,n)}return n}function bs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Vo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _s(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&ks(e)}function ws(e,t,n){return n(function(){Ss(t)&&ks(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(To){return!0}}function ks(e){var t=Or(e,2);null!==t&&Qc(t,e,2)}function xs(e){var t=cs();if("function"===typeof e){var n=e;if(e=n(),Qo){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Cs(e,t,n,r){return e.baseState=n,ms(e,qo,"function"===typeof r?r:ps)}function Es(e,t,n,r,i){if(fa(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==L.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ts(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=L.T,s={};L.T=s;try{var a=n(i,r),l=L.S;null!==l&&l(s,a),Is(e,t,a)}catch(To){Ns(e,t,To)}finally{null!==o&&null!==s.types&&(o.types=s.types),L.T=o}}else try{Is(e,t,o=n(i,r))}catch(c){Ns(e,t,c)}}function Is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ps(e,t,n)},function(n){return Ns(e,t,n)}):Ps(e,t,n)}function Ps(e,t,n){t.status="fulfilled",t.value=n,Rs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Ns(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Rs(t),t=t.next}while(t!==r)}e.action=null}function Rs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function As(e,t){return t}function Os(e,t){if(di){var n=gc.formState;if(null!==n){e:{var r=Vo;if(di){if(ui){t:{for(var i=ui,o=fi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Ld(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Ld(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=cs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},n.queue=r,n=ua.bind(null,Vo,r),r.dispatch=n,r=xs(!1),o=ha.bind(null,Vo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=cs()).queue=i,n=Es.bind(null,Vo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ls(e){return Ms(us(),qo,e)}function Ms(e,t,n){if(t=ms(e,t,As)[0],e=gs(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ds(t)}catch(s){if(s===Zi)throw Xi;throw s}else r=t;var i=(t=us()).queue,o=i.dispatch;return n!==t.memoizedState&&(Vo.flags|=2048,js(9,{destroy:void 0},Ds.bind(null,i,n),null)),[r,o,e]}function Ds(e,t){e.action=t}function Fs(e){var t=us(),n=qo;if(null!==n)return Ms(t,n,e);us(),t=t.memoizedState;var r=(n=us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function js(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Vo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return us().memoizedState}function Bs(e,t,n,r){var i=cs();Vo.flags|=e,i.memoizedState=js(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=us();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==qo&&null!==r&&ts(r,qo.memoizedState.deps)?i.memoizedState=js(t,o,n,r):(Vo.flags|=e,i.memoizedState=js(1|t,o,n,r))}function Ws(e,t){Bs(8390656,8,e,t)}function Hs(e,t){Us(2048,8,e,t)}function Vs(e){var t=us().memoizedState;return function(e){Vo.flags|=4;var t=Vo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function qs(e,t){return Us(4,2,e,t)}function Gs(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $s(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ts(t,r[1]))return r[0];if(r=e(),Qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Ho)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=$c(),Vo.lanes|=e,Cc|=e,n)}function Xs(e,t,n,r){return Jn(n,t)?n:null!==Po.current?(e=Js(e,n,r),Jn(e,t)||(La=!0),e):0===(42&Ho)||0!==(1073741824&Ho)&&0===(261930&yc)?(La=!0,e.memoizedState=n):(e=$c(),Vo.lanes|=e,Cc|=e,t)}function ea(e,t,n,r,i){var o=M.p;M.p=0!==o&&8>o?o:8;var s=L.T,a={};L.T=a,ha(e,!1,t,n);try{var l=i(),c=L.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);da(e,t,u,Kc())}else da(e,t,r,Kc())}catch(To){da(e,t,{then:function(){},status:"rejected",reason:To},Kc())}finally{M.p=o,null!==s&&null!==a.types&&(s.types=a.types),L.T=s}}function ta(){}function na(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ra(e).queue;ea(e,i,t,D,null===n?ta:function(){return ia(e),n(r)})}function ra(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=ra(e);null===t.next&&(t=e.alternate.memoizedState),da(e,t.next.queue,{},Kc())}function oa(){return Ai(dh)}function sa(){return us().memoizedState}function aa(){return us().memoizedState}function la(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=_o(t,e=bo(n),n);return null!==r&&(Qc(r,t,n),wo(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?pa(t,n):null!==(n=Ar(e,t,n,r))&&(Qc(n,e,r),ga(n,t,r))}function ua(e,t,n){da(e,t,n,Kc())}function da(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))pa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Rr(e,t,i,0),null===gc&&Nr(),!1}catch(To){}if(null!==(n=Ar(e,t,i,r)))return Qc(n,e,r),ga(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Qc(t,e,2)}function fa(e){var t=e.alternate;return e===Vo||null!==t&&t===Vo}function pa(e,t){$o=Ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ga(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var ma={readContext:Ai,use:hs,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};ma.useEffectEvent=es;var ya={readContext:Ai,use:hs,useCallback:function(e,t){return cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ws,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var n=cs();t=void 0===t?null:t;var r=e();if(Qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=cs();if(void 0!==n){var i=n(t);if(Qo){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,Vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},cs().memoizedState=e},useState:function(e){var t=(e=xs(e)).queue,n=ua.bind(null,Vo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return Js(cs(),e,t)},useTransition:function(){var e=xs(!1);return e=ea.bind(null,Vo,e.queue,!0,!1),cs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Vo,i=cs();if(di){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===gc)throw Error(s(349));0!==(127&yc)||bs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ws(ws.bind(null,r,o,e),[e]),r.flags|=2048,js(9,{destroy:void 0},_s.bind(null,r,o,n,t),null),n},useId:function(){var e=cs(),t=gc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-_e(ni)-1)).toString(32)+n),0<(n=Yo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Os,useActionState:Os,useOptimistic:function(e){var t=cs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Vo,!0,n),n.dispatch=t,[e,t]},useMemoCache:fs,useCacheRefresh:function(){return cs().memoizedState=la.bind(null,Vo)},useEffectEvent:function(e){var t=cs(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Ai,use:hs,useCallback:Ys,useContext:Ai,useEffect:Hs,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Gs,useMemo:Zs,useReducer:gs,useRef:zs,useState:function(){return gs(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){return Xs(us(),qo.memoizedState,e,t)},useTransition:function(){var e=gs(ps)[0],t=us().memoizedState;return["boolean"===typeof e?e:ds(e),t]},useSyncExternalStore:vs,useId:sa,useHostTransitionStatus:oa,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){return Cs(us(),0,e,t)},useMemoCache:fs,useCacheRefresh:aa};va.useEffectEvent=Vs;var ba={readContext:Ai,use:hs,useCallback:Ys,useContext:Ai,useEffect:Hs,useImperativeHandle:$s,useInsertionEffect:qs,useLayoutEffect:Gs,useMemo:Zs,useReducer:ys,useRef:zs,useState:function(){return ys(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=us();return null===qo?Js(n,e,t):Xs(n,qo.memoizedState,e,t)},useTransition:function(){var e=ys(ps)[0],t=us().memoizedState;return["boolean"===typeof e?e:ds(e),t]},useSyncExternalStore:vs,useId:sa,useHostTransitionStatus:oa,useFormState:Fs,useActionState:Fs,useOptimistic:function(e,t){var n=us();return null!==qo?Cs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fs,useCacheRefresh:aa};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ba.useEffectEvent=Vs;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_o(e,i,r))&&(Qc(t,e,r),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_o(e,i,r))&&(Qc(t,e,r),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_o(e,r,n))&&(Qc(t,e,n),wo(t,e,n))}};function Sa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,o))}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ca(e){Er(e)}function Ea(e){console.error(e)}function Ta(e){Er(e)}function Ia(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Pa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Na(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Ia(e,t)},n}function Ra(e){return(e=bo(e)).tag=3,e}function Aa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Pa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Pa(t,n,r),"function"!==typeof i&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oa=Error(s(461)),La=!1;function Ma(e,t,n,r){t.child=null===e?go(t,null,n,r):po(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ri(t),r=ns(e,t,n,s,o,i),a=ss(),null===e||La?(di&&a&&si(t),t.flags|=1,Ma(e,t,r,i),t.child):(as(e,t,i),ol(e,t,i))}function Fa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ja(e,t,o,r,i))}if(o=e.child,!sl(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return ol(e,t,i)}return t.flags|=1,(e=Br(o,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Xn(o,r)&&e.ref===t.ref){if(La=!1,t.pendingProps=r=o,!sl(e,i))return t.lanes=e.lanes,ol(e,t,i);0!==(131072&e.flags)&&(La=!0)}}return qa(e,t,n,r,i)}function za(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Ua(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ua(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==o?o.cachePool:null),null!==o?Ro(t,o):Ao(),jo(t)}else null!==o?(Qi(0,o.cachePool),Ro(t,o),zo(),t.memoizedState=null):(null!==e&&Qi(0,null),Ao(),zo());return Ma(e,t,i,n),t.child}function Ba(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ua(e,t,n,r,i){var o=$i();return o=null===o?null:{parent:ji._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Qi(0,null),Ao(),jo(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Wa(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return po(t,e.child,null,n),(e=Wa(t,t.pendingProps)).flags|=2,Bo(t),t.memoizedState=null,e}function Va(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,i){return Ri(t),n=ns(e,t,n,r,void 0,i),r=ss(),null===e||La?(di&&r&&si(t),t.flags|=1,Ma(e,t,n,i),t.child):(as(e,t,i),ol(e,t,i))}function Ga(e,t,n,r,i,o){return Ri(t),t.updateQueue=null,n=is(t,r,n,i),rs(e),r=ss(),null===e||La?(di&&r&&si(t),t.flags|=1,Ma(e,t,n,o),t.child):(as(e,t,o),ol(e,t,o))}function Ka(e,t,n,r,i){if(Ri(t),null===t.stateNode){var o=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ai(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=wa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},yo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ai(s):Dr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(_a(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&wa.enqueueReplaceState(o,o.state,null),Co(t,r,o,i),xo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=xa(n,a);o.props=l;var c=o.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Ai(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ka(t,o,r,s),mo=!1;var h=t.memoizedState;o.state=h,Co(t,r,o,i),xo(),c=t.memoizedState,a||h!==c||mo?("function"===typeof d&&(_a(t,n,d,r),c=t.memoizedState),(l=mo||Sa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=xa(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ai(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ka(t,o,r,l),mo=!1,h=t.memoizedState,o.state=h,Co(t,r,o,i),xo();var f=t.memoizedState;s!==d||h!==f||mo||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof a&&(_a(t,n,a,r),f=t.memoizedState),(u=mo||Sa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Va(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=po(t,e.child,null,i),t.child=po(t,null,n,i)):Ma(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ol(e,t,i),e}function $a(e,t,n,r){return bi(),t.flags|=256,Ma(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(e){return{baseLanes:e,cachePool:Yi()}}function Za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ic),e}function Ja(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Uo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(o?Do(t):zo(),(e=ui)?null!==(e=null!==(e=Rd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(zo(),l=el({mode:"hidden",children:l},o=t.mode),i=Hr(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ya(n),i.childLanes=Za(e,r,n),t.memoizedState=Qa,Ba(null,i)):(Do(t),Xa(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Do(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),l=i.fallback,o=t.mode,i=el({mode:"visible",children:i.children},o),(l=Hr(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,po(t,e.child,null,n),(i=t.child).memoizedState=Ya(n),i.childLanes=Za(e,r,n),t.memoizedState=Qa,t=Ba(null,i));else if(Do(t),Od(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(La||Pi(e,t,n,!1),r=0!==(n&e.childLanes),La||r){if(null!==(r=gc)&&(0!==(i=Me(r,n))&&i!==c.retryLane))throw c.retryLane=i,Or(e,i),Qc(r,e,i),Oa;Ad(l)||au(),t=tl(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Ld(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Xa(t,i.children)).flags|=4096);return t}return o?(zo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ba(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ya(n):(null!==(o=l.cachePool)?(c=ji._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Yi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Za(e,r,n),t.memoizedState=Qa,Ba(e.child,i)):(Do(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=jr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return po(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=Uo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,U(Uo,s),Ma(e,t,r,n),r=di?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,o,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)La=!0;else{if(!sl(e,n)&&0===(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),Ci(0,ji,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Fo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Do(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Do(t),null!==(e=ol(e,t,n))?e.sibling:null);Do(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Uo,Uo.current),r)break;return null;case 22:return t.lanes=0,za(e,t,n,t.pendingProps);case 24:Ci(0,ji,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);La=0!==(131072&e.flags)}else La=!1,di&&0!==(1048576&t.flags)&&oi(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===S){t.tag=11,t=Da(null,t,e,r,n);break e}if(i===C){t.tag=14,t=Fa(null,t,e,r,n);break e}}throw t=A(e)||e,Error(s(306,t,""))}zr(e)?(r=xa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),Co(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ci(0,ji,r),r!==o.cache&&Ii(t,[ji],n,!0),xo(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=$a(e,t,r,n);break e}if(r!==i){wi(i=$r(Error(s(424)),t)),t=$a(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Ld(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=ol(e,t,n);break e}Ma(e,t,r,n)}t=t.child}return t;case 26:return Va(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yd(G.current).createElement(n))[Ue]=t,r[We]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&di&&(r=t.stateNode=jd(t.type,t.pendingProps,G.current),ci=t,fi=!0,i=ui,Td(t.type)?(Md=i,ui=Ld(r.firstChild)):ui=i),Ma(e,t,t.pendingProps.children,n),Va(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Ld(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,_d(i,o)?r=null:null!==a&&_d(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ns(e,t,os,null,null,n),dh._currentValue=i),Va(e,t),Ma(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Ja(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return Da(e,t,t.type,t.pendingProps,n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Ma(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ri(t),r=r(i=Ai(i)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return Fa(e,t,t.type,t.pendingProps,n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Wa(t,r),t.lanes=536870912,Ba(null,e);if(Fo(t),(e=ui)?null!==(e=null!==(e=Rd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Wa(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Fo(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(La||Pi(e,t,n,!1),i=0!==(n&e.childLanes),La||i){if(null!==(r=gc)&&0!==(a=Me(r,n))&&a!==o.retryLane)throw o.retryLane=a,Or(e,a),Qc(r,e,a),Oa;au(),t=Ha(e,t,n)}else e=o.treeContext,ui=Ld(a.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Wa(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return za(e,t,n,t.pendingProps);case 24:return Ri(t),r=Ai(ji),null===e?(null===(i=$i())&&(i=gc,o=zi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},yo(t),Ci(0,ji,i)):(0!==(e.lanes&n)&&(vo(e,t),Co(t,null,null,n),xo()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,ji,r)):(r=o.cache,Ci(0,ji,r),r!==i.cache&&Ii(t,[ji],n,!0))),Ma(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw io=eo,Ji;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!iu())throw io=eo,Ji;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,Pc|=t)}function hl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ei(ji),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,_i())),fl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(ll(t),null!==o?(fl(t),ul(t,o)):(fl(t),cl(t,i,0,0,n))):o?o!==e.memoizedState?(ll(t),fl(t),ul(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(Z(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=V.current,vi(t)?mi(t):(e=jd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(o=V.current,vi(t))mi(t);else{var a=yd(G.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Ue]=t,o[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(fd(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=G.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=yd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bo(t),t):(Bo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=_i(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bo(t),t):(Bo(t),null)}return Bo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Q(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ei(t.type),fl(t),null;case 19:if(B(Uo),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)hl(r,!1);else{if(0!==xc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Wo(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(Uo,1&Uo.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Mc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Wo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Uo.current,U(Uo,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Bo(t),Oo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ei(ji),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function gl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ei(ji),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Bo(t),null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Uo),null;case 4:return Q(),null;case 10:return Ei(t.type),null;case 22:case 23:return Bo(t),Oo(),null!==e&&B(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ei(ji),null;default:return null}}function ml(e,t){switch(ai(t),t.tag){case 3:Ei(ji),Q();break;case 26:case 27:case 5:Z(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Bo(t);break;case 13:Bo(t);break;case 19:B(Uo);break;case 10:Ei(t.type);break;case 22:case 23:Bo(t),Oo(),null!==e&&B(Ki);break;case 24:Ei(ji)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(To){xu(t,t.return,To)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(To){xu(i,l,To)}}}r=r.next}while(r!==o)}}catch(To){xu(t,t.return,To)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Io(t,n)}catch(To){xu(e,e.return,To)}}}function _l(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(To){xu(e,t,To)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(To){xu(e,t,To)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(To){xu(e,t,To)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){xu(e,t,i)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(To){xu(e,e.return,To)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||dd(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&dd(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&dd(e,t,a,i,r,o)}return void St(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else dd(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&dd(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(To){xu(e,e.return,To)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=At));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Pl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ue]=e,t[We]=n}catch(To){xu(e,e.return,To)}}var Nl=!1,Rl=!1,Al=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Ml(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&yl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(To){xu(n,n.return,To)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){xu(n,n.return,s)}}64&r&&bl(n),512&r&&wl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Io(e,t)}catch(To){xu(n,n.return,To)}}break;case 27:null===t&&4&r&&Pl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&kl(n),512&r&&wl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&Ul(e,n);break;case 13:Ql(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Nl)){t=null!==t&&null!==t.memoizedState||Rl,i=Nl;var o=Rl;Nl=r,(Rl=t)&&!o?Zl(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Nl=i,Rl=o}break;case 30:break;default:Ql(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,jl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Bl(e,t,n),n=n.sibling}function Bl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Rl||Sl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rl||Sl(n,t);var r=Fl,i=jl;Td(n.type)&&(Fl=n.stateNode,jl=!1),zl(e,t,n),zd(n.stateNode),Fl=r,jl=i;break;case 5:Rl||Sl(n,t);case 6:if(r=Fl,i=jl,Fl=null,zl(e,t,n),jl=i,null!==(Fl=r))if(jl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(To){xu(n,t,To)}else try{Fl.removeChild(n.stateNode)}catch(To){xu(n,t,To)}break;case 18:null!==Fl&&(jl?(Id(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Id(Fl,n.stateNode));break;case 4:r=Fl,i=jl,Fl=n.stateNode.containerInfo,jl=!0,zl(e,t,n),Fl=r,jl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Rl||vl(4,n,t),zl(e,t,n);break;case 1:Rl||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Rl=(r=Rl)||null!==n.memoizedState,zl(e,t,n),Rl=r;break;default:zl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(To){xu(t,t.return,To)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(To){xu(t,t.return,To)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Pu.bind(null,e,t);t.then(r,r)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Fl=l.stateNode,jl=!1;break e}break;case 5:Fl=l.stateNode,jl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===Fl)throw Error(s(160));Bl(o,a,i),Fl=null,jl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var ql=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Kl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Kl(e),512&r&&(Rl||null===n||Sl(n,n.return)),64&r&&Nl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=ql;if(Vl(t,e),Kl(e),512&r&&(Rl||null===n||Sl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[$e]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),fd(o,r,n),o[Ue]=e,et(o),r=o;break e;case"link":var a=rh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ue]=e,et(o),r=o}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?ih(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Kl(e),512&r&&(Rl||null===n||Sl(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Kl(e),512&r&&(Rl||null===n||Sl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(To){xu(e,e.return,To)}}4&r&&null!=e.stateNode&&xl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Al=!0);break;case 6:if(Vl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(To){xu(e,e.return,To)}}break;case 3:if(nh=null,i=ql,ql=Wd(t.containerInfo),Vl(t,e),ql=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(To){xu(e,e.return,To)}Al&&(Al=!1,$l(e));break;case 4:r=ql,ql=Wd(e.stateNode.containerInfo),Vl(t,e),Kl(e),ql=r;break;case 12:default:Vl(t,e),Kl(e);break;case 31:case 19:Vl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:Vl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Oc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Nl,d=Rl;if(Nl=u||i,Rl=d||c,Vl(t,e),Rl=d,Nl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Nl||Rl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(To){xu(c,c.return,To)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(To){xu(c,c.return,To)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Pd(p,!0):Pd(c.stateNode,!1)}catch(To){xu(c,c.return,To)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Il(e,El(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(xt(o,""),n.flags&=-33),Il(e,El(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,El(e),a);break;default:throw Error(s(161))}}catch(To){xu(e,e.return,To)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),Yl(t);break;case 27:zd(t.stateNode);case 26:case 5:Sl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Zl(i,o,n),yl(4,o);break;case 1:if(Zl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(To){xu(r,r.return,To)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Eo(l[i],a)}catch(To){xu(r,r.return,To)}}n&&64&s&&bl(o),wl(o,o.return);break;case 27:Pl(o);case 26:case 5:Zl(i,o,n),n&&null===r&&4&s&&kl(o),wl(o,o.return);break;case 12:Zl(i,o,n);break;case 31:Zl(i,o,n),n&&4&s&&Ul(i,o);break;case 13:Zl(i,o,n),n&&4&s&&Wl(i,o);break;case 22:null===o.memoizedState&&Zl(i,o,n),wl(o,o.return);break;case 30:break;default:Zl(i,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(To){xu(t,t.return,To)}}else ec(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?ec(e,t,n,r):rc(e,t):2&o._visibility?ec(e,t,n,r):(o._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Xl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(o,s,a,l,i),yl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(o,s,a,l,i):rc(o,s):(u._visibility|=2,nc(o,s,a,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:nc(o,s,a,l,i),i&&2048&c&&Xl(s.alternate,s);break;default:nc(o,s,a,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Xl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function oc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),o=t.querySelector($d(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Qd(r),(i=Bd.get(i))&&eh(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=ql;ql=Wd(e.stateNode.containerInfo),oc(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,oc(e,t,n),ic=r):oc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,dc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var i=(r=Ll).sibling,o=r.return;if(Dl(r),r===n){Ll=null;break e}if(null!==i){i.return=o,Ll=i;break e}Ll=o}}}var hc={getCacheForType:function(e){var t=Ai(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ai(ji).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,gc=null,mc=null,yc=0,vc=0,bc=null,_c=!1,wc=!1,Sc=!1,kc=0,xc=0,Cc=0,Ec=0,Tc=0,Ic=0,Pc=0,Nc=null,Rc=null,Ac=!1,Oc=0,Lc=0,Mc=1/0,Dc=null,Fc=null,jc=0,zc=null,Bc=null,Uc=0,Wc=0,Hc=null,Vc=null,qc=0,Gc=null;function Kc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==L.T?Hu():je()}function $c(){if(0===Ic)if(0===(536870912&yc)||di){var e=xe;0===(3932160&(xe<<=1))&&(xe=262144),Ic=e}else Ic=536870912;return null!==(e=Lo.current)&&(e.flags|=32),Ic}function Qc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Xc(e,yc,Ic,!1)),Ae(e,n),0!==(2&pc)&&e===gc||(e===gc&&(0===(2&pc)&&(Ec|=n),4===xc&&Xc(e,yc,Ic,!1)),Du(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=ou(),i=su();gc!==e||yc!==t?(Dc=null,Mc=le()+500,nu(e,t)):wc=Ie(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var o=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),Du(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,o,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?oh(a):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,pu(u)):mc=null}break t}}vc=0,bc=null,fu(e,t,o,5);break;case 6:vc=0,bc=null,fu(e,t,o,6);break;case 8:tu(),xc=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return xi=ki=null,L.H=r,L.A=i,pc=n,null!==mc?0:(gc=null,yc=0,Nr(),xc)}(e,t):lu(e,t,!0),o=r;;){if(0===i){wc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!o||Jc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Nc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,a).flags|=256),2!==(a=lu(l,a,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=o,Ec|=o,i=4;break e}o=Rc,Rc=i,null!==o&&(null===Rc?Rc=o:Rc.push.apply(Rc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){nu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Ic,!_c);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Oc+300-le())){if(Xc(r,t,Ic,!_c),0!==Te(r,0,!0))break e;Uc=t,r.timeoutHandle=Sd(Zc.bind(null,r,n,Rc,Dc,Ac,t,Ic,Ec,Pc,_c,o,"Throttled",-0,0),i)}else Zc(r,n,Rc,Dc,Ac,t,Ic,Ec,Pc,_c,o,null,-0,0)}break}i=lu(e,t,!1),o=!1}Du(e)}function Zc(e,t,n,r,i,o,s,a,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:At});var p=(62914560&o)===o?Oc-le():(4194048&o)===o?Lc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&pd(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Uc=o,e.cancelPendingCommit=p(mu.bind(null,e,t,o,n,r,i,s,a,l,u,d,null,h,f)),void Xc(e,o,s,!c)}mu(e,t,o,n,r,i,s,a,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(To){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-_e(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Oe(e,n,t)}function eu(){return 0!==(6&pc)||(Fu(0,!1),!1)}function tu(){if(null!==mc){if(0===vc)var e=mc.return;else xi=ki=null,ls(e=mc),ao=null,lo=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,tu(),gc=e,mc=n=Br(e.current,null),yc=t,vc=0,bc=null,_c=!1,wc=Ie(e,t),Sc=!1,Pc=Ic=Tc=Ec=Cc=xc=0,Rc=Nc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_e(r),o=1<<i;t|=e[i],r&=~o}return kc=t,Nr(),n}function ru(e,t){Vo=null,L.H=ma,t===Zi||t===Xi?(t=oo(),vc=3):t===Ji?(t=oo(),vc=4):vc=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===mc&&(xc=1,Ia(e,$r(t,e.current)))}function iu(){var e=Lo.current;return null===e||((4194048&yc)===yc?null===Mo:((62914560&yc)===yc||0!==(536870912&yc))&&e===Mo)}function ou(){var e=L.H;return L.H=ma,null===e?ma:e}function su(){var e=L.A;return L.A=hc,e}function au(){xc=4,_c||(4194048&yc)!==yc&&null!==Lo.current||(wc=!0),0===(134217727&Cc)&&0===(134217727&Ec)||null===gc||Xc(gc,yc,Ic,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=ou(),o=su();gc===e&&yc===t||(Dc=null,nu(e,t)),t=!1;var s=xc;e:for(;;)try{if(0!==vc&&null!==mc){var a=mc,l=bc;switch(vc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Lo.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,a,l,c),n&&wc){s=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,a,l,c)}}cu(),s=xc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,xi=ki=null,pc=r,L.H=i,L.A=o,null===mc&&(gc=null,yc=0,Nr()),s}function cu(){for(;null!==mc;)du(mc)}function uu(){for(;null!==mc&&!se();)du(mc)}function du(e){var t=al(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ga(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ga(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ls(t);default:ml(n,t),t=al(n,t=mc=Ur(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function fu(e,t,n,r){xi=ki=null,ls(t),ao=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Lo.current)){switch(n.tag){case 31:case 13:return null===Mo?au():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(s(435,n.tag))}return Cu(e,r,i),au(),!1}if(di)return null!==(t=Lo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&wi($r(e=Error(s(422),{cause:r}),n))):(r!==pi&&wi($r(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=$r(r,n),So(e,i=Na(e.stateNode,r,i)),4!==xc&&(xc=2)),!1;var o=Error(s(520),{cause:r});if(o=$r(o,n),null===Nc?Nc=[o]:Nc.push(o),4!==xc&&(xc=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,So(n,e=Na(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Fc||!Fc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Aa(i=Ra(i),e,n,r),So(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return xc=1,Ia(e,$r(n,e.current)),void(mc=null)}catch(To){if(null!==i)throw mc=i,To;return xc=1,Ia(e,$r(n,e.current)),void(mc=null)}32768&t.flags?(di||1===r?e=!0:wc||0!==(536870912&yc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Lo.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void gu(t,_c);e=t.return;var n=pl(t.alternate,t,kc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===xc&&(xc=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);xc=6,mc=null}function mu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==jc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-_e(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Pr,a,l,c),e===gc&&(mc=gc=null,yc=0),Bc=t,zc=e,Uc=n,Wc=o,Hc=i,Vc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,i=M.p,M.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,gd=_h,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},_h=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(o=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=xa(n.type,i);e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(To){xu(n,n.return,To)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Nd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{pc=a,M.p=i,L.T=r}}jc=1,yu(),vu(),bu()}}function yu(){if(1===jc){jc=0;var e=zc,t=Bc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=M.p;M.p=2;var i=pc;pc|=4;try{Gl(t,e);var o=md,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(s=m,m=g,g=s);var y=tr(a,g),v=tr(a,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_h=!!gd,md=gd=null}finally{pc=i,M.p=r,L.T=n}}e.current=t,jc=2}}function vu(){if(2===jc){jc=0;var e=zc,t=Bc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=M.p;M.p=2;var i=pc;pc|=4;try{Ml(e,t.alternate,t)}finally{pc=i,M.p=r,L.T=n}}jc=3}}function bu(){if(4===jc||3===jc){jc=0,ae();var e=zc,t=Bc,n=Uc,r=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Bc=zc=null,_u(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Fc=null),Fe(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,i=M.p,M.p=2,L.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{L.T=t,M.p=i}}0!==(3&Uc)&&wu(),Du(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Gc?qc++:(qc=0,Gc=e):qc=0,Fu(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function wu(){return yu(),vu(),bu(),Su()}function Su(){if(5!==jc)return!1;var e=zc,t=Wc;Wc=0;var n=Fe(Uc),r=L.T,i=M.p;try{M.p=32>n?32:n,L.T=null,n=Hc,Hc=null;var o=zc,a=Uc;if(jc=0,Bc=zc=null,Uc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(o.current),tc(o,o.current,a,n),pc=l,Fu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{M.p=i,L.T=r,_u(e,t)}}function ku(e,t,n){t=$r(n,t),null!==(e=_o(e,t=Na(e.stateNode,t,2),2))&&(Ae(e,2),Du(e))}function xu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){e=$r(n,e),null!==(r=_o(t,n=Ra(2),2))&&(Aa(n,r,t,e),Ae(r,2),Du(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Sc=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(yc&n)===n&&(4===xc||3===xc&&(62914560&yc)===yc&&300>le()-Oc?0===(2&pc)&&nu(e,0):Tc|=n,Pc===yc&&(Pc=0)),Du(e)}function Tu(e,t){0===t&&(t=Ne()),null!==(e=Or(e,t))&&(Ae(e,t),Du(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Nu=null,Ru=null,Au=!1,Ou=!1,Lu=!1,Mu=0;function Du(e){e!==Ru&&null===e.next&&(null===Ru?Nu=Ru=e:Ru=Ru.next=e),Ou=!0,Au||(Au=!0,Cd(function(){0!==(6&pc)?ie(ue,ju):zu()}))}function Fu(e,t){if(!Lu&&Ou){Lu=!0;do{for(var n=!1,r=Nu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-_e(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Wu(r,o))}else o=yc,0===(3&(o=Te(r,r===gc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,o)||(n=!0,Wu(r,o));r=r.next}}while(n);Lu=!1}}function ju(){zu()}function zu(){Ou=Au=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Mu);for(var t=le(),n=null,r=Nu;null!==r;){var i=r.next,o=Bu(r,t);0===o?(r.next=null,null===n?Nu=i:n.next=i,null===i&&(Ru=n)):(n=r,(0!==e||0!==(3&o))&&(Ou=!0)),r=i}0!==jc&&5!==jc||Fu(e,!1),0!==Mu&&(Mu=0)}function Bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-_e(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Pe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=yc,n=Te(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Fe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Wu(e,t){if(wu())return null;Yc(e,t,!0)}function Hu(){if(0===Mu){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Mu=e}return Mu}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<xr.length;Gu++){var Ku=xr[Gu];Cr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Cr(mr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(vr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(br,"onTransitionRun"),Cr(_r,"onTransitionStart"),Cr(wr,"onTransitionCancel"),Cr(Sr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(To){Er(To)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(To){Er(To)}i.currentTarget=null,o=l}}}}function Zu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Th(t)){case 2:var i=wh;break;case 8:i=Sh;break;default:i=kh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Ye(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}zt(function(){var r=o,i=Lt(n),s=[];e:{var a=kr.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case mr:case yr:case vr:c=un;break;case Sr:c=wn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Bt(g,f))&&d.push(rd(g,m,p)),h)break;g=g.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[He])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==c?a:Je(c),p=null==u?a:Je(u),(a=new d(m,g+"leave",c,n,i)).target=h,a.relatedTarget=p,m=null,Ye(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=p,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(d=od,g=u,p=0,m=f=c;m;m=d(m))p++;m=0;for(var y=g;y;y=d(y))m++;for(;0<p-m;)f=d(f),p--;for(;0<m-p;)g=d(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){d=f;break e}f=d(f),g=d(g)}d=null}else d=null;null!==c&&sd(s,a,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Un;else if(Mn(a))if(Wn)v=Zn;else{v=Qn;var b=$n}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(v=Un):v=Yn;switch(v&&(v=v(e,r))?Dn(s,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&_t(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(sr=b,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(s,n,i)}var _;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else On?Rn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(On||"onCompositionStart"!==w?"onCompositionEnd"===w&&On&&(_=Kt()):(qt="value"in(Vt=i)?Vt.value:Vt.textContent,On=!0)),0<(b=id(r,w)).length&&(w=new hn(w,e,null,n,i),s.push({event:w,listeners:b}),_?w.data=_:null!==(_=An(n))&&(w.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Nn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Cn&&Rn(e,t)?(e=Kt(),Gt=qt=Vt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:w}),b.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Vu((i[We]||null).action),s=r.submitter;s&&null!==(t=(t=s[We]||null)?Vu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Mu){var e=s?qu(i,s):new FormData(i);na(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?qu(i,s):new FormData(i),na(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Yu(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Bt(e,n))&&r.unshift(rd(e,i,o)),null!=(i=Bt(e,t))&&r.push(rd(e,i,o))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Bt(n,o))&&s.unshift(rd(n,c,l)):i||null!=(c=Bt(n,o))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ad=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=At);break;case"onScroll":null!=r&&Zu("scroll",e);break;case"onScrollEnd":null!=r&&Zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Zu("beforetoggle",e),Zu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Pt.get(n)||n,r)}}function hd(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Zu("scroll",e);break;case"onScrollEnd":null!=r&&Zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=At);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[We]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zu("error",e),Zu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,a,n,null)}}return o&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Zu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,a,o,!1);case"select":for(o in Zu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:dd(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(a in Zu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,a,l,n,null)}return void kt(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Zu("beforetoggle",e),Zu("toggle",e),Zu("cancel",e),Zu("close",e);break;case"iframe":case"object":Zu("load",e);break;case"video":case"audio":for(i=0;i<$u.length;i++)Zu($u[i],e);break;case"image":Zu("error",e),Zu("load",e);break;case"details":Zu("toggle",e);break;case"embed":case"source":case"link":Zu("error",e),Zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,md=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var Sd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,xd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xd?function(e){return xd.resolve(null).then(e).catch(Ed)}:Sd;function Ed(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[$e]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);qh(t)}function Pd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Nd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nd(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Bd=new Map,Ud=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=M.d;M.d={f:function(){var e=Hd.f(),t=eu();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Hd.r(e)},D:function(e){Hd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=Vd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Kd(e);break;case"script":o=Yd(e)}Bd.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector($d(o))||"script"===t&&r.querySelector(Zd(o))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=Vd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Yd(e)}if(!Bd.has(o)&&(e=f({rel:"modulepreload",href:e},t),Bd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zd(o)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=Vd;if(n&&e){var r=Xe(n).hoistableScripts,i=Yd(e),o=r.get(i);o||((o=n.querySelector(Zd(i)))||(e=f({src:e,async:!0},t),(t=Bd.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Hd.S(e,t,n);var r=Vd;if(r&&e){var i=Xe(r).hoistableStyles,o=Kd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector($d(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(o))&&eh(e,n);var l=s=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Hd.M(e,t);var n=Vd;if(n&&e){var r=Xe(n).hoistableScripts,i=Yd(e),o=r.get(i);o||((o=n.querySelector(Zd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Bd.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Vd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Vd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ud.has(i)||(Ud.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var i,o,a,l,c=(c=G.current)?Wd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Xe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector($d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fd(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function $d(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Zd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var o=e.querySelector($d(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Qd(n),(i=Bd.get(i))&&eh(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fd(o,"link",r),t.state.loading|=4,Xd(o,n.precedence,e),t.instance=o;case"script":return o=Yd(n.src),(i=e.querySelector(Zd(o)))?(t.instance=i,et(i),i):(r=n,(i=Bd.get(o))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[$e]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,ah.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function hh(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,o,s,a,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=jr(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},yo(o),e}function ph(e){return e?e=Dr:Dr}function gh(e,t,n,r,i,o){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=_o(e,r,t))&&(Qc(n,0,t),wo(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Qc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Or(e,t=De(t));null!==n&&Qc(n,0,t),yh(e,t)}}var _h=!0;function wh(e,t,n,r){var i=L.T;L.T=null;var o=M.p;try{M.p=2,kh(e,t,n,r)}finally{M.p=o,L.T=i}}function Sh(e,t,n,r){var i=L.T;L.T=null;var o=M.p;try{M.p=8,kh(e,t,n,r)}finally{M.p=o,L.T=i}}function kh(e,t,n,r){if(_h){var i=xh(r);if(null===i)nd(e,t,r,Ch,n),Dh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ph=Fh(Ph,e,t,n,r,i),!0;case"dragenter":return Nh=Fh(Nh,e,t,n,r,i),!0;case"mouseover":return Rh=Fh(Rh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ah.set(o,Fh(Ah.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oh.set(o,Fh(Oh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Mh.indexOf(e)){for(;null!==i;){var o=Ze(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ee(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-_e(s);a.entanglements[1]|=l,s&=~l}Du(o),0===(6&pc)&&(Mc=le()+500,Fu(0,!1))}}break;case 31:case 13:null!==(a=Or(o,2))&&Qc(a,0,2),eu(),yh(o,2)}if(null===(o=xh(r))&&nd(e,t,r,Ch,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function xh(e){return Eh(e=Lt(e))}var Ch=null;function Eh(e){if(Ch=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ih=!1,Ph=null,Nh=null,Rh=null,Ah=new Map,Oh=new Map,Lh=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Ph=null;break;case"dragenter":case"dragleave":Nh=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(t.pointerId)}}function Fh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Bh(e,t,n){zh(e)&&n.delete(t)}function Uh(){Ih=!1,null!==Ph&&zh(Ph)&&(Ph=null),null!==Nh&&zh(Nh)&&(Nh=null),null!==Rh&&zh(Rh)&&(Rh=null),Ah.forEach(Bh),Oh.forEach(Bh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var Hh=null;function Vh(e){Hh!==e&&(Hh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var o=Ze(n);null!==o&&(e.splice(t,3),t-=3,na(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function qh(e){function t(t){return Wh(t,e)}null!==Ph&&Wh(Ph,e),null!==Nh&&Wh(Nh,e),null!==Rh&&Wh(Rh,e),Ah.forEach(t),Oh.forEach(t);for(var n=0;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lh.length&&null===(n=Lh[0]).blockedOn;)jh(n),null===n.blockedOn&&Lh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[We]||null;if("function"===typeof o)s||Vh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[We]||null)a=s.formAction;else if(null!==Eh(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Vh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function $h(e){this._internalRoot=e}$h.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));gh(t.current,Kc(),e,t,null,null)},$h.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),eu(),t[He]=null}},$h.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lh.length&&0!==t&&t<Lh[n].priority;n++);Lh.splice(n,0,e),0===n&&jh(e)}};var Qh=i.version;if("19.2.4"!==Qh)throw Error(s(527,Qh,"19.2.4"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return d(i),e;if(o===r)return d(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ye=Zh.inject(Yh),ve=Zh}catch(Xh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ca,o=Ea,l=Ta;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,o,l,Gh),e[He]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ca,l=Ea,c=Ta,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,o,l,c,Gh)).context=ph(null),n=t.current,(i=bo(r=De(r=Kc()))).callback=null,_o(n,i,r),n=r,t.current.lanes=n,Ae(t,n),Du(t),e[He]=t.current,ed(e),new $h(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=_.prototype=new b;w.constructor=_,m(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray;function k(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+P(e,0):o,S(s)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=E(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(S(e))for(var g=0;g<e.length;g++)u+=N(o=e[g],t,i,a=f+P(o,g),s);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=N(o=o.value,t,i,a=f+P(o,g++),s);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=L,t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!C.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return E(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,O)}catch(To){O(To)}finally{null!==t&&null!==n.types&&(t.types=n.types),x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return x.H.useEffect(e,t)},t.useEffectEvent=function(e){return x.H.useEffectEvent(e)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,x||(x=!0,k());else{var t=r(u);null!==t&&A(S,t.startTime-e)}}var k,x=!1,C=-1,E=5,T=-1;function I(){return!!y||!(t.unstable_now()-T<E)}function P(){if(y=!1,x){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(C),C=-1),p=!0;var o=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(S,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():x=!1}}}if("function"===typeof _)k=function(){_(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,k=function(){R.postMessage(null)}}else k=function(){v(P,0)};function A(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(C),C=-1):m=!0,A(S,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,x||(x=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const d=!1,h=!1,f="${JSCORE_VERSION}",p=function(e,t){if(!e)throw g(t)},g=function(e){return new Error("Firebase Database ("+f+") INTERNAL ASSERT FAILED: "+e)},m=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new v;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(e){const t=m(e);return y.encodeByteArray(t,!0)},_=function(e){return b(e).replace(/\./g,"")},w=function(e){try{return y.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function S(e){return k(void 0,e)}function k(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&x(n)&&(e[n]=k(e[n],t[n]));return e}function x(e){return"__proto__"!==e}const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,E=()=>{try{return C()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/timeline-explorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APPS_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbxop4nj3ZuXK5GdpLZmvjIcnZhbJDY8l9Em6SuheN8ZVXfyRt5hLt3MD6eK8m8USvy6BQ/exec",REACT_APP_SCHOOL_DOMAIN:"universityprep.org",REACT_APP_SECTIONS:"Period1,Period2,Period5",REACT_APP_TEACHER_EMAIL:"jmunsell@universityprep.org"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&w(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},T=e=>{var t;return null===(t=E())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},I=()=>{var e;return null===(e=E())||void 0===e?void 0:e.config},P=e=>{var t;return null===(t=E())||void 0===t?void 0:t["_".concat(e)]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function R(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function A(e){return(await fetch(e,{credentials:"include"})).ok}const O={};let L=!1;function M(e,t){if("undefined"===typeof window||"undefined"===typeof document||!R(window.location.host)||O[e]===t||O[e]||L)return;function n(e){return"__firebase__banner__".concat(e)}O[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(O))O[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{L=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function z(){return!0===d||!0===h}class B extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(W,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new B(n,o,t)}}const W=/\{\$([^}]+)}/g;function H(e){return JSON.parse(e)}function V(e){return JSON.stringify(e)}const q=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=H(w(o[0])||""),n=H(w(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Y(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Z(n)&&Z(o)){if(!Y(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(e){return null!==e&&"object"===typeof e}function J(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function X(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ee(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class te{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=re),void 0===r.error&&(r.error=re),void 0===r.complete&&(r.complete=re);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function re(){}function ie(e,t){return"".concat(e," failed: ").concat(t," argument ")}const oe=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function se(e){return e&&e._delegate?e._delegate:e}class ae{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const le="[DEFAULT]";class ce{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new N;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:le})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===le?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.component?this.component.multipleInstances?e:le:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const de=[];var he;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(he||(he={}));const fe={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},pe=he.INFO,ge={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},me=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ye{constructor(e){this.name=e,this._logLevel=pe,this._logHandler=me,this._userLogHandler=null,de.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?fe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}let ve,be;const _e=new WeakMap,we=new WeakMap,Se=new WeakMap,ke=new WeakMap,xe=new WeakMap;let Ce={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return we.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Se.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ie(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pe(this),n),Ie(_e.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ie(e.apply(Pe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Pe(this),t,...r);return Se.set(o,t.sort?t.sort():[t]),Ie(o)}}function Te(e){return"function"===typeof e?Ee(e):(e instanceof IDBTransaction&&function(e){if(we.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});we.set(e,t)}(e),t=e,(ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ce):e);var t}function Ie(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ie(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&_e.set(t,e)}).catch(()=>{}),xe.set(t,e),t}(e);if(ke.has(e))return ke.get(e);const t=Te(e);return t!==e&&(ke.set(e,t),xe.set(t,e)),t}const Pe=e=>xe.get(e);const Ne=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ae=new Map;function Oe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ae.get(t))return Ae.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Re.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ne.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ae.set(t,o),o}Ce=(e=>c(c({},e),{},{get:(t,n,r)=>Oe(t,n)||e.get(t,n,r),has:(t,n)=>!!Oe(t,n)||e.has(t,n)}))(Ce);class Le{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Me="@firebase/app",De="0.14.8",Fe=new ye("@firebase/app"),je="@firebase/app-compat",ze="@firebase/analytics-compat",Be="@firebase/analytics",Ue="@firebase/app-check-compat",We="@firebase/app-check",He="@firebase/auth",Ve="@firebase/auth-compat",qe="@firebase/database",Ge="@firebase/data-connect",Ke="@firebase/database-compat",$e="@firebase/functions",Qe="@firebase/functions-compat",Ye="@firebase/installations",Ze="@firebase/installations-compat",Je="@firebase/messaging",Xe="@firebase/messaging-compat",et="@firebase/performance",tt="@firebase/performance-compat",nt="@firebase/remote-config",rt="@firebase/remote-config-compat",it="@firebase/storage",ot="@firebase/storage-compat",st="@firebase/firestore",at="@firebase/ai",lt="@firebase/firestore-compat",ct="firebase",ut="[DEFAULT]",dt={[Me]:"fire-core",[je]:"fire-core-compat",[Be]:"fire-analytics",[ze]:"fire-analytics-compat",[We]:"fire-app-check",[Ue]:"fire-app-check-compat",[He]:"fire-auth",[Ve]:"fire-auth-compat",[qe]:"fire-rtdb",[Ge]:"fire-data-connect",[Ke]:"fire-rtdb-compat",[$e]:"fire-fn",[Qe]:"fire-fn-compat",[Ye]:"fire-iid",[Ze]:"fire-iid-compat",[Je]:"fire-fcm",[Xe]:"fire-fcm-compat",[et]:"fire-perf",[tt]:"fire-perf-compat",[nt]:"fire-rc",[rt]:"fire-rc-compat",[it]:"fire-gcs",[ot]:"fire-gcs-compat",[st]:"fire-fst",[lt]:"fire-fst-compat",[at]:"fire-vertex","fire-js":"fire-js",[ct]:"fire-js-all"},ht=new Map,ft=new Map,pt=new Map;function gt(e,t){try{e.container.addComponent(t)}catch(n){Fe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mt(e){const t=e.name;if(pt.has(t))return Fe.debug("There were multiple attempts to register component ".concat(t,".")),!1;pt.set(t,e);for(const n of ht.values())gt(n,e);for(const n of ft.values())gt(n,e);return!0}function yt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const bt=new U("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _t{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ae("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const wt="12.9.0";function St(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:ut,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw bt.create("bad-app-name",{appName:String(i)});if(n||(n=I()),!n)throw bt.create("no-options");const o=ht.get(i);if(o){if(Y(n,o.options)&&Y(r,o.config))return o;throw bt.create("duplicate-app",{appName:i})}const s=new ue(i);for(const l of pt.values())s.addComponent(l);const a=new _t(n,r,s);return ht.set(i,a),a}function kt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;const t=ht.get(e);if(!t&&e===ut&&I())return St();if(!t)throw bt.create("no-app",{appName:e});return t}function xt(e,t,n){var r;let i=null!==(r=dt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fe.warn(e.join(" "))}mt(new ae("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ct="firebase-heartbeat-store";let Et=null;function Tt(){return Et||(Et=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Ie(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Ie(s.result),e.oldVersion,e.newVersion,Ie(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ct)}catch(n){console.warn(n)}}}).catch(e=>{throw bt.create("idb-open",{originalErrorMessage:e.message})})),Et}async function It(e,t){try{const n=(await Tt()).transaction(Ct,"readwrite"),r=n.objectStore(Ct);await r.put(t,Pt(e)),await n.done}catch(n){if(n instanceof B)Fe.warn(n.message);else{const e=bt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Fe.warn(e.message)}}}function Pt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Nt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new At(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Fe.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Rt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ot(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ot(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Fe.warn(t),""}}}function Rt(){return(new Date).toISOString().substring(0,10)}class At{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(To){t(To)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tt()).transaction(Ct),n=await t.objectStore(Ct).get(Pt(e));return await t.done,n}catch(t){if(t instanceof B)Fe.warn(t.message);else{const e=bt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Fe.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return It(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return It(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ot(e){return _(JSON.stringify({version:2,heartbeats:e})).length}var Lt;Lt="",mt(new ae("platform-logger",e=>new Le(e),"PRIVATE")),mt(new ae("heartbeat",e=>new Nt(e),"PRIVATE")),xt(Me,De,Lt),xt(Me,De,"esm2020"),xt("fire-js","");const Mt=["providerId"],Dt=["uid","auth","stsTokenManager"],Ft=["providerId","signInMethod"];function jt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zt=jt,Bt=new U("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ut=new ye("@firebase/auth");function Wt(e){if(Ut.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ut.error("Auth (".concat(wt,"): ").concat(e),...n)}}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t(e,...n)}function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t(e,...n)}function qt(e,t,n){const r=c(c({},zt()),{},{[t]:n});return new U("auth","Firebase",r).create(t,{appName:e.name})}function Gt(e){return qt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ht(e,"argument-error"),qt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Bt.create(e,...n)}function Qt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t(t,...r)}}function Yt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function Zt(e,t){e||Yt(t)}function Jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xt(){return"http:"===en()||"https:"===en()}function en(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function tn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class nn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zt(t>e,"Short delay should be less than long delay!"),this.isMobile=F()||j()}get(){return tn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(e,t){Zt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class on{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},an=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ln=new nn(3e4,6e4);function cn(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function un(e,t,n,r){return dn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=J(c({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&R(e.emulatorConfig.host)&&(l.credentials="include"),on.fetch()(await fn(e,e.config.apiHost,n,s),l)})}async function dn(e,t,n){e._canInitEmulator=!1;const r=c(c({},sn),t);try{const t=new gn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mn(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mn(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw mn(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw mn(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw qt(e,a,s);Ht(e,a)}}catch(i){if(i instanceof B)throw i;Ht(e,"network-request-failed",{message:String(i)})}}async function hn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await un(e,t,n,r,i);return"mfaPendingCredential"in o&&Ht(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function fn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?rn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(an.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function pn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Vt(this.auth,"network-request-failed")),ln.get())})}}function mn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vt(e,t,r);return i.customData._tokenResponse=n,i}function yn(e){return void 0!==e&&void 0!==e.enterprise}class vn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bn(e,t){return un(e,"GET","/v2/recaptchaConfig",cn(e,t))}async function _n(e,t){return un(e,"POST","/v1/accounts:lookup",t)}function wn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Sn(e){return 1e3*Number(e)}function kn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const e=w(n);return e?JSON.parse(e):(Wt("Failed to decode base64 JWT payload"),null)}catch(i){return Wt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function xn(e){const t=kn(e);return Qt(t,"internal-error"),Qt("undefined"!==typeof t.exp,"internal-error"),Qt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Cn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof B&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class En{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Tn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function In(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cn(e,_n(n,{idToken:r}));Qt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?Pn(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tn(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Pn(e){return e.map(e=>{let{providerId:t}=e,n=u(e,Mt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qt(e.idToken,"internal-error"),Qt("undefined"!==typeof e.idToken,"internal-error"),Qt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):xn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Qt(0!==e.length,"internal-error");const t=xn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await dn(e,{},async()=>{const n=J({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await fn(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&R(e.emulatorConfig.host)&&(a.credentials="include"),on.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Nn;return n&&(Qt("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Qt("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Qt("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nn,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function Rn(e,t){Qt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class An{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=u(e,Dt);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Cn(this,this.stsTokenManager.getToken(this.auth,e));return Qt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=se(e),r=await n.getIdToken(t),i=kn(r);Qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wn(Sn(i.auth_time)),issuedAtTime:wn(Sn(i.iat)),expirationTime:wn(Sn(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=se(e);await In(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new An(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await In(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vt(this.auth.app))return Promise.reject(Gt(this.auth));const e=await this.getIdToken();return await Cn(this,async function(e,t){return un(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:S,stsTokenManager:k}=t;Qt(b&&k,e,"internal-error");const x=Nn.fromJSON(this.name,k);Qt("string"===typeof b,e,"internal-error"),Rn(d,e.name),Rn(h,e.name),Qt("boolean"===typeof _,e,"internal-error"),Qt("boolean"===typeof w,e,"internal-error"),Rn(f,e.name),Rn(p,e.name),Rn(g,e.name),Rn(m,e.name),Rn(y,e.name),Rn(v,e.name);const C=new An({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:x,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>c({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Nn;r.updateFromServerResponse(t);const i=new An({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await In(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Qt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Pn(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new Nn;s.updateFromIdToken(n);const a=new An({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Tn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const On=new Map;function Ln(e){Zt(e instanceof Function,"Expected a class definition");let t=On.get(e);return t?(Zt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,On.set(e,t),t)}class Mn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mn.type="NONE";const Dn=Mn;function Fn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class jn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Fn(this.userKey,r.apiKey,i),this.fullPersistenceKey=Fn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await _n(this.auth,{idToken:e}).catch(()=>{});return t?An._fromGetAccountInfoResponse(this.auth,t,e):null}return An._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new jn(Ln(Dn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ln(Dn);const o=Fn(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await _n(e,{idToken:t}).catch(()=>{});if(!r)break;n=await An._fromGetAccountInfoResponse(e,r,t)}else n=An._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new jn(i,e,n)):new jn(i,e,n)}}function zn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qn(t))return"Blackberry";if(Gn(t))return"Webos";if(Un(t))return"Safari";if((t.includes("chrome/")||Wn(t))&&!t.includes("edge/"))return"Chrome";if(Vn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/firefox\//i.test(e)}function Un(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/crios\//i.test(e)}function Hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/iemobile/i.test(e)}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/android/i.test(e)}function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/blackberry/i.test(e)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/webos/i.test(e)}function Kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $n(){return function(){const e=D();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D();return Kn(e)||Vn(e)||Gn(e)||qn(e)||/windows phone/i.test(e)||Hn(e)}function Yn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zn(D());break;case"Worker":t="".concat(zn(D()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wt,"/").concat(r)}class Zn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Jn{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Xn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tr(this),this.idTokenSubscription=new tr(this),this.beforeStateQueue=new Zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ln(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await jn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await _n(this,{idToken:e}),n=await An._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await In(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vt(this.app))return Promise.reject(Gt(this));const t=e?se(e):null;return t&&Qt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vt(this.app)?Promise.reject(Gt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vt(this.app)?Promise.reject(Gt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return un(e,"GET","/v2/passwordPolicy",cn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new U("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return un(e,"POST","/v2/accounts:revokeToken",cn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ln(e)||this._popupRedirectResolver;Qt(t,this,"argument-error"),this.redirectPersistenceManager=await jn.create(this,[Ln(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qt(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Ut.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ut.warn("Auth (".concat(wt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function er(e){return se(e)}class tr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ne(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rr(e){return nr.loadJS(e)}function ir(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class or{constructor(){this.enterprise=new sr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ar="NO_RECAPTCHA";class lr{constructor(e){this.type="recaptcha-enterprise",this.auth=er(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;yn(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ar)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new or).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{bn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new vn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&yn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=nr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),rr(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function cr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new lr(e);let s;if(i)s=ar;else try{s=await o.verify(n)}catch(To){s=await o.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ur(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await cr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await cr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await cr(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await cr(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await cr(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function dr(e){const t=er(e),n=await bn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new vn(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new lr(t).verify()}}function hr(e,t,n){const r=er(e);Qt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=fr(t),{host:s,port:a}=function(e){const t=fr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:pr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:pr(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Qt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Qt(Y(c,r.config.emulator)&&Y(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,R(s)?(A("".concat(o,"//").concat(s).concat(l)),M("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class gr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yt("not implemented")}_getIdTokenResponse(e){return Yt("not implemented")}_linkToIdToken(e,t){return Yt("not implemented")}_getReauthenticationResolver(e){return Yt("not implemented")}}async function mr(e,t){return un(e,"POST","/v1/accounts:signUp",t)}async function yr(e,t){return hn(e,"POST","/v1/accounts:signInWithPassword",cn(e,t))}class vr extends gr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vr(e,t,"password")}static _fromEmailAndCode(e,t){return new vr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ur(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return hn(e,"POST","/v1/accounts:signInWithEmailLink",cn(e,t))}(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ur(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return hn(e,"POST","/v1/accounts:signInWithEmailLink",cn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function br(e,t){return hn(e,"POST","/v1/accounts:signInWithIdp",cn(e,t))}class _r extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ht("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=u(t,Ft);if(!n||!r)return null;const o=new _r(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return br(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,br(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,br(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J(t)}return e}}async function wr(e,t){return un(e,"POST","/v1/accounts:sendVerificationCode",cn(e,t))}const Sr={USER_NOT_FOUND:"user-not-found"};class kr extends gr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new kr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new kr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hn(e,"POST","/v1/accounts:signInWithPhoneNumber",cn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await hn(e,"POST","/v1/accounts:signInWithPhoneNumber",cn(e,t));if(n.temporaryProof)throw mn(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hn(e,"POST","/v1/accounts:signInWithPhoneNumber",cn(e,c(c({},t),{},{operation:"REAUTH"})),Sr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new kr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class xr{constructor(e){var t,n,r,i,o,s;const a=X(ee(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Qt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=X(ee(e)).link,n=t?X(ee(t)).deep_link_id:null,r=X(ee(e)).deep_link_id;return(r?X(ee(r)).link:null)||r||n||t||e}(e);try{return new xr(t)}catch(n){return null}}}class Cr{constructor(){this.providerId=Cr.PROVIDER_ID}static credential(e,t){return vr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xr.parseLink(t);return Qt(n,"argument-error"),vr._fromEmailAndCode(e,n.code,n.tenantId)}}Cr.PROVIDER_ID="password",Cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Er{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tr extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ir extends Tr{constructor(){super("facebook.com")}static credential(e){return _r._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch(n){return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ir.PROVIDER_ID="facebook.com";class Pr extends Tr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _r._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch(i){return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com",Pr.PROVIDER_ID="google.com";class Nr extends Tr{constructor(){super("github.com")}static credential(e){return _r._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch(n){return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com",Nr.PROVIDER_ID="github.com";class Rr extends Tr{constructor(){super("twitter.com")}static credential(e,t){return _r._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Rr.credential(n,r)}catch(i){return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com",Rr.PROVIDER_ID="twitter.com";class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await An._fromIdTokenResponse(e,n,r),o=Or(n);return new Ar({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Or(n);return new Ar({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Or(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lr extends B{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lr(e,t,n,r)}}function Mr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lr._fromErrorAndOperation(e,n,t,r);throw n})}async function Dr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Cn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ar._forOperation(e,"link",r)}async function Fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(vt(r.app))return Promise.reject(Gt(r));const i="reauthenticate";try{const o=await Cn(e,Mr(r,i,t,e),n);Qt(o.idToken,r,"internal-error");const s=kn(o.idToken);Qt(s,r,"internal-error");const{sub:a}=s;return Qt(e.uid===a,r,"user-mismatch"),Ar._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Ht(r,"user-mismatch"),o}}async function jr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vt(e.app))return Promise.reject(Gt(e));const r="signIn",i=await Mr(e,r,t),o=await Ar._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function zr(e){return se(e).signOut()}function Br(e,t){return un(e,"POST","/v2/accounts/mfaEnrollment:start",cn(e,t))}new WeakMap;const Ur="__sak";class Wr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ur,"1"),this.storage.removeItem(Ur),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hr extends Wr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);$n()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hr.type="LOCAL";const Vr=Hr;function qr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Gr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Kr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Gr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return qr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Gr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Gr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=qr(n);const i=setInterval(()=>{const e=qr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Kr.type="COOKIE";class $r extends Wr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$r.type="SESSION";const Qr=$r;class Yr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Yr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yr.receivers=[];class Jr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Zr("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Xr(){return window}function ei(){return"undefined"!==typeof Xr().WorkerGlobalScope&&"function"===typeof Xr().importScripts}const ti="firebaseLocalStorageDb",ni="firebaseLocalStorage",ri="fbase_key";class ii{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oi(e,t){return e.transaction([ni],t?"readwrite":"readonly").objectStore(ni)}function si(){const e=indexedDB.open(ti,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ni,{keyPath:ri})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ni)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ti);return new ii(e).toPromise()}(),t(await si()))})})}async function ai(e,t,n){const r=oi(e,!0).put({[ri]:t,value:n});return new ii(r).toPromise()}function li(e,t){const n=oi(e,!0).delete(t);return new ii(n).toPromise()}class ci{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await si()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ei()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yr._getInstance(ei()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Jr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await si();return await ai(e,Ur,"1"),await li(e,Ur),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ai(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=oi(e,!1).get(t),r=await new ii(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>li(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=oi(e,!1).getAll();return new ii(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ci.type="LOCAL";const ui=ci;function di(e,t){return un(e,"POST","/v2/accounts/mfaSignIn:start",cn(e,t))}ir("rcb"),new nn(3e4,6e4);const hi="recaptcha";async function fi(e,t,n){if(!e._getRecaptchaConfig())try{await dr(e)}catch(To){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Qt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=ur(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ar){Qt((null===n||void 0===n?void 0:n.type)===hi,e,"argument-error");return Br(e,await pi(e,t,n))}return Br(e,t)},"PHONE_PROVIDER"),s=await o.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{var r;Qt("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Qt(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=ur(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ar){Qt((null===n||void 0===n?void 0:n.type)===hi,e,"argument-error");return di(e,await pi(e,t,n))}return di(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ur(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ar){Qt((null===n||void 0===n?void 0:n.type)===hi,e,"argument-error");return wr(e,await pi(e,t,n))}return wr(e,t)},"PHONE_PROVIDER"),o=await r.catch(e=>Promise.reject(e));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function pi(e,t,n){Qt(n.type===hi,e,"argument-error");const r=await n.verify();Qt("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class gi{constructor(e){this.providerId=gi.PROVIDER_ID,this.auth=er(e)}verifyPhoneNumber(e,t){return fi(this.auth,e,se(t))}static credential(e,t){return kr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gi.credentialFromTaggedObject(t)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?kr._fromTokenResponse(n,r):null}}function mi(e,t){return t?Ln(t):(Qt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gi.PROVIDER_ID="phone",gi.PHONE_SIGN_IN_METHOD="phone";class yi extends gr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return br(e,this._buildIdpRequest())}_linkToIdToken(e,t){return br(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return br(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vi(e){return jr(e.auth,new yi(e),e.bypassAuthState)}function bi(e){const{auth:t,user:n}=e;return Qt(n,t,"internal-error"),Fr(n,new yi(e),e.bypassAuthState)}async function _i(e){const{auth:t,user:n}=e;return Qt(n,t,"internal-error"),Dr(n,new yi(e),e.bypassAuthState)}class wi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vi;case"linkViaPopup":case"linkViaRedirect":return _i;case"reauthViaPopup":case"reauthViaRedirect":return bi;default:Ht(this.auth,"internal-error")}}resolve(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Si=new nn(2e3,1e4);class ki extends wi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qt(e,this.auth,"internal-error"),e}async onExecution(){Zt(1===this.filter.length,"Popup operations only handle one event");const e=Zr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Vt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Si.get())};e()}}ki.currentPopupAction=null;const xi=new Map;class Ci extends wi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ii(t),r=Ti(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xi.set(this.auth._key(),e)}return this.bypassAuthState||xi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ei(e,t){xi.set(e._key(),t)}function Ti(e){return Ln(e._redirectPersistence)}function Ii(e){return Fn("pendingRedirect",e.config.apiKey,e.name)}async function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vt(e.app))return Promise.reject(Gt(e));const r=er(e),i=mi(r,t),o=new Ci(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ni{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ai(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ai(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ri(e))}saveEventToCache(e){this.cachedEventUids.add(Ri(e)),this.lastProcessedEventTime=Date.now()}}function Ri(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ai(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Oi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Li=/^https?/;async function Mi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return un(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Di(r))return}catch(n){}Ht(e,"unauthorized-domain")}function Di(e){const t=Jt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Li.test(n))return!1;if(Oi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Fi=new nn(3e4,6e4);function ji(){const e=Xr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function zi(e){return new Promise((t,n)=>{var r,i;function o(){ji(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ji(),n(Vt(e,"network-request-failed"))},timeout:Fi.get()})}if(null!==(r=Xr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Xr().gapi)||void 0===i||!i.load){const t=ir("iframefcb");return Xr()[t]=()=>{gapi.load?o():n(Vt(e,"network-request-failed"))},rr("".concat(nr.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Bi=null,e})}let Bi=null;const Ui=new nn(5e3,15e3),Wi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vi(e){const t=e.config;Qt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wt},i=Hi.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(J(r).slice(1))}async function qi(e){const t=await function(e){return Bi=Bi||zi(e),Bi}(e),n=Xr().gapi;return Qt(n,e,"internal-error"),t.open({where:document.body,url:Vi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wi,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Vt(e,"network-request-failed"),o=Xr().setTimeout(()=>{r(i)},Ui.get());function s(){Xr().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Gi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ki{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $i(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Gi),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=D().toLowerCase();n&&(a=Wn(u)?"_blank":n),Bn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Kn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ki(null);const h=window.open(t||"",a,d);Qt(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Ki(h)}const Qi="__/auth/handler",Yi="emulator/auth/handler",Zi=encodeURIComponent("fac");async function Ji(e,t,n,r,i,o){Qt(e.config.authDomain,e,"auth-domain-config-required"),Qt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wt,eventId:i};if(t instanceof Er){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",$(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Tr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Zi,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Qi);return rn(t,Yi)}(e),"?").concat(J(a).slice(1)).concat(c)}const Xi="webStorageSupport";const eo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qr,this._completeRedirectFn=Pi,this._overrideRedirectResult=Ei}async _openPopup(e,t,n,r){var i;Zt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return $i(e,await Ji(e,t,n,Jt(),r),Zr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Xr().location.href=e}(await Ji(e,t,n,Jt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await qi(e),n=new Ni(e);return t.register("authEvent",t=>{Qt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xi,{type:Xi},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Xi];void 0!==i&&t(!!i),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qn()||Un()||Kn()}};var to="@firebase/auth",no="1.12.0";class ro{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const io=P("authIdTokenMaxAge")||300;let oo=null;var so,ao;so={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},nr=so,ao="Browser",mt(new ae("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Qt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ao,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(ao)},c=new Xn(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),mt(new ae("auth-internal",e=>(e=>new ro(e))(er(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),xt(to,no,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ao)),xt(to,no,"esm2020");xt("firebase","12.9.0","app");const lo="@firebase/database",co="1.1.0";let uo="";function ho(e){uo=e}class fo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),V(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:H(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class po{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return G(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const go=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fo(t)}}catch(t){}return new po},mo=go("localStorage"),yo=go("sessionStorage"),vo=new ye("@firebase/database"),bo=function(){let e=1;return function(){return e++}}(),_o=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,p(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new te;n.update(t);const r=n.digest();return y.encodeByteArray(r)},wo=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=wo.apply(null,n):e+="object"===typeof n?V(n):n,e+=" "}return e};let So=null,ko=!0;const xo=function(e,t){p(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(vo.logLevel=he.VERBOSE,So=vo.log.bind(vo),t&&yo.set("logging_enabled",!0)):"function"===typeof e?So=e:(So=null,yo.remove("logging_enabled"))},Co=function(){if(!0===ko&&(ko=!1,null===So&&!0===yo.get("logging_enabled")&&xo(!0)),So){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=wo.apply(null,t);So(r)}},Eo=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Co(e,...n)}},To=function(){const e="FIREBASE INTERNAL ERROR: "+wo(...arguments);vo.error(e)},Io=function(){const e="FIREBASE FATAL ERROR: ".concat(wo(...arguments));throw vo.error(e),new Error(e)},Po=function(){const e="FIREBASE WARNING: "+wo(...arguments);vo.warn(e)},No=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ro="[MIN_NAME]",Ao="[MAX_NAME]",Oo=function(e,t){if(e===t)return 0;if(e===Ro||t===Ao)return-1;if(t===Ro||e===Ao)return 1;{const n=Uo(e),r=Uo(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Lo=function(e,t){return e===t?0:e<t?-1:1},Mo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+V(t))},Do=function(e){if("object"!==typeof e||null===e)return V(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=V(t[r]),n+=":",n+=Do(e[t[r]]);return n+="}",n},Fo=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function jo(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const zo=function(e){p(!No(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Bo=new RegExp("^-?(0*)\\d{1,10}$"),Uo=function(e){if(Bo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Wo=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Po("Exception was thrown by user callback.",e),t},Math.floor(0))}},Ho=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Vo{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,vt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Po('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class qo{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Co("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Po(e)}}class Go{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Go.OWNER="owner";const Ko="5",$o=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qo="ac",Yo="websocket",Zo="long_polling";class Jo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Xo(e,t,n){let r;if(p("string"===typeof t,"typeof type must == string"),p("object"===typeof n,"typeof params must == object"),t===Yo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Zo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return jo(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class es{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;G(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return S(this.counters_)}}const ts={},ns={};function rs(e){const t=e.toString();return ts[t]||(ts[t]=new es),ts[t]}class is{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Wo(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const os="start";class ss{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eo(e),this.stats_=rs(t),this.urlFn=e=>(this.appCheckToken&&(e[Qo]=this.appCheckToken),Xo(t,Zo,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new is(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(z()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new as(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===os)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[os]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Ko,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Qo]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&$o.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ss.forceAllow_=!0}static forceDisallow(){ss.forceDisallow_=!0}static isAvailable(){return!z()&&(!!ss.forceAllow_||!ss.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=V(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=b(t),r=Fo(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(z())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=V(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class as{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,z())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=bo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=as.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Co("frame writing exception"),i.stack&&Co(i.stack),Co(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Co("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){z()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Co("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let ls=null;"undefined"!==typeof MozWebSocket?ls=MozWebSocket:"undefined"!==typeof WebSocket&&(ls=WebSocket);class cs{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eo(this.connId),this.stats_=rs(t),this.connURL=cs.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Ko,!z()&&"undefined"!==typeof location&&location.hostname&&$o.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Qo]=r),i&&(o.p=i),Xo(e,Yo,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mo.set("previous_websocket_failure",!0);try{let e;if(z()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Ko,"/").concat(uo,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/timeline-explorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APPS_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbxop4nj3ZuXK5GdpLZmvjIcnZhbJDY8l9Em6SuheN8ZVXfyRt5hLt3MD6eK8m8USvy6BQ/exec",REACT_APP_SCHOOL_DOMAIN:"universityprep.org",REACT_APP_SECTIONS:"Period1,Period2,Period5",REACT_APP_TEACHER_EMAIL:"jmunsell@universityprep.org"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ls(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){cs.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ls&&!cs.forceDisallow_}static previouslyFailed(){return mo.isInMemoryStorage||!0===mo.get("previous_websocket_failure")}markConnectionHealthy(){mo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=H(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(p(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=V(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Fo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cs.responsesRequiredToBeHealthy=2,cs.healthyTimeout=3e4;class us{static get ALL_TRANSPORTS(){return[ss,cs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=cs&&cs.isAvailable();let n=t&&!cs.previouslyFailed();if(e.webSocketOnly&&(t||Po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[cs];else{const e=this.transports_=[];for(const t of us.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}us.globalTransportInitialized_=!1;class ds{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eo("c:"+this.id+":"),this.transportManager_=new us(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Mo("t",e),n=Mo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Mo("t",e),n=Mo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Mo("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?To("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):To("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ko!==n&&Po("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hs{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class fs{constructor(e){this.allowedEvents_=e,this.listeners_={},p(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){p(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ps extends fs{static getInstance(){return new ps}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||F()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return p("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class gs{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ms(){return new gs("")}function ys(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function vs(e){return e.pieces_.length-e.pieceNum_}function bs(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new gs(e.pieces_,t)}function _s(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ss(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new gs(t,0)}function ks(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof gs)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new gs(n,0)}function xs(e){return e.pieceNum_>=e.pieces_.length}function Cs(e,t){const n=ys(e),r=ys(t);if(null===n)return t;if(n===r)return Cs(bs(e),bs(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Es(e,t){const n=ws(e,0),r=ws(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Oo(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Ts(e,t){if(vs(e)!==vs(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Is(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(vs(e)>vs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ps{constructor(e,t){this.errorPrefix_=t,this.parts_=ws(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=oe(this.parts_[n]);Ns(this)}}function Ns(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rs(e))}function Rs(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class As extends fs{static getInstance(){return new As}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return p("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Os=1e3;class Ls extends hs{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Ls.nextPersistentConnectionId_++,this.log_=Eo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!z())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");As.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ps.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(V(i)),p(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new N,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),p(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),p(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;Ls.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&G(e,"w")){const n=K(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Po("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=q(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=q(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),p(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+V(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):To("Unrecognized action received from server: "+V(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){p(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ls.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){p(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Co("getToken() completed but was canceled"):(Co("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new ds(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Po(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(To){this.log_("Failed to get token: "+To),o||(this.repoInfo_.nodeAdmin&&Po(To),a())}}}interrupt(e){Co("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Co("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Do(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new gs(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Co("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Co("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";z()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+uo.replace(/\./g,"-")]=1,F()?e["framework.cordova"]=1:j()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ps.getInstance().currentlyOnline();return $(this.interruptReasons_)&&e}}Ls.nextPersistentConnectionId_=0,Ls.nextConnectionId_=0;class Ms{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ms(e,t)}}class Ds{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ms(Ro,e),r=new Ms(Ro,t);return 0!==this.compare(n,r)}minPost(){return Ms.MIN}}let Fs;class js extends Ds{static get __EMPTY_NODE(){return Fs}static set __EMPTY_NODE(e){Fs=e}compare(e,t){return Oo(e.name,t.name)}isDefinedOn(e){throw g("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ms.MIN}maxPost(){return new Ms(Ao,Fs)}makePost(e,t){return p("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ms(e,Fs)}toString(){return".key"}}const zs=new js;class Bs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Us{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Us.RED,this.left=null!=r?r:Ws.EMPTY_NODE,this.right=null!=i?i:Ws.EMPTY_NODE}copy(e,t,n,r,i){return new Us(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ws.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ws.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Us.RED=!0,Us.BLACK=!1;class Ws{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ws.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ws(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Us.BLACK,null,null))}remove(e){return new Ws(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Us.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Bs(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Bs(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Bs(this.root_,null,this.comparator_,!0,e)}}function Hs(e,t){return Oo(e.name,t.name)}function Vs(e,t){return Oo(e,t)}let qs;Ws.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Us(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Gs=function(e){return"number"===typeof e?"number:"+zo(e):"string:"+e},Ks=function(e){if(e.isLeafNode()){const t=e.val();p("string"===typeof t||"number"===typeof t||"object"===typeof t&&G(t,".sv"),"Priority must be a string or number.")}else p(e===qs||e.isEmpty(),"priority of unexpected type.");p(e===qs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $s,Qs,Ys;class Zs{static set __childrenNodeConstructor(e){$s=e}static get __childrenNodeConstructor(){return $s}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,p(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ks(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zs(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Zs.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xs(e)?this:".priority"===ys(e)?this.priorityNode_:Zs.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Zs.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ys(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(p(".priority"!==n||1===vs(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Zs.__childrenNodeConstructor.EMPTY_NODE.updateChild(bs(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Gs(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?zo(this.value_):this.value_,this.lazyHash_=_o(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zs.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zs.__childrenNodeConstructor?-1:(p(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Zs.VALUE_TYPE_ORDER.indexOf(t),i=Zs.VALUE_TYPE_ORDER.indexOf(n);return p(r>=0,"Unknown leaf type: "+t),p(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Zs.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Js=new class extends Ds{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Oo(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ms.MIN}maxPost(){return new Ms(Ao,new Zs("[PRIORITY-POST]",Ys))}makePost(e,t){const n=Qs(e);return new Ms(t,new Zs("[PRIORITY-POST]",n))}toString(){return".priority"}},Xs=Math.log(2);class ea{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Xs,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ta=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Us(a,s.node,Us.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Us(a,s.node,Us.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Us(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Us.BLACK):(a(r,Us.BLACK),a(r,Us.RED))}return o}(new ea(e.length));return new Ws(r||t,o)};let na;const ra={};class ia{static get Default(){return p(ra&&Js,"ChildrenNode.ts has not been loaded"),na=na||new ia({".priority":ra},{".priority":Js}),na}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=K(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ws?t:null}hasIndex(e){return G(this.indexSet_,e.toString())}addIndex(e,t){p(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Ms.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?ta(n,e.getCompare()):ra;const a=e.toString(),l=c({},this.indexSet_);l[a]=e;const u=c({},this.indexes_);return u[a]=o,new ia(u,l)}addToIndexes(e,t){const n=Q(this.indexes_,(n,r)=>{const i=K(this.indexSet_,r);if(p(i,"Missing index implementation for "+r),n===ra){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Ms.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),ta(n,i.getCompare())}return ra}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Ms(e.name,r))),i.insert(e,e.node)}});return new ia(n,this.indexSet_)}removeFromIndexes(e,t){const n=Q(this.indexes_,n=>{if(n===ra)return n;{const r=t.get(e.name);return r?n.remove(new Ms(e.name,r)):n}});return new ia(n,this.indexSet_)}}let oa;class sa{static get EMPTY_NODE(){return oa||(oa=new sa(new Ws(Vs),null,ia.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ks(this.priorityNode_),this.children_.isEmpty()&&p(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oa}updatePriority(e){return this.children_.isEmpty()?this:new sa(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?oa:t}}getChild(e){const t=ys(e);return null===t?this:this.getImmediateChild(t).getChild(bs(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(p(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ms(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?oa:this.priorityNode_;return new sa(r,o,i)}}updateChild(e,t){const n=ys(e);if(null===n)return t;{p(".priority"!==ys(e)||1===vs(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(bs(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Js,(o,s)=>{t[o]=s.val(e),n++,i&&sa.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Gs(this.getPriority().val())+":"),this.forEachChild(Js,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":_o(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Ms(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ms(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ms(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Ms.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Ms.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===aa?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new sa(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Js),n=t.getIterator(Js);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}sa.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const aa=new class extends sa{constructor(){super(new Ws(Vs),sa.EMPTY_NODE,ia.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sa.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ms,{MIN:{value:new Ms(Ro,sa.EMPTY_NODE)},MAX:{value:new Ms(Ao,aa)}}),js.__EMPTY_NODE=sa.EMPTY_NODE,Zs.__childrenNodeConstructor=sa,qs=aa,function(e){Ys=e}(aa);function la(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return sa.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),p(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Zs(e,la(t))}if(e instanceof Array){let n=sa.EMPTY_NODE;return jo(e,(t,r)=>{if(G(e,t)&&"."!==t.substring(0,1)){const e=la(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(la(t))}{const n=[];let r=!1;if(jo(e,(e,t)=>{if("."!==e.substring(0,1)){const i=la(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Ms(e,i)))}}),0===n.length)return sa.EMPTY_NODE;const i=ta(n,Hs,e=>e.name,Vs);if(r){const e=ta(n,Js.getCompare());return new sa(i,la(t),new ia({".priority":e},{".priority":Js}))}return new sa(i,la(t),ia.Default)}}!function(e){Qs=e}(la);class ca extends Ds{constructor(e){super(),this.indexPath_=e,p(!xs(e)&&".priority"!==ys(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Oo(e.name,t.name):i}makePost(e,t){const n=la(e),r=sa.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ms(t,r)}maxPost(){const e=sa.EMPTY_NODE.updateChild(this.indexPath_,aa);return new Ms(Ao,e)}toString(){return ws(this.indexPath_,0).join("/")}}const ua=new class extends Ds{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Oo(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ms.MIN}maxPost(){return Ms.MAX}makePost(e,t){const n=la(e);return new Ms(t,n)}toString(){return".value"}};function da(e){return{type:"value",snapshotNode:e}}function ha(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ga{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){p(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(fa(t,s)):p(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ha(t,n)):o.trackChildChange(pa(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Js,(e,r)=>{t.hasChild(e)||n.trackChildChange(fa(e,r))}),t.isLeafNode()||t.forEachChild(Js,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(pa(t,r,i))}else n.trackChildChange(ha(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?sa.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ma{constructor(e){this.indexedFilter_=new ga(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ma.getStartPost_(e),this.endPost_=ma.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Ms(t,n))||(n=sa.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=sa.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(sa.EMPTY_NODE);const i=this;return t.forEachChild(Js,(e,t)=>{i.matches(new Ms(e,t))||(r=r.updateImmediateChild(e,sa.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ya{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ma(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ms(t,n))||(n=sa.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=sa.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=sa.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(sa.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,sa.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;p(s.numChildren()===this.limit_,"");const a=new Ms(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(pa(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(fa(t,e));const n=s.updateImmediateChild(t,sa.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(ha(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(fa(l.name,l.node)),i.trackChildChange(ha(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,sa.EMPTY_NODE)):e}}class va{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Js}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return p(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return p(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ro}hasEnd(){return this.endSet_}getIndexEndValue(){return p(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return p(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ao}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return p(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Js}copy(){const e=new va;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ba(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _a(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function wa(e,t){const n=e.copy();return n.index_=t,n}function Sa(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Js?n="$priority":e.index_===ua?n="$value":e.index_===zs?n="$key":(p(e.index_ instanceof ca,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=V(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=V(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+V(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=V(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+V(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ka(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Js&&(t.i=e.index_.toString()),t}class xa extends hs{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(p(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Eo("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=xa.getListenId_(e,n),s={};this.listens_[o]=s;const a=Sa(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),K(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=xa.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Sa(e._queryParams),n=e._path.toString(),r=new N;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+J(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=H(a.responseText)}catch(e){Po("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Po("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Ca{constructor(){this.rootNode_=sa.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ea(){return{value:null,children:new Map}}function Ta(e,t,n){if(xs(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ys(t);e.children.has(r)||e.children.set(r,Ea());Ta(e.children.get(r),t=bs(t),n)}}function Ia(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Ia(r,new gs(t.toString()+"/"+e),n)})}class Pa{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&jo(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Na{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pa(e);const n=1e4+2e4*Math.random();Ho(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;jo(e,(e,r)=>{r>0&&G(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Ho(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ra;function Aa(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ra||(Ra={}));class Oa{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ra.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xs(this.path)){if(null!=this.affectedTree.value)return p(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new gs(e));return new Oa(ms(),t,this.revert)}}return p(ys(this.path)===e,"operationForChild called for unrelated child."),new Oa(bs(this.path),this.affectedTree,this.revert)}}class La{constructor(e,t){this.source=e,this.path=t,this.type=Ra.LISTEN_COMPLETE}operationForChild(e){return xs(this.path)?new La(this.source,ms()):new La(this.source,bs(this.path))}}class Ma{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ra.OVERWRITE}operationForChild(e){return xs(this.path)?new Ma(this.source,ms(),this.snap.getImmediateChild(e)):new Ma(this.source,bs(this.path),this.snap)}}class Da{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ra.MERGE}operationForChild(e){if(xs(this.path)){const t=this.children.subtree(new gs(e));return t.isEmpty()?null:t.value?new Ma(this.source,ms(),t.value):new Da(this.source,ms(),t)}return p(ys(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Da(this.source,bs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fa{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xs(e))return this.isFullyInitialized()&&!this.filtered_;const t=ys(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ja{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function za(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw g("Should only compare child_ events.");const r=new Ms(t.childName,t.snapshotNode),i=new Ms(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Ba(e,t){return{eventCache:e,serverCache:t}}function Ua(e,t,n,r){return Ba(new Fa(t,n,r),e.serverCache)}function Wa(e,t,n,r){return Ba(e.eventCache,new Fa(t,n,r))}function Ha(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Va(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let qa;class Ga{static fromObject(e){let t=new Ga(null);return jo(e,(e,n)=>{t=t.set(new gs(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(qa||(qa=new Ws(Lo)),qa);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ms(),value:this.value};if(xs(e))return null;{const n=ys(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(bs(e),t);if(null!=i){return{path:ks(new gs(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xs(e))return this;{const t=ys(e),n=this.children.get(t);return null!==n?n.subtree(bs(e)):new Ga(null)}}set(e,t){if(xs(e))return new Ga(t,this.children);{const n=ys(e),r=(this.children.get(n)||new Ga(null)).set(bs(e),t),i=this.children.insert(n,r);return new Ga(this.value,i)}}remove(e){if(xs(e))return this.children.isEmpty()?new Ga(null):new Ga(null,this.children);{const t=ys(e),n=this.children.get(t);if(n){const r=n.remove(bs(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Ga(null):new Ga(this.value,i)}return this}}get(e){if(xs(e))return this.value;{const t=ys(e),n=this.children.get(t);return n?n.get(bs(e)):null}}setTree(e,t){if(xs(e))return t;{const n=ys(e),r=(this.children.get(n)||new Ga(null)).setTree(bs(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ga(this.value,i)}}fold(e){return this.fold_(ms(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(ks(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ms(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(xs(e))return null;{const r=ys(e),i=this.children.get(r);return i?i.findOnPath_(bs(e),ks(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ms(),t)}foreachOnPath_(e,t,n){if(xs(e))return this;{this.value&&n(t,this.value);const r=ys(e),i=this.children.get(r);return i?i.foreachOnPath_(bs(e),ks(t,r),n):new Ga(null)}}foreach(e){this.foreach_(ms(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(ks(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Ka{constructor(e){this.writeTree_=e}static empty(){return new Ka(new Ga(null))}}function $a(e,t,n){if(xs(t))return new Ka(new Ga(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Cs(i,t);return o=o.updateChild(s,n),new Ka(e.writeTree_.set(i,o))}{const r=new Ga(n),i=e.writeTree_.setTree(t,r);return new Ka(i)}}}function Qa(e,t,n){let r=e;return jo(n,(e,n)=>{r=$a(r,ks(t,e),n)}),r}function Ya(e,t){if(xs(t))return Ka.empty();{const n=e.writeTree_.setTree(t,new Ga(null));return new Ka(n)}}function Za(e,t){return null!=Ja(e,t)}function Ja(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Cs(n.path,t)):null}function Xa(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Js,(e,n)=>{t.push(new Ms(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Ms(e,n.value))}),t}function el(e,t){if(xs(t))return e;{const n=Ja(e,t);return new Ka(null!=n?new Ga(n):e.writeTree_.subtree(t))}}function tl(e){return e.writeTree_.isEmpty()}function nl(e,t){return rl(ms(),e.writeTree_,t)}function rl(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(p(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rl(ks(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ks(e,".priority"),r)),n}}function il(e,t){return yl(t,e)}function ol(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);p(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&sl(t,r.path)?i=!1:Is(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=ll(e.allWrites,al,ms()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Ya(e.visibleWrites,r.path);else{jo(r.children,t=>{e.visibleWrites=Ya(e.visibleWrites,ks(r.path,t))})}return!0}return!1}function sl(e,t){if(e.snap)return Is(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Is(ks(e.path,n),t))return!0;return!1}function al(e){return e.visible}function ll(e,t,n){let r=Ka.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Is(n,e)?(t=Cs(n,e),r=$a(r,t,o.snap)):Is(e,n)&&(t=Cs(e,n),r=$a(r,ms(),o.snap.getChild(t)));else{if(!o.children)throw g("WriteRecord should have .snap or .children");if(Is(n,e))t=Cs(n,e),r=Qa(r,t,o.children);else if(Is(e,n))if(t=Cs(e,n),xs(t))r=Qa(r,ms(),o.children);else{const e=K(o.children,ys(t));if(e){const n=e.getChild(bs(t));r=$a(r,ms(),n)}}}}}return r}function cl(e,t,n,r,i){if(r||i){const o=el(e.visibleWrites,t);if(!i&&tl(o))return n;if(i||null!=n||Za(o,ms())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Is(e.path,t)||Is(t,e.path))};return nl(ll(e.allWrites,o,t),n||sa.EMPTY_NODE)}return null}{const r=Ja(e.visibleWrites,t);if(null!=r)return r;{const r=el(e.visibleWrites,t);if(tl(r))return n;if(null!=n||Za(r,ms())){return nl(r,n||sa.EMPTY_NODE)}return null}}}function ul(e,t,n,r){return cl(e.writeTree,e.treePath,t,n,r)}function dl(e,t){return function(e,t,n){let r=sa.EMPTY_NODE;const i=Ja(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Js,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=el(e.visibleWrites,t);return n.forEachChild(Js,(e,t)=>{const n=nl(el(i,new gs(e)),t);r=r.updateImmediateChild(e,n)}),Xa(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Xa(el(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function hl(e,t,n,r){return function(e,t,n,r,i){p(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ks(t,n);if(Za(e.visibleWrites,o))return null;{const t=el(e.visibleWrites,o);return tl(t)?i.getChild(n):nl(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function fl(e,t){return function(e,t){return Ja(e.visibleWrites,t)}(e.writeTree,ks(e.treePath,t))}function pl(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=el(e.visibleWrites,t),c=Ja(l,ms());if(null!=c)a=c;else{if(null==n)return[];a=nl(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function gl(e,t,n){return function(e,t,n,r){const i=ks(t,n),o=Ja(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return nl(el(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ml(e,t){return yl(ks(e.treePath,t),e.writeTree)}function yl(e,t){return{treePath:e,writeTree:t}}class vl{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;p("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),p(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,pa(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,fa(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ha(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw g("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,pa(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const bl=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class _l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gl(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Va(this.viewCache_),i=pl(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function wl(e,t,n,r,i){const o=new vl;let s,a;if(n.type===Ra.OVERWRITE){const l=n;l.source.fromUser?s=xl(e,t,l.path,l.snap,r,i,o):(p(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!xs(l.path),s=kl(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Ra.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=ks(n,r);Cl(t,ys(c))&&(a=xl(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=ks(n,r);Cl(t,ys(c))||(a=xl(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(p(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Tl(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Ra.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=fl(r,n))return t;{const a=new _l(r,t,i),l=t.eventCache.getNode();let c;if(xs(n)||".priority"===ys(n)){let n;if(t.serverCache.isFullyInitialized())n=ul(r,Va(t));else{const e=t.serverCache.getNode();p(e instanceof sa,"serverChildren would be complete if leaf node"),n=dl(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=ys(n);let u=gl(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,bs(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,sa.EMPTY_NODE,bs(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ul(r,Va(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=fl(r,ms()),Ua(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=fl(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(xs(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kl(e,t,n,l.getNode().getChild(n),i,o,a,s);if(xs(n)){let r=new Ga(null);return l.getNode().forEachChild(zs,(e,t)=>{r=r.set(new gs(e),t)}),Tl(e,t,n,r,i,o,a,s)}return t}{let c=new Ga(null);return r.foreach((e,t)=>{const r=ks(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Tl(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Ra.LISTEN_COMPLETE)throw g("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Wa(t,o.getNode(),o.isFullyInitialized()||xs(n),o.isFiltered());return Sl(e,s,n,r,bl,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ha(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(da(Ha(t)))}}(t,s,l),{viewCache:s,changes:l}}function Sl(e,t,n,r,i,o){const s=t.eventCache;if(null!=fl(r,n))return t;{let a,l;if(xs(n))if(p(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Va(t),i=dl(r,n instanceof sa?n:sa.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ul(r,Va(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=ys(n);if(".priority"===c){p(1===vs(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=hl(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=bs(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=hl(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=gl(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Ua(t,a,s.isFullyInitialized()||xs(n),e.filter.filtersNodes())}}function kl(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(xs(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=ys(n);if(!l.isCompleteForPath(n)&&vs(n)>1)return t;const i=bs(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,bl,null)}const d=Wa(t,c,l.isFullyInitialized()||xs(n),u.filtersNodes());return Sl(e,d,n,i,new _l(i,d,o),a)}function xl(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new _l(i,t,o);if(xs(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ua(t,c,!0,e.filter.filtersNodes());else{const i=ys(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ua(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=bs(n),c=a.getNode().getImmediateChild(i);let d;if(xs(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===_s(o)&&e.getChild(Ss(o)).isEmpty()?e:e.updateChild(o,r):sa.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ua(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Cl(e,t){return e.eventCache.isCompleteForChild(t)}function El(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Tl(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=xs(n)?r:new Ga(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=El(0,t.serverCache.getNode().getImmediateChild(n),r);c=kl(e,c,new gs(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=El(0,t.serverCache.getNode().getImmediateChild(n),r);c=kl(e,c,new gs(n),l,i,o,s,a)}}),c}class Il{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ga(n.getIndex()),i=(o=n).loadsAllData()?new ga(o.getIndex()):o.hasLimit()?new ya(o):new ma(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(sa.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(sa.EMPTY_NODE,a.getNode(),null),u=new Fa(l,s.isFullyInitialized(),r.filtersNodes()),d=new Fa(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ba(d,u),this.eventGenerator_=new ja(this.query_)}get query(){return this.query_}}function Pl(e,t){const n=Va(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xs(t)&&!n.getImmediateChild(ys(t)).isEmpty())?n.getChild(t):null}function Nl(e){return 0===e.eventRegistrations_.length}function Rl(e,t,n){const r=[];if(n){p(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Al(e,t,n,r){t.type===Ra.MERGE&&null!==t.source.queryId&&(p(Va(e.viewCache_),"We should always have a full cache before handling merges"),p(Ha(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=wl(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,p(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),p(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),p(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ol(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ol(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),za(e,i,"child_removed",t,r,n),za(e,i,"child_added",t,r,n),za(e,i,"child_moved",o,r,n),za(e,i,"child_changed",t,r,n),za(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Ll,Ml;class Dl{constructor(){this.views=new Map}}function Fl(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return p(null!=o,"SyncTree gave us an op for an invalid query."),Al(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Al(o,t,n,r));return i}}function jl(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=ul(n,i?r:null),o=!1;e?o=!0:r instanceof sa?(e=dl(n,r),o=!1):(e=sa.EMPTY_NODE,o=!1);const s=Ba(new Fa(e,o,!1),new Fa(r,i,!1));return new Il(t,s)}return s}function zl(e,t,n,r,i,o){const s=jl(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Js,(e,t)=>{r.push(ha(e,t))});return n.isFullyInitialized()&&r.push(da(n.getNode())),Ol(e,r,n.getNode(),t)}(s,n)}function Bl(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=ql(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Rl(c,n,r)),Nl(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Rl(t,n,r)),Nl(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!ql(e)&&o.push(new(p(Ll,"Reference.ts has not been loaded"),Ll)(t._repo,t._path)),{removed:o,events:s}}function Ul(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Wl(e,t){let n=null;for(const r of e.views.values())n=n||Pl(r,t);return n}function Hl(e,t){if(t._queryParams.loadsAllData())return Gl(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Vl(e,t){return null!=Hl(e,t)}function ql(e){return null!=Gl(e)}function Gl(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Kl=1;class $l{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ga(null),this.pendingWriteTree_={visibleWrites:Ka.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ql(e,t,n,r,i){return function(e,t,n,r,i){p(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=$a(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?rc(e,new Ma({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Yl(e,t,n,r){!function(e,t,n,r){p(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Qa(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Ga.fromObject(n);return rc(e,new Da({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Zl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ol(e.pendingWriteTree_,t)){let t=new Ga(null);return null!=r.snap?t=t.set(ms(),!0):jo(r.children,e=>{t=t.set(new gs(e),!0)}),rc(e,new Oa(r.path,t,n))}return[]}function Jl(e,t,n){return rc(e,new Ma({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xl(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Vl(s,t))){const l=Bl(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>ql(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&ql(t)){return[Gl(t)]}{let e=[];return t&&(e=Ul(t)),jo(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=sc(e,r);e.listenProvider_.startListening(hc(i),ac(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(hc(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(lc(t));e.listenProvider_.stopListening(hc(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=lc(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function ec(e,t,n,r){const i=cc(e,r);if(null!=i){const r=uc(i),o=r.path,s=r.queryId,a=Cs(o,t);return dc(e,o,new Ma(Aa(s),a,n))}return[]}function tc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Cs(e,i);o=o||Wl(t,n),s=s||ql(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||ql(l),o=o||Wl(l,ms())):(l=new Dl,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=sa.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Wl(t,ms());n&&(o=o.updateImmediateChild(e,n))})}const c=Vl(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=lc(t);p(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Kl++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=zl(l,t,n,il(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Hl(l,t);u=u.concat(function(e,t,n){const r=t._path,i=ac(e,t),o=sc(e,n),s=e.listenProvider_.startListening(hc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)p(!ql(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!xs(e)&&t&&ql(t))return[Gl(t).query];{let e=[];return t&&(e=e.concat(Ul(t).map(e=>e.query))),jo(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(hc(r),ac(e,r))}}return s}(e,t,n))}return u}function nc(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Wl(n,Cs(e,t));if(r)return r});return cl(r,t,i,n,!0)}function rc(e,t){return ic(t,e.syncPointTree_,null,il(e.pendingWriteTree_,ms()))}function ic(e,t,n,r){if(xs(e.path))return oc(e,t,n,r);{const i=t.get(ms());null==n&&null!=i&&(n=Wl(i,ms()));let o=[];const s=ys(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=ml(r,s);o=o.concat(ic(a,l,e,t))}return i&&(o=o.concat(Fl(i,e,r,n))),o}}function oc(e,t,n,r){const i=t.get(ms());null==n&&null!=i&&(n=Wl(i,ms()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=ml(r,t),l=e.operationForChild(t);l&&(o=o.concat(oc(l,i,s,a)))}),i&&(o=o.concat(Fl(i,e,r,n))),o}function sc(e,t){const n=t.query,r=ac(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||sa.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=cc(e,n);if(r){const n=uc(r),i=n.path,o=n.queryId,s=Cs(i,t);return dc(e,i,new La(Aa(o),s))}return[]}(e,n._path,r):function(e,t){return rc(e,new La({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Xl(e,n,null,r)}}}}function ac(e,t){const n=lc(t);return e.queryToTagMap.get(n)}function lc(e){return e._path.toString()+"$"+e._queryIdentifier}function cc(e,t){return e.tagToQueryMap.get(t)}function uc(e){const t=e.indexOf("$");return p(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new gs(e.substr(0,t))}}function dc(e,t,n){const r=e.syncPointTree_.get(t);p(r,"Missing sync point for query tag that we're tracking");return Fl(r,n,il(e.pendingWriteTree_,t),null)}function hc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(p(Ml,"Reference.ts has not been loaded"),Ml)(e._repo,e._path):e}class fc{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fc(t)}node(){return this.node_}}class pc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ks(this.path_,e);return new pc(this.syncTree_,t)}node(){return nc(this.syncTree_,this.path_)}}const gc=function(e,t,n){return e&&"object"===typeof e?(p(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?mc(e[".sv"],t,n):"object"===typeof e[".sv"]?yc(e[".sv"],t):void p(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mc=function(e,t,n){if("timestamp"===e)return n.timestamp;p(!1,"Unexpected server value: "+e)},yc=function(e,t,n){e.hasOwnProperty("increment")||p(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&p(!1,"Unexpected increment value: "+r);const i=t.node();if(p(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},vc=function(e,t,n,r){return _c(t,new pc(n,e),r)},bc=function(e,t,n){return _c(e,new fc(t),n)};function _c(e,t,n){const r=e.getPriority().val(),i=gc(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=gc(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Zs(o,la(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Zs(i))),r.forEachChild(Js,(e,r)=>{const i=_c(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Sc(e,t){let n=t instanceof gs?t:new gs(t),r=e,i=ys(n);for(;null!==i;){const e=K(r.node.children,i)||{children:{},childCount:0};r=new wc(i,r,e),n=bs(n),i=ys(n)}return r}function kc(e){return e.node.value}function xc(e,t){e.node.value=t,Pc(e)}function Cc(e){return e.node.childCount>0}function Ec(e,t){jo(e.node.children,(n,r)=>{t(new wc(n,e,r))})}function Tc(e,t,n,r){n&&!r&&t(e),Ec(e,e=>{Tc(e,t,!0,r)}),n&&r&&t(e)}function Ic(e){return new gs(null===e.parent?e.name:Ic(e.parent)+"/"+e.name)}function Pc(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===kc(e)&&!Cc(e)}(n),i=G(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Pc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Pc(e))}(e.parent,e.name,e)}const Nc=/[\[\].#$\/\u0000-\u001F\u007F]/,Rc=/[\[\].#$\u0000-\u001F\u007F]/,Ac=10485760,Oc=function(e){return"string"===typeof e&&0!==e.length&&!Nc.test(e)},Lc=function(e){return"string"===typeof e&&0!==e.length&&!Rc.test(e)},Mc=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!No(e)||e&&"object"===typeof e&&G(e,".sv")},Dc=function(e,t,n,r){r&&void 0===t||Fc(ie(e,"value"),t,n)},Fc=function(e,t,n){const r=n instanceof gs?new Ps(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Rs(r));if("function"===typeof t)throw new Error(e+"contains a function "+Rs(r)+" with contents = "+t.toString());if(No(t))throw new Error(e+"contains "+t.toString()+" "+Rs(r));if("string"===typeof t&&t.length>Ac/3&&oe(t)>Ac)throw new Error(e+"contains a string greater than "+Ac+" utf8 bytes "+Rs(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(jo(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Oc(t)))throw new Error(e+" contains an invalid key ("+t+") "+Rs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=oe(t),Ns(e)}(r,t),Fc(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=oe(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},jc=function(e,t,n,r){if(r&&void 0===t)return;const i=ie(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];jo(t,(e,t)=>{const r=new gs(e);if(Fc(i,t,ks(n,r)),".priority"===_s(r)&&!Mc(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=ws(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Oc(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Es);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Is(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},zc=function(e,t,n,r){if((!r||void 0!==n)&&!Oc(n))throw new Error(ie(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bc=function(e,t,n,r){if((!r||void 0!==n)&&!Lc(n))throw new Error(ie(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uc=function(e,t){if(".info"===ys(t))throw new Error(e+" failed = Can't modify data under /.info/")},Wc=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Oc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lc(e)}(n))throw new Error(ie(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Ts(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function qc(e,t,n){Vc(e,n),Kc(e,e=>Ts(e,t))}function Gc(e,t,n){Vc(e,n),Kc(e,e=>Is(e,t)||Is(t,e))}function Kc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?($c(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function $c(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();So&&Co("event: "+n.toString()),Wo(r)}}}const Qc="repo_interrupt";class Yc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ea(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zc(e,t,n){if(e.stats_=rs(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xa(e.repoInfo_,(t,n,r,i)=>{eu(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>tu(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{V(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ls(e.repoInfo_,t,(t,n,r,i)=>{eu(e,t,n,r,i)},t=>{tu(e,t)},t=>{!function(e,t){jo(t,(t,n)=>{nu(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ns[n]||(ns[n]=t()),ns[n]}(e.repoInfo_,()=>new Na(e.stats_,e.server_)),e.infoData_=new Ca,e.infoSyncTree_=new $l({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Jl(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),nu(e,"connected",!1),e.serverSyncTree_=new $l({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);Gc(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Jc(e){const t=e.infoData_.getNode(new gs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Xc(e){return(t=(t={timestamp:Jc(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function eu(e,t,n,r,i){e.dataUpdateCount++;const o=new gs(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Q(n,e=>la(e));s=function(e,t,n,r){const i=cc(e,r);if(i){const r=uc(i),o=r.path,s=r.queryId,a=Cs(o,t),l=Ga.fromObject(n);return dc(e,o,new Da(Aa(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=la(n);s=ec(e.serverSyncTree_,o,t,i)}else if(r){const t=Q(n,e=>la(e));s=function(e,t,n){const r=Ga.fromObject(n);return rc(e,new Da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=la(n);s=Jl(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=du(e,o)),Gc(e.eventQueue_,a,s)}function tu(e,t){nu(e,"connected",t),!1===t&&function(e){au(e,"onDisconnectEvents");const t=Xc(e),n=Ea();Ia(e.onDisconnect_,ms(),(r,i)=>{const o=vc(r,i,e.serverSyncTree_,t);Ta(n,r,o)});let r=[];Ia(n,ms(),(t,n)=>{r=r.concat(Jl(e.serverSyncTree_,t,n));const i=mu(e,t);du(e,i)}),e.onDisconnect_=Ea(),Gc(e.eventQueue_,ms(),r)}(e)}function nu(e,t,n){const r=new gs("/.info/"+t),i=la(n);e.infoData_.updateSnapshot(r,i);const o=Jl(e.infoSyncTree_,r,i);Gc(e.eventQueue_,r,o)}function ru(e){return e.nextWriteId_++}function iu(e,t,n,r,i){au(e,"set",{path:t.toString(),value:n,priority:r});const o=Xc(e),s=la(n,r),a=nc(e.serverSyncTree_,t),l=bc(s,a,o),c=ru(e),u=Ql(e.serverSyncTree_,t,l,c,!0);Vc(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||Po("set at "+t+" failed: "+n);const s=Zl(e.serverSyncTree_,c,!o);Gc(e.eventQueue_,t,s),lu(e,i,n,r)});const d=mu(e,t);du(e,d),Gc(e.eventQueue_,d,[])}function ou(e,t,n){let r;r=".info"===ys(t._path)?Xl(e.infoSyncTree_,t,n):Xl(e.serverSyncTree_,t,n),qc(e.eventQueue_,t._path,r)}function su(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qc)}function au(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Co(t,...r)}function lu(e,t,n,r){t&&Wo(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function cu(e,t,n){return nc(e.serverSyncTree_,t,n)||sa.EMPTY_NODE}function uu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||gu(e,t),kc(t)){const n=fu(e,t);p(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=cu(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];p(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Cs(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{au(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Zl(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();gu(e,Sc(e.transactionQueueTree_,t)),uu(e,e.transactionQueueTree_),Gc(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Wo(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Po("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}du(e,t)}},s)}(e,Ic(t),n)}else Cc(t)&&Ec(t,t=>{uu(e,t)})}function du(e,t){const n=hu(e,t),r=Ic(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=Cs(n,o.path);let c,u=!1;if(p(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(Zl(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(Zl(e.serverSyncTree_,o.currentWriteId,!0));else{const n=cu(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){Fc("transaction failed: Data returned ",r,o.path);let t=la(r);"object"===typeof r&&null!=r&&G(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Xc(e),c=bc(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=ru(e),s.splice(s.indexOf(a),1),i=i.concat(Ql(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Zl(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Zl(e.serverSyncTree_,o.currentWriteId,!0))}Gc(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}gu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Wo(r[a]);uu(e,e.transactionQueueTree_)}(e,fu(e,n),r),r}function hu(e,t){let n,r=e.transactionQueueTree_;for(n=ys(t);null!==n&&void 0===kc(r);)r=Sc(r,n),n=ys(t=bs(t));return r}function fu(e,t){const n=[];return pu(e,t,n),n.sort((e,t)=>e.order-t.order),n}function pu(e,t,n){const r=kc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ec(t,t=>{pu(e,t,n)})}function gu(e,t){const n=kc(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,xc(t,n.length>0?n:void 0)}Ec(t,t=>{gu(e,t)})}function mu(e,t){const n=Ic(hu(e,t)),r=Sc(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{yu(e,t)}),yu(e,r),Tc(r,t=>{yu(e,t)}),n}function yu(e,t){const n=kc(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(p(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(p(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Zl(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xc(t,void 0):n.length=o+1,Gc(e.eventQueue_,Ic(t),i);for(let e=0;e<r.length;e++)Wo(r[e])}}const vu=function(e,t){const n=bu(e),r=n.namespace;"firebase.com"===n.domain&&Io(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Jo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new gs(n.pathString)}},bu=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Po("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},_u="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wu=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=_u.charAt(n%64),n=Math.floor(n/64);p(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=_u.charAt(t[i]);return p(20===s.length,"nextPushId: Length should be 20."),s}}();class Su{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+V(this.snapshot.exportVal())}}class ku{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xu{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return p(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Cu{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return xs(this._path)?null:_s(this._path)}get ref(){return new Pu(this._repo,this._path)}get _queryIdentifier(){const e=ka(this._queryParams),t=Do(e);return"{}"===t?"default":t}get _queryObject(){return ka(this._queryParams)}isEqual(e){if(!((e=se(e))instanceof Cu))return!1;const t=this._repo===e._repo,n=Ts(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Eu(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Tu(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ro)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Ao)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Js){if(null!=t&&!Mc(t)||null!=n&&!Mc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(p(e.getIndex()instanceof ca||e.getIndex()===ua,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Iu(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Pu extends Cu{constructor(e,t){super(e,t,new va,!1)}get parent(){const e=Ss(this._path);return null===e?null:new Pu(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Nu{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new gs(e),n=Au(this.ref,e);return new Nu(this._node.getChild(t),n,Js)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Nu(n,Au(this.ref,t),Js)))}hasChild(e){const t=new gs(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ru(e,t){return(e=se(e))._checkNotDeleted("ref"),void 0!==t?Au(e._root,t):e._root}function Au(e,t){var n,r,i,o;return null===ys((e=se(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Bc(n,r,i,o)):Bc("child","path",t,!1),new Pu(e._repo,ks(e._path,t))}function Ou(e,t){e=se(e),Uc("push",e._path),Dc("push",t,e._path,!0);const n=Jc(e._repo),r=wu(n),i=Au(e,r),o=Au(e,r);let s;return s=null!=t?Mu(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Lu(e){return Uc("remove",e._path),Mu(e,null)}function Mu(e,t){e=se(e),Uc("set",e._path),Dc("set",t,e._path,!1);const n=new N;return iu(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Du(e,t){jc("update",t,e._path,!1);const n=new N;return function(e,t,n,r){au(e,"update",{path:t.toString(),value:n});let i=!0;const o=Xc(e),s={};if(jo(n,(n,r)=>{i=!1,s[n]=vc(ks(t,n),la(r),e.serverSyncTree_,o)}),i)Co("update() called with empty data.  Don't do anything."),lu(0,r,"ok",void 0);else{const i=ru(e),o=Yl(e.serverSyncTree_,t,s,i);Vc(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||Po("update at "+t+" failed: "+n);const a=Zl(e.serverSyncTree_,i,!s),l=a.length>0?du(e,t):t;Gc(e.eventQueue_,l,a),lu(0,r,n,o)}),jo(n,n=>{const r=mu(e,ks(t,n));du(e,r)}),Gc(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Fu{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Su("value",this,new Nu(e.snapshotNode,new Pu(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ku(this,e,t):null}matches(e){return e instanceof Fu&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ju{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ku(this,e,t):null}createEvent(e,t){p(null!=e.childName,"Child events should have a childName.");const n=Au(new Pu(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Su(e.type,this,new Nu(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ju&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function zu(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ou(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new xu(n,o||void 0),a="value"===t?new Fu(s):new ju(t,s);return function(e,t,n){let r;r=".info"===ys(t._path)?tc(e.infoSyncTree_,t,n):tc(e.serverSyncTree_,t,n),qc(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ou(e._repo,e,a)}function Bu(e,t,n,r){return zu(e,"value",t,n,r)}class Uu{}class Wu extends Uu{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Dc("endAt",this._value,e._path,!0);const t=_a(e._queryParams,this._value,this._key);if(Iu(t),Tu(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cu(e._repo,e._path,t,e._orderByCalled)}}class Hu extends Uu{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Dc("startAt",this._value,e._path,!0);const t=ba(e._queryParams,this._value,this._key);if(Iu(t),Tu(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cu(e._repo,e._path,t,e._orderByCalled)}}class Vu extends Uu{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Eu(e,"orderByChild");const t=new gs(this._path);if(xs(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new ca(t),r=wa(e._queryParams,n);return Tu(r),new Cu(e._repo,e._path,r,!0)}}class qu extends Uu{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Dc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wu(this._value,this._key)._apply(new Hu(this._value,this._key)._apply(e))}}!function(e){p(!Ll,"__referenceConstructor has already been defined"),Ll=e}(Pu),function(e){p(!Ml,"__referenceConstructor has already been defined"),Ml=e}(Pu);const Gu={};let Ku=!1;function $u(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Co("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=vu(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/timeline-explorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APPS_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbxop4nj3ZuXK5GdpLZmvjIcnZhbJDY8l9Em6SuheN8ZVXfyRt5hLt3MD6eK8m8USvy6BQ/exec",REACT_APP_SCHOOL_DOMAIN:"universityprep.org",REACT_APP_SECTIONS:"Period1,Period2,Period5",REACT_APP_TEACHER_EMAIL:"jmunsell@universityprep.org"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=vu(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new Go(Go.OWNER):new qo(e.name,e.options,t);Wc("Invalid Firebase Database URL",l),xs(l.path)||Io("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Gu[t.name];i||(i={},Gu[t.name]=i);let o=i[e.toURLString()];o&&Io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Yc(e,Ku,n,r),i[e.toURLString()]=o,o}(c,e,u,new Vo(e,n));return new Qu(d,e)}class Qu{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Zc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pu(this._repo,ms())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Gu[t];n&&n[e.key]===e||Io("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),su(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Io("Cannot call "+e+" on a deleted database.")}}Ls.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ls.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ho(wt),mt(new ae("database",(e,t)=>{let{instanceIdentifier:n}=t;return $u(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),xt(lo,co,e),xt(lo,co,"esm2020")}();const Yu=St({apiKey:"AIzaSyBKMGueCBXWQzi57PeimVbApKTZMgQp0Z8",authDomain:"timeline-explorer-79df5.firebaseapp.com",databaseURL:"https://timeline-explorer-79df5-default-rtdb.firebaseio.com",projectId:"timeline-explorer-79df5",storageBucket:"timeline-explorer-79df5.firebasestorage.app",messagingSenderId:"828900663182",appId:"1:828900663182:web:a9bd980da93bba3ae70edf"}),Zu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();const t=yt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Y(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ht(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eo,persistence:[ui,Vr,Qr]}),r=P("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>io)return;const r=null===t||void 0===t?void 0:t.token;oo!==r&&(oo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){se(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){se(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=T("auth");return o&&hr(n,"http://".concat(o)),n}(Yu),Ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt(),t=arguments.length>1?arguments[1]:void 0;const n=yt(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=T(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=se(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Y(r,o.repoInfo_.emulatorOptions))return;Io("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Go(Go.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new Go(t)}R(t)&&(A(t),M("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),o=R(t.substring(0,i));e.repoInfo_=new Jo(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(Yu),Xu=new Pr,ed="universityprep.org",td="jmunsell@universityprep.org";"Period1,Period2,Period5".split(",");var nd=n(579);const rd=(0,r.createContext)(null);function id(e){let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=function(e,t,n,r){return se(e).onAuthStateChanged(t,n,r)}(Zu,e=>{if(e){(e.email||"").endsWith("@"+ed)?(i(e),l(null)):(zr(Zu),i(null),l("This tool is only available to @".concat(ed," accounts.")))}else i(null);s(!1)});return e},[]);const c=(null===n||void 0===n?void 0:n.email)===td;return(0,nd.jsx)(rd.Provider,{value:{user:n,loading:o,authError:a,login:async()=>{l(null);try{await async function(e,t,n){if(vt(e.app))return Promise.reject(Vt(e,"operation-not-supported-in-this-environment"));const r=er(e);Kt(e,t,Er);const i=mi(r,n);return new ki(r,"signInViaPopup",t,i).executeNotNull()}(Zu,Xu)}catch(e){"auth/popup-closed-by-user"!==e.code&&l("Sign-in failed. Please try again.")}},logout:async()=>{await zr(Zu),i(null),l(null)},isTeacher:c},children:t})}const od=(0,r.createContext)(null),sd="timeline-explorer-theme",ad={pageBg:"#F7F7F5",pageText:"#1a1a1a",headerBg:"#18181B",headerText:"#fff",headerSubtext:"#71717A",headerButtonBg:"#ffffff18",headerBorder:"#3f3f46",cardBg:"#fff",cardBorder:"#EBEBEB",cardShadow:"0 8px 24px rgba(0,0,0,0.08)",textPrimary:"#1a1a1a",textSecondary:"#9CA3AF",textTertiary:"#6B7280",textDescription:"#374151",textMuted:"#B0B0B0",textDivider:"#D1D5DB",inputBg:"#fff",inputBorder:"#E5E7EB",subtleBg:"#F3F4F6",warmSubtleBg:"#FAFAF8",activeToggleBg:"#1a1a1a",activeToggleText:"#fff",accentGold:"#F59E0B",accentGoldSubtle:"#F59E0B18",errorRed:"#EF4444",errorRedBg:"#FEF2F2",errorRedBorder:"#FECACA",errorRedText:"#991B1B",successGreen:"#059669",teacherGreen:"#34D399",teacherGreenSubtle:"#34D39918",seedPurple:"#6366F1",modalOverlay:"rgba(0,0,0,0.4)",modalShadow:"0 24px 48px rgba(0,0,0,0.15)",sourceTypeBg:{primary:"#D1FAE5",secondary:"#EEF2FF"}},ld={pageBg:"#0F0F11",pageText:"#E4E4E7",headerBg:"#18181B",headerText:"#fff",headerSubtext:"#71717A",headerButtonBg:"#ffffff18",headerBorder:"#3f3f46",cardBg:"#1C1C20",cardBorder:"#2E2E33",cardShadow:"0 8px 24px rgba(0,0,0,0.3)",textPrimary:"#E4E4E7",textSecondary:"#71717A",textTertiary:"#8B8B96",textDescription:"#A1A1AA",textMuted:"#52525B",textDivider:"#3F3F46",inputBg:"#27272A",inputBorder:"#3F3F46",subtleBg:"#27272A",warmSubtleBg:"#1E1E22",activeToggleBg:"#E4E4E7",activeToggleText:"#18181B",accentGold:"#F59E0B",accentGoldSubtle:"#F59E0B22",errorRed:"#EF4444",errorRedBg:"#3B1111",errorRedBorder:"#7F1D1D",errorRedText:"#FCA5A5",successGreen:"#059669",teacherGreen:"#34D399",teacherGreenSubtle:"#34D39922",seedPurple:"#6366F1",modalOverlay:"rgba(0,0,0,0.6)",modalShadow:"0 24px 48px rgba(0,0,0,0.4)",sourceTypeBg:{primary:"#05966920",secondary:"#6366F120"}};function cd(e){let{children:t}=e;const[n,i]=(0,r.useState)(()=>{const e=localStorage.getItem(sd);return"light"===e||"dark"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});(0,r.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem(sd)||i(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-theme",n);const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","dark"===n?"#0F0F11":"#18181B")},[n]);const o=(0,r.useMemo)(()=>"dark"===n?ld:ad,[n]);return(0,nd.jsx)(od.Provider,{value:{theme:o,mode:n,toggleTheme:()=>{i(e=>{const t="light"===e?"dark":"light";return localStorage.setItem(sd,t),t})},getThemedPeriodBg:e=>e?"dark"===n?e.color+"20":e.bg:null,getThemedSourceTypeBg:e=>o.sourceTypeBg[e]||null},children:t})}function ud(){const e=(0,r.useContext)(od);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}const dd=[{color:"#991B1B",bg:"#FEE2E2",accent:"#EF4444"},{color:"#92400E",bg:"#FEF3C7",accent:"#F59E0B"},{color:"#1E40AF",bg:"#DBEAFE",accent:"#3B82F6"},{color:"#5B21B6",bg:"#EDE9FE",accent:"#8B5CF6"},{color:"#065F46",bg:"#D1FAE5",accent:"#10B981"},{color:"#9D174D",bg:"#FCE7F3",accent:"#EC4899"},{color:"#78350F",bg:"#FEF3C7",accent:"#D97706"},{color:"#1E3A5F",bg:"#DBEAFE",accent:"#0EA5E9"}],hd=(e,t)=>e.find(e=>e.id===t),fd=["Political","Economic","Social","Cultural","Military","Geographic","Legal","Technological","Religious"],pd=[{id:"primary",label:"Primary Source",color:"#059669",bg:"#D1FAE5"},{id:"secondary",label:"Secondary Source",color:"#6366F1",bg:"#EEF2FF"}],gd=Ru(Ju,"events");function md(e,t){const n="all"===e?gd:function(e){let t=se(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}(gd,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bc("orderByChild","path",e,!1),new Vu(e)}("section"),(r=e,zc("equalTo","key",i,!0),new qu(r,i)));var r,i;return Bu(n,e=>{const n=[];e.forEach(e=>{n.push(c({id:e.key},e.val()))}),t(n)})}async function yd(e,t){const n=Ru(Ju,"sectionSettings/".concat(e,"/periods"));await Mu(n,t)}async function vd(e,t){const n=Ru(Ju,"sectionSettings/".concat(e,"/compellingQuestion"));await Mu(n,t)}async function bd(e){const t=Ru(Ju,"sections");await Mu(t,e)}const _d=[{title:"Assassination of Archduke Franz Ferdinand",year:1914,period:"wwi",tags:["Political","Military"],sourceType:"Primary",description:"Archduke Franz Ferdinand of Austria-Hungary is assassinated in Sarajevo by Gavrilo Princip, a Bosnian Serb nationalist. The assassination triggers a chain of alliance obligations that plunges Europe into World War I within weeks.",sourceNote:"Newspaper accounts, diplomatic telegrams, 1914",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Sinking of the Lusitania",year:1915,period:"wwi",tags:["Military","Political"],sourceType:"Primary",description:"A German U-boat torpedoes the British ocean liner RMS Lusitania off the coast of Ireland, killing 1,198 passengers including 128 Americans. The sinking shifts American public opinion against Germany and becomes a factor in the U.S. decision to enter the war.",sourceNote:"Lusitania passenger records; newspaper coverage, 1915",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Atlantic",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"U.S. Enters World War I",year:1917,period:"wwi",tags:["Political","Military"],sourceType:"Primary",description:"President Woodrow Wilson asks Congress to declare war on Germany, citing unrestricted submarine warfare and the Zimmermann Telegram. The U.S. entry tips the balance of power and helps the Allies achieve victory.",sourceNote:"Wilson's War Message to Congress, April 2, 1917",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Treaty of Versailles Signed",year:1919,period:"wwi",tags:["Political","Legal"],sourceType:"Primary",description:"The Treaty of Versailles formally ends World War I, imposing heavy reparations and territorial losses on Germany. The harsh terms create resentment that contributes to the rise of Adolf Hitler and the Nazi Party.",sourceNote:"Treaty of Versailles, 1919",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"19th Amendment Ratified",year:1920,period:"wwi",tags:["Political","Legal","Social"],sourceType:"Primary",description:"The 19th Amendment to the U.S. Constitution is ratified, guaranteeing women the right to vote. The amendment is the culmination of decades of activism by suffragists including Susan B. Anthony and Alice Paul.",sourceNote:"19th Amendment, U.S. Constitution, 1920",addedBy:"Sofia R.",addedByEmail:"student1@example.org",addedByUid:"seed",section:"Period2",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Stock Market Crash (Black Tuesday)",year:1929,period:"depression",tags:["Economic","Political"],sourceType:"Primary",description:"The stock market crashes on October 29, 1929, wiping out millions of investors and triggering the Great Depression. Stock prices plummet as panic selling overwhelms the market, devastating the American economy for the next decade.",sourceNote:"New York Times front page, October 30, 1929",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Dust Bowl Begins",year:1931,period:"depression",tags:["Economic","Geographic","Social"],sourceType:"Secondary",description:"Severe drought and decades of poor farming practices create massive dust storms across the Great Plains. The Dust Bowl displaces hundreds of thousands of families and deepens the economic crisis of the Great Depression.",sourceNote:"Dorothea Lange photographs; historical analysis",addedBy:"Carlos D.",addedByEmail:"student2@example.org",addedByUid:"seed",section:"Period2",region:"Midwest",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"FDR's New Deal Begins",year:1933,period:"depression",tags:["Political","Economic","Social"],sourceType:"Primary",description:"President Franklin D. Roosevelt launches the New Deal, a series of programs and reforms designed to provide relief, recovery, and reform during the Great Depression. Programs like the CCC, WPA, and Social Security reshape the role of the federal government.",sourceNote:"FDR's First Inaugural Address, March 4, 1933",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Social Security Act Signed",year:1935,period:"depression",tags:["Political","Economic","Legal"],sourceType:"Primary",description:"President Roosevelt signs the Social Security Act, establishing a system of old-age pensions, unemployment insurance, and welfare benefits. The act creates a federal safety net that fundamentally changes the relationship between citizens and government.",sourceNote:"Social Security Act, 1935; signing ceremony records",addedBy:"Emma L.",addedByEmail:"student3@example.org",addedByUid:"seed",section:"Period5",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Germany Invades Poland",year:1939,period:"wwii",tags:["Military","Political"],sourceType:"Primary",description:"Nazi Germany invades Poland on September 1, 1939, triggering declarations of war from Britain and France. The invasion marks the beginning of World War II in Europe and demonstrates Germany's blitzkrieg military strategy.",sourceNote:"Military dispatches; radio broadcasts, September 1939",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Attack on Pearl Harbor",year:1941,period:"wwii",tags:["Military","Political"],sourceType:"Primary",description:"Japan launches a surprise military attack on the U.S. naval base at Pearl Harbor, Hawaii, on December 7, 1941. The attack kills over 2,400 Americans and draws the United States into World War II. President Roosevelt calls it 'a date which will live in infamy.'",sourceNote:"FDR's 'Day of Infamy' speech, December 8, 1941",addedBy:"Marcus T.",addedByEmail:"student4@example.org",addedByUid:"seed",section:"Period2",region:"Pacific",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Executive Order 9066: Japanese Internment",year:1942,period:"wwii",tags:["Political","Legal","Social"],sourceType:"Primary",description:"President Roosevelt signs Executive Order 9066, authorizing the forced relocation and internment of approximately 120,000 Japanese Americans. Two-thirds are U.S. citizens. The internment is later recognized as a grave injustice motivated by racial prejudice.",sourceNote:"Executive Order 9066; personal testimonies of internees",addedBy:"Aaliyah K.",addedByEmail:"student5@example.org",addedByUid:"seed",section:"Period5",region:"West",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"D-Day: Allied Invasion of Normandy",year:1944,period:"wwii",tags:["Military"],sourceType:"Primary",description:"On June 6, 1944, Allied forces launch the largest amphibious invasion in history on the beaches of Normandy, France. Over 156,000 troops storm five beaches, establishing a foothold that leads to the liberation of Western Europe from Nazi control.",sourceNote:"Eisenhower's Order of the Day; soldier accounts",addedBy:"Jayden M.",addedByEmail:"student6@example.org",addedByUid:"seed",section:"Period1",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Atomic Bombs Dropped on Japan",year:1945,period:"wwii",tags:["Military","Technological","Political"],sourceType:"Primary",description:"The United States drops atomic bombs on Hiroshima (August 6) and Nagasaki (August 9), killing over 200,000 people. Japan surrenders on August 15, ending World War II. The bombings usher in the nuclear age and remain deeply controversial.",sourceNote:"Truman's announcement; Hiroshima survivor testimonies",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Pacific",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"United Nations Founded",year:1945,period:"coldwar",tags:["Political"],sourceType:"Primary",description:"Fifty nations sign the United Nations Charter in San Francisco, establishing an international organization dedicated to maintaining peace and security. The UN replaces the failed League of Nations and creates a framework for international cooperation.",sourceNote:"UN Charter, June 26, 1945",addedBy:"Olivia P.",addedByEmail:"student7@example.org",addedByUid:"seed",section:"Period5",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Truman Doctrine Announced",year:1947,period:"coldwar",tags:["Political","Military"],sourceType:"Primary",description:"President Truman declares that the United States will support free peoples resisting subjugation by armed minorities or outside pressures. The Truman Doctrine establishes the policy of containment that guides U.S. Cold War strategy for decades.",sourceNote:"Truman's address to Congress, March 12, 1947",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Marshall Plan Enacted",year:1948,period:"coldwar",tags:["Economic","Political"],sourceType:"Primary",description:"The U.S. provides over $13 billion in economic aid to help rebuild Western European economies after World War II. The Marshall Plan strengthens democratic governments, counters Soviet influence, and creates strong economic ties between the U.S. and Europe.",sourceNote:"Marshall's Harvard speech, 1947; European Recovery Act, 1948",addedBy:"Sofia R.",addedByEmail:"student1@example.org",addedByUid:"seed",section:"Period2",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Korean War Begins",year:1950,period:"coldwar",tags:["Military","Political"],sourceType:"Secondary",description:"North Korea invades South Korea, and the United States leads a UN coalition to defend the South. The Korean War becomes the first major armed conflict of the Cold War, ending in a 1953 armistice that divides the peninsula along the 38th parallel.",sourceNote:"UN Security Council resolutions; historical analysis",addedBy:"Marcus T.",addedByEmail:"student4@example.org",addedByUid:"seed",section:"Period2",region:"Asia",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Brown v. Board of Education",year:1954,period:"coldwar",tags:["Legal","Social","Political"],sourceType:"Primary",description:"The Supreme Court unanimously rules that racial segregation in public schools is unconstitutional, overturning Plessy v. Ferguson's 'separate but equal' doctrine. The decision becomes a catalyst for the broader Civil Rights Movement.",sourceNote:"Brown v. Board of Education, 347 U.S. 483 (1954)",addedBy:"Aaliyah K.",addedByEmail:"student5@example.org",addedByUid:"seed",section:"Period5",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Sputnik Launched",year:1957,period:"coldwar",tags:["Technological","Political"],sourceType:"Primary",description:"The Soviet Union launches Sputnik, the first artificial satellite, into orbit. The event shocks the American public, intensifies the Space Race, and leads to the creation of NASA and increased federal investment in science education.",sourceNote:"Soviet press release; U.S. news coverage, October 1957",addedBy:"Jayden M.",addedByEmail:"student6@example.org",addedByUid:"seed",section:"Period1",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Cuban Missile Crisis",year:1962,period:"coldwar",tags:["Military","Political"],sourceType:"Primary",description:"A 13-day confrontation between the U.S. and Soviet Union over nuclear missiles in Cuba brings the world to the brink of nuclear war. President Kennedy and Premier Khrushchev negotiate a resolution, and the crisis leads to the Nuclear Test Ban Treaty.",sourceNote:"Kennedy's televised address, October 22, 1962; declassified documents",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Caribbean",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Civil Rights Act of 1964",year:1964,period:"coldwar",tags:["Legal","Political","Social"],sourceType:"Primary",description:"President Lyndon B. Johnson signs the Civil Rights Act, outlawing discrimination based on race, color, religion, sex, or national origin. The landmark legislation ends legal segregation in public places and bans employment discrimination.",sourceNote:"Civil Rights Act of 1964; signing ceremony records",addedBy:"Emma L.",addedByEmail:"student3@example.org",addedByUid:"seed",section:"Period5",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Moon Landing (Apollo 11)",year:1969,period:"coldwar",tags:["Technological","Political"],sourceType:"Primary",description:"American astronauts Neil Armstrong and Buzz Aldrin become the first humans to walk on the Moon on July 20, 1969. Armstrong's words, 'That's one small step for man, one giant leap for mankind,' are broadcast to a global audience of 600 million people.",sourceNote:"NASA mission transcripts; live broadcast recordings",addedBy:"Carlos D.",addedByEmail:"student2@example.org",addedByUid:"seed",section:"Period2",region:"National",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Fall of the Berlin Wall",year:1989,period:"coldwar",tags:["Political","Social"],sourceType:"Primary",description:"On November 9, 1989, East Germany opens the Berlin Wall after weeks of civil unrest. Thousands of East and West Berliners celebrate together, and the event symbolizes the end of the Cold War division of Europe. Germany reunifies the following year.",sourceNote:"News broadcasts; eyewitness accounts, November 1989",addedBy:"Olivia P.",addedByEmail:"student7@example.org",addedByUid:"seed",section:"Period5",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"},{title:"Dissolution of the Soviet Union",year:1991,period:"coldwar",tags:["Political"],sourceType:"Primary",description:"On December 26, 1991, the Soviet Union officially dissolves into 15 independent republics, ending nearly 70 years of communist rule. The dissolution marks the end of the Cold War and leaves the United States as the world's sole superpower.",sourceNote:"Gorbachev's resignation speech, December 25, 1991",addedBy:"Teacher",addedByEmail:"teacher@example.org",addedByUid:"seed",section:"Period1",region:"Europe",status:"approved",dateAdded:"2026-02-01T12:00:00Z"}];function wd(e){let{filteredEvents:t,onEraClick:n,selectedPeriod:r,timelineStart:i=1910,timelineEnd:o=2e3,currentYear:s,periods:a=[]}=e;const{theme:l}=ud(),c=i,u=o,d=u-c,h=s&&u>s,f=e=>Math.max(0,Math.min(100,(e-c)/d*100));return(0,nd.jsxs)("div",{style:{padding:"16px 24px 8px",position:"relative"},children:[(0,nd.jsxs)("div",{style:{position:"relative",height:40,borderRadius:6,overflow:"hidden",background:l.subtleBg},children:[a.map(e=>{const t=f(e.era[0]),i=f(e.era[1])-t,o="all"===r||r===e.id;return(0,nd.jsx)("div",{onClick:()=>n(e.id===r?"all":e.id),title:e.label,style:{position:"absolute",left:"".concat(t,"%"),width:"".concat(i,"%"),top:0,bottom:0,background:o?e.accent+"25":l.subtleBg,borderLeft:"2px solid ".concat(o?e.color:l.inputBorder),cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,nd.jsx)("span",{style:{fontSize:9,fontWeight:700,color:o?e.color:l.textSecondary,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.05em",textTransform:"uppercase",whiteSpace:"nowrap",opacity:i>4?1:0,transition:"opacity 0.3s"},children:e.label.slice(0,12)})},e.id)}),h&&(()=>{const e=f(s),t=100-e;return(0,nd.jsx)("div",{title:"".concat(s,"\u2013").concat(u,": Future"),style:{position:"absolute",left:"".concat(e,"%"),width:"".concat(t,"%"),top:0,bottom:0,background:"repeating-linear-gradient(\n                  -45deg,\n                  transparent,\n                  transparent 3px,\n                  ".concat(l.textMuted,"18 3px,\n                  ").concat(l.textMuted,"18 6px\n                )"),borderLeft:"1.5px dashed ".concat(l.textMuted,"60"),pointerEvents:"none",zIndex:3,transition:"all 0.3s ease"}})})()]}),(0,nd.jsx)("div",{style:{position:"relative",height:28,marginTop:2},children:t.map(e=>{const t=hd(a,e.period);if(!t)return null;const n=f(e.year);return(0,nd.jsx)("div",{title:"".concat(e.year,": ").concat(e.title),style:{position:"absolute",left:"".concat(n,"%"),top:4,width:7,height:7,borderRadius:"50%",background:t.color,border:"2px solid ".concat(l.cardBg),boxShadow:"0 0 0 1px ".concat(t.color,"40"),transform:"translateX(-50%)",transition:"all 0.3s ease",zIndex:2}},e.id)})}),(0,nd.jsx)("div",{style:{position:"relative",height:14},children:Array.from({length:Math.floor((u-c)/10)+1},(e,t)=>c+10*t).filter(e=>e<=u).map(e=>(0,nd.jsx)("span",{style:{position:"absolute",left:"".concat(f(e),"%"),transform:"translateX(-50%)",fontSize:9,color:l.textMuted,fontFamily:"'Overpass Mono', monospace",fontWeight:500,whiteSpace:"nowrap"},children:e},e))})]})}const Sd=Object.freeze({left:0,top:0,width:16,height:16}),kd=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),xd=Object.freeze(c(c({},Sd),kd)),Cd=Object.freeze(c(c({},xd),{},{body:"",hidden:!1}));function Ed(e,t){const n=function(e,t){const n={};!e.hFlip!==!t.hFlip&&(n.hFlip=!0),!e.vFlip!==!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}(e,t);for(const r in Cd)r in kd?r in e&&!(r in n)&&(n[r]=kd[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function Td(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let o={};function s(e){o=Ed(r[e]||i[e],o)}return s(t),n.forEach(s),Ed(e,o)}function Id(e,t){const n=[];if("object"!==typeof e||"object"!==typeof e.icons)return n;e.not_found instanceof Array&&e.not_found.forEach(e=>{t(e,null),n.push(e)});const r=function(e){const t=e.icons,n=e.aliases||Object.create(null),r=Object.create(null);return Object.keys(t).concat(Object.keys(n)).forEach(function e(i){if(t[i])return r[i]=[];if(!(i in r)){r[i]=null;const t=n[i]&&n[i].parent,o=t&&e(t);o&&(r[i]=[t].concat(o))}return r[i]}),r}(e);for(const i in r){const o=r[i];o&&(t(i,Td(e,i,o)),n.push(i))}return n}const Pd=c({provider:"",aliases:{},not_found:{}},Sd);function Nd(e,t){for(const n in t)if(n in e&&typeof e[n]!==typeof t[n])return!1;return!0}function Rd(e){if("object"!==typeof e||null===e)return null;const t=e;if("string"!==typeof t.prefix||!e.icons||"object"!==typeof e.icons)return null;if(!Nd(e,Pd))return null;const n=t.icons;for(const i in n){const e=n[i];if(!i||"string"!==typeof e.body||!Nd(e,Cd))return null}const r=t.aliases||Object.create(null);for(const i in r){const e=r[i],t=e.parent;if(!i||"string"!==typeof t||!n[t]&&!r[t]||!Nd(e,Cd))return null}return t}const Ad=Object.create(null);function Od(e,t){const n=Ad[e]||(Ad[e]=Object.create(null));return n[t]||(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}(e,t))}function Ld(e,t){return Rd(t)?Id(t,(t,n)=>{n?e.icons[t]=n:e.missing.add(t)}):[]}const Md=/^[a-z0-9]+(-[a-z0-9]+)*$/,Dd=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const i=e.split(":");if("@"===e.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const e=i.pop(),n=i.pop(),o={provider:i.length>0?i[0]:r,prefix:n,name:e};return t&&!Fd(o)?null:o}const o=i[0],s=o.split("-");if(s.length>1){const e={provider:r,prefix:s.shift(),name:s.join("-")};return t&&!Fd(e)?null:e}if(n&&""===r){const e={provider:r,prefix:"",name:o};return t&&!Fd(e,n)?null:e}return null},Fd=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name);let jd=!1;function zd(e){return"boolean"===typeof e&&(jd=e),jd}function Bd(e){const t="string"===typeof e?Dd(e,!0,jd):e;if(t){const e=Od(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function Ud(e,t){const n=Dd(e,!0,jd);if(!n)return!1;const r=Od(n.provider,n.prefix);return t?function(e,t,n){try{if("string"===typeof n.body)return e.icons[t]=c({},n),!0}catch(r){}return!1}(r,n.name,t):(r.missing.add(n.name),!0)}const Wd=Object.freeze({width:null,height:null}),Hd=Object.freeze(c(c({},Wd),kd)),Vd=/(-?[0-9.]*[0-9]+[0-9.]*)/g,qd=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Gd(e,t,n){if(1===t)return e;if(n=n||100,"number"===typeof e)return Math.ceil(e*t*n)/n;if("string"!==typeof e)return e;const r=e.split(Vd);if(null===r||!r.length)return e;const i=[];let o=r.shift(),s=qd.test(o);for(;;){if(s){const e=parseFloat(o);isNaN(e)?i.push(o):i.push(Math.ceil(e*t*n)/n)}else i.push(o);if(o=r.shift(),void 0===o)return i.join("");s=!s}}const Kd=/\sid="(\S+)"/g,$d="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let Qd=0;function Yd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$d;const n=[];let r;for(;r=Kd.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const r="function"===typeof t?t(n):t+(Qd++).toString(),o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+r+i+"$3")}),e=e.replace(new RegExp(i,"g"),"")}const Zd=Object.create(null);function Jd(e,t){Zd[e]=t}function Xd(e){return Zd[e]||Zd[""]}function eh(e){let t;if("string"===typeof e.resources)t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}const th=Object.create(null),nh=["https://api.simplesvg.com","https://api.unisvg.com"],rh=[];for(;nh.length>0;)1===nh.length||Math.random()>.5?rh.push(nh.shift()):rh.push(nh.pop());function ih(e,t){const n=eh(t);return null!==n&&(th[e]=n,!0)}function oh(e){return th[e]}th[""]=eh({resources:["https://api.iconify.design"].concat(rh)});let sh=(()=>{let e;try{if(e=fetch,"function"===typeof e)return e}catch(t){}})();const ah={prepare:(e,t,n)=>{const r=[],i=function(e,t){const n=oh(e);if(!n)return 0;let r;if(n.maxURL){let e=0;n.resources.forEach(t=>{const n=t;e=Math.max(e,n.length)});const i=t+".json?icons=";r=n.maxURL-e-n.path.length-i.length}else r=0;return r}(e,t),o="icons";let s={type:o,provider:e,prefix:t,icons:[]},a=0;return n.forEach((n,l)=>{a+=n.length+1,a>=i&&l>0&&(r.push(s),s={type:o,provider:e,prefix:t,icons:[]},a=n.length),s.icons.push(n)}),r.push(s),r},send:(e,t,n)=>{if(!sh)return void n("abort",424);let r=function(e){if("string"===typeof e){const t=oh(e);if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":{const e=t.prefix,n=t.icons.join(",");r+=e+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const e=t.uri;r+="/"===e.slice(0,1)?e.slice(1):e;break}default:return void n("abort",400)}let i=503;sh(e+r).then(e=>{const t=e.status;if(200===t)return i=501,e.json();setTimeout(()=>{n(function(e){return 404===e}(t)?"abort":"next",t)})}).then(e=>{"object"===typeof e&&null!==e?setTimeout(()=>{n("success",e)}):setTimeout(()=>{404===e?n("abort",e):n("next",i)})}).catch(()=>{n("next",i)})}};function lh(e,t){e.forEach(e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(e=>e.id!==t))})}let ch=0;const uh={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function dh(e,t,n,r){const i=e.resources.length,o=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let t=e.resources.slice(0);for(s=[];t.length>1;){const e=Math.floor(Math.random()*t.length);s.push(t[e]),t=t.slice(0,e).concat(t.slice(e+1))}s=s.concat(t)}else s=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let l,c="pending",u=0,d=null,h=[],f=[];function p(){d&&(clearTimeout(d),d=null)}function g(){"pending"===c&&(c="aborted"),p(),h.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),h=[]}function m(e,t){t&&(f=[]),"function"===typeof e&&f.push(e)}function y(){c="failed",f.forEach(e=>{e(void 0,l)})}function v(){h.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),h=[]}function b(){if("pending"!==c)return;p();const r=s.shift();if(void 0===r)return h.length?void(d=setTimeout(()=>{p(),"pending"===c&&(v(),y())},e.timeout)):void y();const i={status:"pending",resource:r,callback:(t,n)=>{!function(t,n,r){const i="success"!==n;switch(h=h.filter(e=>e!==t),c){case"pending":break;case"failed":if(i||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return l=r,void y();if(i)return l=r,void(h.length||(s.length?b():y()));if(p(),v(),!e.random){const n=e.resources.indexOf(t.resource);-1!==n&&n!==e.index&&(e.index=n)}c="completed",f.forEach(e=>{e(r)})}(i,t,n)}};h.push(i),u++,d=setTimeout(b,e.rotate),n(r,t,i.callback)}return"function"===typeof r&&f.push(r),setTimeout(b),function(){return{startTime:a,payload:t,status:c,queriesSent:u,queriesPending:h.length,subscribe:m,abort:g}}}function hh(e){const t=c(c({},uh),e);let n=[];function r(){n=n.filter(e=>"pending"===e().status)}const i={query:function(e,i,o){const s=dh(t,e,i,(e,t)=>{r(),o&&o(e,t)});return n.push(s),s},find:function(e){return n.find(t=>e(t))||null},setIndex:e=>{t.index=e},getIndex:()=>t.index,cleanup:r};return i}function fh(){}const ph=Object.create(null);function gh(e,t,n){let r,i;if("string"===typeof e){const t=Xd(e);if(!t)return n(void 0,424),fh;i=t.send;const o=function(e){if(!ph[e]){const t=oh(e);if(!t)return;const n={config:t,redundancy:hh(t)};ph[e]=n}return ph[e]}(e);o&&(r=o.redundancy)}else{const t=eh(e);if(t){r=hh(t);const n=Xd(e.resources?e.resources[0]:"");n&&(i=n.send)}}return r&&i?r.query(t,i,n)().abort:(n(void 0,424),fh)}function mh(){}function yh(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,function(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(t=>{const o=t.icons,s=o.pending.length;o.pending=o.pending.filter(t=>{if(t.prefix!==i)return!0;const s=t.name;if(e.icons[s])o.loaded.push({provider:r,prefix:i,name:s});else{if(!e.missing.has(s))return n=!0,!0;o.missing.push({provider:r,prefix:i,name:s})}return!1}),o.pending.length!==s&&(n||lh([e],t.id),t.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),t.abort))})}))}(e)}))}function vh(e,t,n){function r(){const n=e.pendingIcons;t.forEach(t=>{n&&n.delete(t),e.icons[t]||e.missing.add(t)})}if(n&&"object"===typeof n)try{if(!Ld(e,n).length)return void r()}catch(i){console.error(i)}r(),yh(e)}function bh(e,t){e instanceof Promise?e.then(e=>{t(e)}).catch(()=>{t(null)}):t(e)}function _h(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:n}=e,r=e.iconsToLoad;if(delete e.iconsToLoad,!r||!r.length)return;const i=e.loadIcon;if(e.loadIcons&&(r.length>1||!i))return void bh(e.loadIcons(r,n,t),t=>{vh(e,r,t)});if(i)return void r.forEach(r=>{bh(i(r,n,t),t=>{vh(e,[r],t?{prefix:n,icons:{[r]:t}}:null)})});const{valid:o,invalid:s}=function(e){const t=[],n=[];return e.forEach(e=>{(e.match(Md)?t:n).push(e)}),{valid:t,invalid:n}}(r);if(s.length&&vh(e,s,null),!o.length)return;const a=n.match(Md)?Xd(t):null;if(!a)return void vh(e,o,null);a.prepare(t,n,o).forEach(n=>{gh(t,n,t=>{vh(e,n.icons,t)})})}))}const wh=(e,t)=>{const n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];return e.forEach(e=>{const i="string"===typeof e?Dd(e,t,n):e;i&&r.push(i)}),r}(e,!0,zd()),r=function(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((e,t)=>e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name));let r={provider:"",prefix:"",name:""};return e.forEach(e=>{if(r.name===e.name&&r.prefix===e.prefix&&r.provider===e.provider)return;r=e;const i=e.provider,o=e.prefix,s=e.name,a=n[i]||(n[i]=Object.create(null)),l=a[o]||(a[o]=Od(i,o));let c;c=s in l.icons?t.loaded:""===o||l.missing.has(s)?t.missing:t.pending;const u={provider:i,prefix:o,name:s};c.push(u)}),t}(n);if(!r.pending.length){let e=!0;return t&&setTimeout(()=>{e&&t(r.loaded,r.missing,r.pending,mh)}),()=>{e=!1}}const i=Object.create(null),o=[];let s,a;return r.pending.forEach(e=>{const{provider:t,prefix:n}=e;if(n===a&&t===s)return;s=t,a=n,o.push(Od(t,n));const r=i[t]||(i[t]=Object.create(null));r[n]||(r[n]=[])}),r.pending.forEach(e=>{const{provider:t,prefix:n,name:r}=e,o=Od(t,n),s=o.pendingIcons||(o.pendingIcons=new Set);s.has(r)||(s.add(r),i[t][n].push(r))}),o.forEach(e=>{const t=i[e.provider][e.prefix];t.length&&_h(e,t)}),t?function(e,t,n){const r=ch++,i=lh.bind(null,n,r);if(!t.pending.length)return i;const o={id:r,icons:t,callback:e,abort:i};return n.forEach(e=>{(e.loaderCallbacks||(e.loaderCallbacks=[])).push(o)}),i}(t,r,o):mh};const Sh=/[\s,]+/;function kh(e,t){t.split(Sh).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}})}function xh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e.replace(/^-?[0-9.]*/,"");function r(e){for(;e<0;)e+=4;return e%4}if(""===n){const t=parseInt(e);return isNaN(t)?0:r(t)}if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let i=parseFloat(e.slice(0,e.length-n.length));return isNaN(i)?0:(i/=t,i%1===0?r(i):0)}}return t}let Ch;function Eh(e){return void 0===Ch&&function(){try{Ch=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch(e){Ch=null}}(),Ch?Ch.createHTML(e):e}const Th=c(c({},Hd),{},{inline:!1}),Ih={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Ph={display:"inline-block"},Nh={backgroundColor:"currentColor"},Rh={backgroundColor:"transparent"},Ah={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Oh={WebkitMask:Nh,mask:Nh,background:Rh};for(const Af in Oh){const e=Oh[Af];for(const t in Ah)e[Af+t]=Ah[t]}const Lh=c(c({},Th),{},{inline:!0});function Mh(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Dh=(e,t,n)=>{const i=t.inline?Lh:Th,o=function(e,t){const n=c({},e);for(const r in t){const e=t[r],i=typeof e;r in Wd?(null===e||e&&("string"===i||"number"===i))&&(n[r]=e):i===typeof n[r]&&(n[r]="rotate"===r?e%4:e)}return n}(i,t),s=t.mode||"svg",a={},l=t.style||{},u=c({},"svg"===s?Ih:{});if(n){const e=Dd(n,!1,!0);if(e){const t=["iconify"],n=["provider","prefix"];for(const r of n)e[r]&&t.push("iconify--"+e[r]);u.className=t.join(" ")}}for(let r in t){const e=t[r];if(void 0!==e)switch(r){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":case"fallback":break;case"_ref":u.ref=e;break;case"className":u[r]=(u[r]?u[r]+" ":"")+e;break;case"inline":case"hFlip":case"vFlip":o[r]=!0===e||"true"===e||1===e;break;case"flip":"string"===typeof e&&kh(o,e);break;case"color":a.color=e;break;case"rotate":"string"===typeof e?o[r]=xh(e):"number"===typeof e&&(o[r]=e);break;case"ariaHidden":case"aria-hidden":!0!==e&&"true"!==e&&delete u["aria-hidden"];break;default:void 0===i[r]&&(u[r]=e)}}const d=function(e,t){const n=c(c({},xd),e),r=c(c({},Hd),t),i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(e=>{const t=[],n=e.hFlip,r=e.vFlip;let s,a=e.rotate;switch(n?r?a+=2:(t.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),t.push("scale(-1 1)"),i.top=i.left=0):r&&(t.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),t.push("scale(1 -1)"),i.top=i.left=0),a<0&&(a-=4*Math.floor(a/4)),a%=4,a){case 1:s=i.height/2+i.top,t.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:t.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:s=i.width/2+i.left,t.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")")}a%2===1&&(i.left!==i.top&&(s=i.left,i.left=i.top,i.top=s),i.width!==i.height&&(s=i.width,i.width=i.height,i.height=s)),t.length&&(o=function(e,t,n){const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defs",n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),o=e.indexOf("</"+t);if(-1===i||-1===o)break;const s=e.indexOf(">",o);if(-1===s)break;n+=e.slice(i+1,o).trim(),e=e.slice(0,r).trim()+e.slice(s+1)}return{defs:n,content:e}}(e);return i=r.defs,o=t+r.content+n,i?"<defs>"+i+"</defs>"+o:o;var i,o}(o,'<g transform="'+t.join(" ")+'">',"</g>"))});const s=r.width,a=r.height,l=i.width,u=i.height;let d,h;null===s?(h=null===a?"1em":"auto"===a?u:a,d=Gd(h,l/u)):(d="auto"===s?l:s,h=null===a?Gd(d,u/l):"auto"===a?u:a);const f={},p=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(f[e]=t.toString())};p("width",d),p("height",h);const g=[i.left,i.top,l,u];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:o}}(e,o),h=d.attributes;if(o.inline&&(a.verticalAlign="-0.125em"),"svg"===s){u.style=c(c({},a),l),Object.assign(u,h);let e=0,n=t.id;return"string"===typeof n&&(n=n.replace(/-/g,"_")),u.dangerouslySetInnerHTML={__html:Eh(Yd(d.body,n?()=>n+"ID"+e++:"iconifyReact"))},(0,r.createElement)("svg",u)}const{body:f,width:p,height:g}=e,m="mask"===s||"bg"!==s&&-1!==f.indexOf("currentColor"),y=function(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(f,c(c({},h),{},{width:p+"",height:g+""}));var v;return u.style=c(c(c(c({},a),{},{"--svg":(v=y,'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(v)+'")'),width:Mh(h.width),height:Mh(h.height)},Ph),m?Nh:Rh),l),(0,r.createElement)("span",u)};if(zd(!0),Jd("",ah),"undefined"!==typeof document&&"undefined"!==typeof window){const e=window;if(void 0!==e.IconifyPreload){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";"object"===typeof t&&null!==t&&(t instanceof Array?t:[t]).forEach(e=>{try{("object"!==typeof e||null===e||e instanceof Array||"object"!==typeof e.icons||"string"!==typeof e.prefix||!function(e,t){if("object"!==typeof e)return!1;if("string"!==typeof t&&(t=e.provider||""),jd&&!t&&!e.prefix){let t=!1;return Rd(e)&&(e.prefix="",Id(e,(e,n)=>{Ud(e,n)&&(t=!0)})),t}const n=e.prefix;return!!Fd({prefix:n,name:"a"})&&!!Ld(Od(t,n),e)}(e))&&console.error(n)}catch(t){console.error(n)}})}if(void 0!==e.IconifyProviders){const t=e.IconifyProviders;if("object"===typeof t&&null!==t)for(let e in t){const n="IconifyProviders["+e+"] is invalid.";try{const r=t[e];if("object"!==typeof r||!r||void 0===r.resources)continue;ih(e,r)||console.error(n)}catch(Rf){console.error(n)}}}}function Fh(e){const[t,n]=(0,r.useState)(!!e.ssr),[i,o]=(0,r.useState)({});const[s,a]=(0,r.useState)(function(t){if(t){const t=e.icon;if("object"===typeof t)return{name:"",data:t};const n=Bd(t);if(n)return{name:t,data:n}}return{name:""}}(!!e.ssr));function l(){const e=i.callback;e&&(e(),o({}))}function u(e){if(JSON.stringify(s)!==JSON.stringify(e))return l(),a(e),!0}function d(){var t;const n=e.icon;if("object"===typeof n)return void u({name:"",data:n});const r=Bd(n);if(u({name:n,data:r}))if(void 0===r){const e=wh([n],d);o({callback:e})}else r&&(null===(t=e.onLoad)||void 0===t||t.call(e,n))}(0,r.useEffect)(()=>(n(!0),l),[]),(0,r.useEffect)(()=>{t&&d()},[e.icon,t]);const{name:h,data:f}=s;return f?Dh(c(c({},xd),f),e,h):e.children?e.children:e.fallback?e.fallback:(0,r.createElement)("span",{})}const jh=(0,r.forwardRef)((e,t)=>Fh(c(c({},e),{},{_ref:t}))),zh=((0,r.forwardRef)((e,t)=>Fh(c(c({inline:!0},e),{},{_ref:t}))),{width:24,height:24,body:'<path fill="currentColor" d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42Z"/>'}),Bh={width:24,height:24,body:'<path fill="currentColor" d="M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12M8 9h8v10H8V9m7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5Z"/>'},Uh={width:24,height:24,body:'<path fill="currentColor" d="m19 1l-5 5v11l5-4.5V1m2 4v13.5c-1.1-.35-2.3-.5-3.5-.5c-1.7 0-4.15.65-5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5c-1.95 0-4.05.4-5.5 1.5v14.65c0 .25.25.5.5.5c.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5c1.35-.85 3.8-1.5 5.5-1.5c1.65 0 3.35.3 4.75 1.05c.1.05.15.05.25.05c.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1M10 18.41C8.75 18.09 7.5 18 6.5 18c-1.06 0-2.32.19-3.5.5V7.13c.91-.4 2.14-.63 3.5-.63c1.36 0 2.59.23 3.5.63v11.28Z"/>'},Wh={width:24,height:24,body:'<path fill="currentColor" d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8Z"/>'},Hh={width:24,height:24,body:'<path fill="currentColor" d="M10.59 13.41c.41.39.41 1.03 0 1.42c-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0a5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24a2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0a5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24a2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24a.973.973 0 0 1 0-1.42Z"/>'},Vh={width:24,height:24,body:'<path fill="currentColor" d="M12 4a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m0 7c2.67 0 8 1.33 8 4v3H4v-3c0-2.67 5.33-4 8-4m0 1.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1Z"/>'},qh={width:24,height:24,body:'<path fill="currentColor" d="M12 6.5A2.5 2.5 0 0 1 14.5 9a2.5 2.5 0 0 1-2.5 2.5A2.5 2.5 0 0 1 9.5 9A2.5 2.5 0 0 1 12 6.5M12 2a7 7 0 0 1 7 7c0 5.25-7 13-7 13S5 14.25 5 9a7 7 0 0 1 7-7m0 2a5 5 0 0 0-5 5c0 1 0 3 5 9.71C17 12 17 10 17 9a5 5 0 0 0-5-5Z"/>'},Gh={width:24,height:24,body:'<path fill="currentColor" d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3m6.82 6L12 12.72L5.18 9L12 5.28L18.82 9M17 16l-5 2.72L7 16v-3.73L12 15l5-2.73V16Z"/>'};function Kh(e){let{event:t,isExpanded:n,onToggle:r,isTeacher:i,onDelete:o,periods:s=[]}=e;const{theme:a}=ud(),l=hd(s,t.period),c=(null===l||void 0===l?void 0:l.color)||"#6B7280",u=(null===l||void 0===l?void 0:l.label)||t.period;return(0,nd.jsxs)("div",{onClick:r,style:{background:a.cardBg,border:"1.5px solid ".concat(n?c+"60":a.cardBorder),borderRadius:10,padding:n?"18px 22px":"14px 20px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:n?"0 8px 24px ".concat(c,"12"):"none",borderLeft:"4px solid ".concat(c)},children:[(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[(0,nd.jsx)("div",{style:{background:c,color:"#fff",fontSize:12,fontWeight:700,padding:"4px 8px",borderRadius:5,fontFamily:"'Overpass Mono', monospace",flexShrink:0,letterSpacing:"0.02em",lineHeight:1.2,minWidth:42,textAlign:"center"},children:t.year}),(0,nd.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,nd.jsx)("h3",{style:{fontSize:15,fontWeight:700,color:a.textPrimary,margin:0,fontFamily:"'Newsreader', 'Georgia', serif",lineHeight:1.35},children:t.title}),!n&&(0,nd.jsxs)("div",{style:{display:"flex",gap:4,flexWrap:"wrap",marginTop:5},children:[(0,nd.jsx)("span",{style:{fontSize:10,color:c,fontFamily:"'Overpass Mono', monospace",fontWeight:600},children:(null===l||void 0===l?void 0:l.label.slice(0,12))||t.period}),(0,nd.jsx)("span",{style:{fontSize:10,color:a.textDivider},children:"\xb7"}),(0,nd.jsx)("span",{style:{fontSize:10,color:a.textSecondary,fontFamily:"'Overpass Mono', monospace"},children:(t.tags||[]).slice(0,3).join(", ")}),(0,nd.jsx)("span",{style:{fontSize:10,color:a.textDivider},children:"\xb7"}),(0,nd.jsx)("span",{style:{fontSize:10,color:a.textSecondary,fontFamily:"'Overpass Mono', monospace"},children:t.addedBy})]})]}),(0,nd.jsx)(jh,{icon:zh,width:18,style:{color:a.textDivider,transition:"transform 0.2s",transform:n?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginTop:2}})]}),n&&(0,nd.jsxs)("div",{style:{marginTop:14,marginLeft:54},children:[(0,nd.jsx)("p",{style:{fontSize:14,lineHeight:1.7,color:a.textDescription,margin:"0 0 14px 0",fontFamily:"'Newsreader', 'Georgia', serif"},children:t.description}),(0,nd.jsx)("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:12},children:(t.tags||[]).map(e=>(0,nd.jsx)("span",{style:{fontSize:10,color:a.textTertiary,background:a.subtleBg,padding:"3px 8px",borderRadius:4,fontFamily:"'Overpass Mono', monospace",fontWeight:500},children:e},e))}),(0,nd.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px 16px",padding:"12px 14px",background:a.warmSubtleBg,borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace"},children:[(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:Uh,width:11}),"Time Period"]}),(0,nd.jsx)("div",{style:{color:c,fontWeight:700,marginTop:2},children:u})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:Wh,width:11}),"Source Type"]}),(0,nd.jsxs)("div",{style:{marginTop:2,display:"inline-block",color:"Primary"===t.sourceType?"#059669":"#6366F1",fontWeight:700},children:[t.sourceType||"Primary"," Source"]})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:Hh,width:11}),"Source"]}),(0,nd.jsx)("div",{style:{color:a.textDescription,marginTop:2},children:t.sourceNote})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:Vh,width:11}),"Added By"]}),(0,nd.jsx)("div",{style:{color:a.textDescription,fontWeight:600,marginTop:2},children:t.addedBy})]}),t.region&&(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:qh,width:11}),"Region"]}),(0,nd.jsx)("div",{style:{color:a.textDescription,marginTop:2},children:t.region})]}),t.section&&(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("span",{style:{color:a.textSecondary,fontWeight:500,display:"inline-flex",alignItems:"center",gap:3},children:[(0,nd.jsx)(jh,{icon:Gh,width:11}),"Section"]}),(0,nd.jsx)("div",{style:{color:a.textDescription,marginTop:2},children:t.section})]})]}),i&&(0,nd.jsx)("div",{style:{marginTop:10,display:"flex",justifyContent:"flex-end"},children:(0,nd.jsxs)("button",{onClick:e=>{e.stopPropagation(),window.confirm("Delete this event? This cannot be undone.")&&o(t.id)},style:{padding:"5px 12px",background:"none",border:"1.5px solid ".concat(a.errorRed),borderRadius:6,color:a.errorRed,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer"},children:[(0,nd.jsx)(jh,{icon:Bh,width:13,style:{verticalAlign:"middle",marginRight:3}}),"Delete Event"]})})]})]})}const $h={width:24,height:24,body:'<path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/>'},Qh={width:24,height:24,body:'<path fill="currentColor" d="m2 21l21-9L2 3v7l15 2l-15 2v7Z"/>'},Yh={width:24,height:24,body:'<path fill="currentColor" d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/>'};function Zh(e){let{onAdd:t,onClose:n,userName:i,timelineStart:o=1910,timelineEnd:s=2e3,periods:a=[]}=e;const{theme:l,getThemedSourceTypeBg:u}=ud(),[d,h]=(0,r.useState)({title:"",year:"",period:"",tags:[],sourceType:"Primary",description:"",sourceNote:"",region:""}),[f,p]=(0,r.useState)({}),[g,m]=(0,r.useState)(!1),y=(e,t)=>{h(n=>c(c({},n),{},{[e]:t})),p(t=>c(c({},t),{},{[e]:void 0}))},v=e=>({width:"100%",padding:"9px 12px",border:"1.5px solid ".concat(f[e]?l.errorRed:l.inputBorder),borderRadius:7,fontSize:13,fontFamily:"'Overpass Mono', monospace",background:l.inputBg,color:l.textPrimary,outline:"none",boxSizing:"border-box",transition:"border-color 0.2s"}),b={fontSize:11,fontWeight:700,color:l.textTertiary,fontFamily:"'Overpass Mono', monospace",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:4,display:"block"};return(0,nd.jsx)("div",{style:{position:"fixed",inset:0,background:l.modalOverlay,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},children:(0,nd.jsxs)("div",{style:{background:l.cardBg,borderRadius:14,padding:"28px 28px 20px",width:"100%",maxWidth:520,maxHeight:"90vh",overflow:"auto",boxShadow:l.modalShadow},children:[(0,nd.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,nd.jsxs)("div",{children:[(0,nd.jsx)("h2",{style:{fontSize:20,fontWeight:700,margin:0,fontFamily:"'Newsreader', 'Georgia', serif",color:l.textPrimary},children:"Add a Historical Event"}),(0,nd.jsxs)("p",{style:{fontSize:11,color:l.textSecondary,margin:"4px 0 0",fontFamily:"'Overpass Mono', monospace"},children:["Submitting as ",(0,nd.jsx)("strong",{style:{color:l.textDescription},children:i})," \xb7 Requires teacher approval"]})]}),(0,nd.jsx)("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",color:l.textSecondary,lineHeight:1,padding:4,display:"flex",alignItems:"center"},children:(0,nd.jsx)(jh,{icon:$h,width:20})})]}),(0,nd.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[(0,nd.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px",gap:10},children:[(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Event Title *"}),(0,nd.jsx)("input",{value:d.title,onChange:e=>y("title",e.target.value),placeholder:"What happened?",style:v("title")})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("label",{style:b,children:["Year * (",o,"\u2013",s,")"]}),(0,nd.jsx)("input",{value:d.year,onChange:e=>y("year",e.target.value),placeholder:String(Math.round((o+s)/2)),type:"number",min:o,max:s,style:v("year")})]})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Time Period *"}),(0,nd.jsxs)("select",{value:d.period,onChange:e=>y("period",e.target.value),style:v("period"),children:[(0,nd.jsx)("option",{value:"",children:"Select a time period..."}),a.map(e=>(0,nd.jsx)("option",{value:e.id,children:e.label},e.id))]})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:c(c({},b),{},{color:f.tags?l.errorRed:l.textTertiary}),children:"Tags (select at least 1) *"}),(0,nd.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:fd.map(e=>(0,nd.jsx)("button",{type:"button",onClick:()=>(e=>{h(t=>c(c({},t),{},{tags:t.tags.includes(e)?t.tags.filter(t=>t!==e):[...t.tags,e]})),p(e=>c(c({},e),{},{tags:void 0}))})(e),style:{padding:"5px 10px",borderRadius:5,border:"1.5px solid ".concat(d.tags.includes(e)?l.activeToggleBg:l.inputBorder),background:d.tags.includes(e)?l.activeToggleBg:l.inputBg,color:d.tags.includes(e)?l.activeToggleText:l.textTertiary,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer",transition:"all 0.15s"},children:e},e))})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Source Type *"}),(0,nd.jsx)("div",{style:{display:"flex",gap:8},children:pd.map(e=>{const t=d.sourceType===("primary"===e.id?"Primary":"Secondary");return(0,nd.jsx)("button",{type:"button",onClick:()=>y("sourceType","primary"===e.id?"Primary":"Secondary"),style:{flex:1,padding:"8px 12px",borderRadius:7,border:"1.5px solid ".concat(t?e.color:l.inputBorder),background:t?u(e.id)||e.bg:l.inputBg,color:t?e.color:l.textSecondary,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer",transition:"all 0.15s"},children:e.label},e.id)})})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Description *"}),(0,nd.jsx)("textarea",{value:d.description,onChange:e=>y("description",e.target.value),placeholder:"What happened and why does it matter? Use evidence from your sources.",rows:4,style:c(c({},v("description")),{},{resize:"vertical",lineHeight:1.5})})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Source Citation *"}),(0,nd.jsx)("input",{value:d.sourceNote,onChange:e=>y("sourceNote",e.target.value),placeholder:"Where did you learn about this?",style:v("sourceNote")})]}),(0,nd.jsxs)("div",{children:[(0,nd.jsx)("label",{style:b,children:"Region (optional)"}),(0,nd.jsx)("input",{value:d.region,onChange:e=>y("region",e.target.value),placeholder:"e.g. Europe, Pacific, National...",style:v("region")})]}),(0,nd.jsxs)("div",{style:{background:l.warmSubtleBg,border:"1px solid ".concat(l.inputBorder),borderRadius:8,padding:"10px 14px",fontSize:11,fontFamily:"'Overpass Mono', monospace",color:l.textTertiary,lineHeight:1.5},children:[(0,nd.jsxs)("span",{style:{fontWeight:700,color:l.textDescription,display:"inline-flex",alignItems:"center",gap:4},children:[(0,nd.jsx)(jh,{icon:Yh,width:14,style:{color:"#F59E0B"}}),"Historian's Tip:"]})," ","Writing a strong event entry practices several skills \u2014 sourcing (2A), contextualization (2B), and classification (3A). A great description explains not just ",(0,nd.jsx)("em",{children:"what"})," happened but"," ",(0,nd.jsx)("em",{children:"why it matters"}),"."]}),(0,nd.jsx)("button",{onClick:async()=>{if((()=>{const e={};return d.title.trim()||(e.title=!0),(!d.year||isNaN(d.year)||d.year<o||d.year>s)&&(e.year=!0),d.period||(e.period=!0),0===d.tags.length&&(e.tags=!0),d.description.trim()||(e.description=!0),d.sourceNote.trim()||(e.sourceNote=!0),p(e),0===Object.keys(e).length})()){m(!0);try{await t(c(c({},d),{},{year:parseInt(d.year)})),n()}catch(e){m(!1)}}},disabled:g,style:{padding:"12px 20px",background:g?l.textSecondary:l.activeToggleBg,color:l.activeToggleText,border:"none",borderRadius:8,fontSize:13,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:g?"default":"pointer",letterSpacing:"0.03em",transition:"all 0.15s"},children:g?"Submitting...":(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)(jh,{icon:Qh,width:14,style:{verticalAlign:"middle",marginRight:5}}),"Submit Event for Approval"]})})]})]})})}const Jh={width:24,height:24,body:'<path fill="currentColor" d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9A3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42c-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3a3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3a3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9c-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65c2.56.34 4.45 1.51 4.45 2.9V20Z"/>'},Xh={width:24,height:24,body:'<path fill="currentColor" d="M18 2c-.9 0-2 1-2 2H8c0-1-1.1-2-2-2H2v9c0 1 1 2 2 2h2.2c.4 2 1.7 3.7 4.8 4v2.08C8 19.54 8 22 8 22h8s0-2.46-3-2.92V17c3.1-.3 4.4-2 4.8-4H20c1 0 2-1 2-2V2h-4M6 11H4V4h2v7m10 .5c0 1.93-.58 3.5-4 3.5c-3.41 0-4-1.57-4-3.5V6h8v5.5m4-.5h-2V4h2v7Z"/>'};function ef(e){let{events:t}=e;const{theme:n}=ud(),i=(0,r.useMemo)(()=>{const e={};return t.forEach(t=>{e[t.addedBy]||(e[t.addedBy]={count:0,email:t.addedByEmail}),e[t.addedBy].count+=1}),Object.entries(e).sort((e,t)=>t[1].count-e[1].count).map(e=>{let[t,{count:n,email:r}]=e;return{name:t,count:n,isTeacher:r===td}})},[t]);return(0,nd.jsxs)("div",{style:{background:n.cardBg,borderRadius:10,border:"1.5px solid ".concat(n.cardBorder),padding:"16px 18px"},children:[(0,nd.jsxs)("h3",{style:{fontSize:11,fontWeight:700,color:n.textSecondary,fontFamily:"'Overpass Mono', monospace",textTransform:"uppercase",letterSpacing:"0.06em",margin:"0 0 12px 0"},children:[(0,nd.jsx)(jh,{icon:Jh,width:13,style:{verticalAlign:"middle",marginRight:4}}),"Contributors"]}),(0,nd.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:i.map(e=>(0,nd.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 0"},children:[(0,nd.jsxs)("span",{style:{fontSize:12,fontFamily:"'Overpass Mono', monospace",color:e.isTeacher?n.textTertiary:n.textPrimary,fontWeight:e.isTeacher?500:600,fontStyle:e.isTeacher?"italic":"normal"},children:[!e.isTeacher&&e===i.find(e=>!e.isTeacher)&&(0,nd.jsx)(jh,{icon:Xh,width:12,style:{color:"#F59E0B",marginRight:3,verticalAlign:"middle"}}),e.name]}),(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,nd.jsx)("div",{style:{width:Math.min(16*e.count,80),height:6,borderRadius:3,background:e.isTeacher?n.inputBorder:n.textPrimary,transition:"width 0.3s ease"}}),(0,nd.jsx)("span",{style:{fontSize:11,fontFamily:"'Overpass Mono', monospace",color:n.textSecondary,fontWeight:600,minWidth:16,textAlign:"right"},children:e.count})]})]},e.name))})]})}const tf={width:24,height:24,body:'<path fill="currentColor" d="M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59L21 7Z"/>'},nf={width:24,height:24,body:'<path fill="currentColor" d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83l3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/>'},rf={width:24,height:24,body:'<path fill="currentColor" d="M12 2c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-1.9 0-3.6.6-4.9 1.7l11.2 11.2c1-1.4 1.7-3.1 1.7-4.9c0-4.4-3.6-8-8-8m4.9 14.3L5.7 7.1C4.6 8.4 4 10.1 4 12c0 4.4 3.6 8 8 8c1.9 0 3.6-.6 4.9-1.7Z"/>'},of={width:24,height:24,body:'<path fill="currentColor" d="M15 9H5V5h10m-3 14a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3a3 3 0 0 1-3 3m5-16H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7l-4-4Z"/>'};function sf(e){let{pendingEvents:t,onClose:n,periods:i=[],getSectionName:o=e=>e}=e;const{theme:s}=ud(),[a,l]=(0,r.useState)(null),[u,d]=(0,r.useState)({}),[h,f]=(0,r.useState)(null),p=async e=>{f(e.id);try{await async function(e){const t=Ru(Ju,"events/".concat(e));await Du(t,{status:"approved"})}(e.id),async function(e){const t=[e.title,e.year,e.period,(e.tags||[]).join(", "),e.sourceType,e.description,e.sourceNote,e.addedBy,e.section,(new Date).toISOString()];try{const e=await fetch("https://script.google.com/macros/s/AKfycbxop4nj3ZuXK5GdpLZmvjIcnZhbJDY8l9Em6SuheN8ZVXfyRt5hLt3MD6eK8m8USvy6BQ/exec",{method:"POST",body:JSON.stringify({row:t})});e.ok||console.error("Google Sheets write failed:",e.status)}catch(n){console.error("Google Sheets bridge error:",n)}}(e)}catch(t){console.error("Approve failed:",t)}f(null)},g=async e=>{if(window.confirm("Reject this submission? It will be removed.")){f(e);try{await async function(e){const t=Ru(Ju,"events/".concat(e));await Lu(t)}(e)}catch(t){console.error("Reject failed:",t)}f(null)}},m=async e=>{f(e);try{await async function(e,t){const n=Ru(Ju,"events/".concat(e));await Du(n,t)}(e,u),l(null)}catch(t){console.error("Edit failed:",t)}f(null)},y={width:"100%",padding:"7px 10px",border:"1.5px solid ".concat(s.inputBorder),borderRadius:6,fontSize:12,fontFamily:"'Overpass Mono', monospace",background:s.inputBg,color:s.textPrimary,outline:"none",boxSizing:"border-box"};return(0,nd.jsx)("div",{style:{position:"fixed",inset:0,background:s.modalOverlay,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},children:(0,nd.jsxs)("div",{style:{background:s.cardBg,borderRadius:14,padding:"28px",width:"100%",maxWidth:640,maxHeight:"90vh",overflow:"auto",boxShadow:s.modalShadow},children:[(0,nd.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,nd.jsxs)("div",{children:[(0,nd.jsx)("h2",{style:{fontSize:20,fontWeight:700,margin:0,fontFamily:"'Newsreader', 'Georgia', serif",color:s.textPrimary},children:"Moderation Queue"}),(0,nd.jsxs)("p",{style:{fontSize:11,color:s.textSecondary,margin:"4px 0 0",fontFamily:"'Overpass Mono', monospace"},children:[t.length," pending submission",1!==t.length?"s":""]})]}),(0,nd.jsx)("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",color:s.textSecondary,lineHeight:1,padding:4,display:"flex",alignItems:"center"},children:(0,nd.jsx)(jh,{icon:$h,width:20})})]}),0===t.length?(0,nd.jsx)("div",{style:{textAlign:"center",padding:"32px 20px",color:s.textSecondary,fontFamily:"'Overpass Mono', monospace",fontSize:12},children:"No pending submissions. All caught up!"}):(0,nd.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:t.map(e=>{var t;const n=hd(i,e.period),r=a===e.id,f=h===e.id;return(0,nd.jsx)("div",{style:{border:"1.5px solid ".concat(s.inputBorder),borderRadius:10,padding:"16px 18px",borderLeft:"4px solid ".concat((null===n||void 0===n?void 0:n.color)||s.textSecondary)},children:r?(0,nd.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[(0,nd.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px",gap:8},children:[(0,nd.jsx)("input",{value:u.title,onChange:e=>d(t=>c(c({},t),{},{title:e.target.value})),style:y,placeholder:"Title"}),(0,nd.jsx)("input",{value:u.year,onChange:e=>d(t=>c(c({},t),{},{year:parseInt(e.target.value)||""})),style:y,type:"number",placeholder:"Year"})]}),(0,nd.jsx)("select",{value:u.period,onChange:e=>d(t=>c(c({},t),{},{period:e.target.value})),style:y,children:i.map(e=>(0,nd.jsx)("option",{value:e.id,children:e.label},e.id))}),(0,nd.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:fd.map(e=>(0,nd.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>c(c({},t),{},{tags:t.tags.includes(e)?t.tags.filter(t=>t!==e):[...t.tags,e]}))})(e),style:{padding:"3px 8px",borderRadius:4,border:"1px solid ".concat(u.tags.includes(e)?s.activeToggleBg:s.inputBorder),background:u.tags.includes(e)?s.activeToggleBg:s.inputBg,color:u.tags.includes(e)?s.activeToggleText:s.textSecondary,fontSize:10,fontFamily:"'Overpass Mono', monospace",cursor:"pointer"},children:e},e))}),(0,nd.jsx)("textarea",{value:u.description,onChange:e=>d(t=>c(c({},t),{},{description:e.target.value})),style:c(c({},y),{},{resize:"vertical"}),rows:3}),(0,nd.jsx)("input",{value:u.sourceNote,onChange:e=>d(t=>c(c({},t),{},{sourceNote:e.target.value})),style:y,placeholder:"Source citation"}),(0,nd.jsxs)("div",{style:{display:"flex",gap:6,justifyContent:"flex-end"},children:[(0,nd.jsx)("button",{onClick:()=>l(null),style:{padding:"6px 14px",background:"none",border:"1.5px solid ".concat(s.inputBorder),borderRadius:6,fontSize:11,fontFamily:"'Overpass Mono', monospace",cursor:"pointer",color:s.textTertiary},children:"Cancel"}),(0,nd.jsxs)("button",{onClick:()=>m(e.id),disabled:f,style:{padding:"6px 14px",background:s.activeToggleBg,color:s.activeToggleText,border:"none",borderRadius:6,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer"},children:[(0,nd.jsx)(jh,{icon:of,width:13,style:{verticalAlign:"middle",marginRight:3}}),"Save Edits"]})]})]}):(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10,marginBottom:8},children:[(0,nd.jsx)("div",{style:{background:(null===n||void 0===n?void 0:n.color)||s.textTertiary,color:"#fff",fontSize:11,fontWeight:700,padding:"3px 7px",borderRadius:4,fontFamily:"'Overpass Mono', monospace",flexShrink:0},children:e.year}),(0,nd.jsxs)("div",{style:{flex:1},children:[(0,nd.jsx)("div",{style:{fontSize:14,fontWeight:700,color:s.textPrimary,fontFamily:"'Newsreader', 'Georgia', serif"},children:e.title}),(0,nd.jsxs)("div",{style:{fontSize:10,color:s.textSecondary,fontFamily:"'Overpass Mono', monospace",marginTop:2},children:["by ",e.addedBy," \xb7 ",o(e.section)," \xb7"," ",(null===n||void 0===n||null===(t=n.label)||void 0===t?void 0:t.slice(0,12))||e.period]})]})]}),(0,nd.jsx)("p",{style:{fontSize:12,lineHeight:1.6,color:s.textDescription,margin:"0 0 8px 0",fontFamily:"'Newsreader', 'Georgia', serif"},children:e.description}),(0,nd.jsxs)("div",{style:{fontSize:10,color:s.textTertiary,fontFamily:"'Overpass Mono', monospace",marginBottom:10},children:[(0,nd.jsx)("strong",{children:"Source:"})," ",e.sourceNote," \xb7"," ",(0,nd.jsx)("strong",{children:"Type:"})," ",e.sourceType," \xb7"," ",(0,nd.jsx)("strong",{children:"Tags:"})," ",(e.tags||[]).join(", ")]}),(0,nd.jsxs)("div",{style:{display:"flex",gap:6,justifyContent:"flex-end"},children:[(0,nd.jsxs)("button",{onClick:()=>g(e.id),disabled:f,style:{padding:"6px 14px",background:"none",border:"1.5px solid ".concat(s.errorRed),borderRadius:6,color:s.errorRed,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer"},children:[(0,nd.jsx)(jh,{icon:rf,width:13,style:{verticalAlign:"middle",marginRight:3}}),"Reject"]}),(0,nd.jsxs)("button",{onClick:()=>(e=>{l(e.id),d({title:e.title,year:e.year,period:e.period,tags:[...e.tags||[]],sourceType:e.sourceType||"Primary",description:e.description,sourceNote:e.sourceNote,region:e.region||""})})(e),disabled:f,style:{padding:"6px 14px",background:"none",border:"1.5px solid ".concat(s.inputBorder),borderRadius:6,color:s.textDescription,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer"},children:[(0,nd.jsx)(jh,{icon:nf,width:13,style:{verticalAlign:"middle",marginRight:3}}),"Edit"]}),(0,nd.jsx)("button",{onClick:()=>p(e),disabled:f,style:{padding:"6px 14px",background:s.successGreen,color:"#fff",border:"none",borderRadius:6,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer"},children:f?"...":(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)(jh,{icon:tf,width:14,style:{verticalAlign:"middle",marginRight:3}}),"Approve"]})})]})]})},e.id)})})]})})}const af={width:24,height:24,body:'<path fill="currentColor" d="M21 8c-1.5 0-2.3 1.4-1.9 2.5l-3.6 3.6c-.3-.1-.7-.1-1 0l-2.6-2.6c.4-1.1-.4-2.5-1.9-2.5c-1.4 0-2.3 1.4-1.9 2.5L3.5 16c-1.1-.3-2.5.5-2.5 2c0 1.1.9 2 2 2c1.4 0 2.3-1.4 1.9-2.5l4.5-4.6c.3.1.7.1 1 0l2.6 2.6c-.3 1 .5 2.5 2 2.5s2.3-1.4 1.9-2.5l3.6-3.6c1.1.3 2.5-.5 2.5-1.9c0-1.1-.9-2-2-2m-6 1l.9-2.1L18 6l-2.1-.9L15 3l-.9 2.1L12 6l2.1.9L15 9M3.5 11L4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9l.5 2Z"/>'},lf={width:24,height:24,body:'<path fill="currentColor" d="M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27c3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10c5.35 0 9.25-3.67 9.25-9.09c0-1.15-.15-1.81-.15-1.81Z"/>'},cf={width:24,height:24,body:'<path fill="currentColor" d="M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18a8 8 0 0 1-8-8a8 8 0 0 1 8-8a8 8 0 0 1 8 8a8 8 0 0 1-8 8Z"/>'};function uf(e){let{onLogin:t,error:n}=e;const{theme:r}=ud();return(0,nd.jsxs)("div",{style:{fontFamily:"'Newsreader', 'Georgia', serif",background:r.pageBg,minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:r.textPrimary},children:[(0,nd.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400;6..72,600;6..72,700&family=Overpass+Mono:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,nd.jsx)("style",{children:"* { transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; }"}),(0,nd.jsxs)("div",{style:{background:r.cardBg,borderRadius:14,padding:"40px 36px",maxWidth:400,width:"100%",textAlign:"center",boxShadow:r.cardShadow,border:"1.5px solid ".concat(r.cardBorder)},children:[(0,nd.jsx)("div",{style:{fontSize:10,fontWeight:700,color:r.accentGold,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.1em",textTransform:"uppercase",background:r.accentGoldSubtle,padding:"3px 8px",borderRadius:4,display:"inline-block",marginBottom:12},children:"Historian's Workshop"}),(0,nd.jsxs)("h1",{style:{fontSize:28,fontWeight:700,margin:"0 0 6px 0",fontFamily:"'Newsreader', 'Georgia', serif",letterSpacing:"-0.01em",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[(0,nd.jsx)(jh,{icon:af,width:28,style:{color:"#F59E0B"}}),"Timeline Explorer"]}),(0,nd.jsx)("p",{style:{fontSize:12,color:r.textSecondary,margin:"0 0 28px 0",fontFamily:"'Overpass Mono', monospace"},children:"Sign in with your school account to continue"}),n&&(0,nd.jsxs)("div",{style:{background:r.errorRedBg,border:"1px solid ".concat(r.errorRedBorder),borderRadius:8,padding:"10px 14px",marginBottom:16,fontSize:12,color:r.errorRedText,fontFamily:"'Overpass Mono', monospace",display:"flex",alignItems:"center",gap:6},children:[(0,nd.jsx)(jh,{icon:cf,width:16,style:{flexShrink:0}}),n]}),(0,nd.jsxs)("button",{onClick:t,style:{padding:"12px 24px",background:r.activeToggleBg,color:r.activeToggleText,border:"none",borderRadius:8,fontSize:13,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer",letterSpacing:"0.02em",width:"100%",transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:lf,width:16,style:{verticalAlign:"middle",marginRight:6}}),"Sign in with Google"]}),(0,nd.jsxs)("p",{style:{fontSize:10,color:r.textMuted,margin:"16px 0 0 0",fontFamily:"'Overpass Mono', monospace"},children:["Requires an @",ed," account"]})]})]})}const df={width:24,height:24,body:'<path fill="currentColor" d="M12 17a2 2 0 0 1-2-2c0-1.11.89-2 2-2a2 2 0 0 1 2 2a2 2 0 0 1-2 2m6 3V10H6v10h12m0-12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10c0-1.11.89-2 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"/>'},hf={width:24,height:24,body:'<path fill="currentColor" d="M10 13a2 2 0 0 1 2 2c0 1.11-.89 2-2 2s-2-.89-2-2s.9-2 2-2m8-12c-2.76 0-5 2.24-5 5v2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2h-1V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2h2V6c0-2.76-2.24-5-5-5m-2 9v10H4V10h12Z"/>'},ff={width:24,height:24,body:'<path fill="currentColor" d="m14.06 9l.94.94L5.92 19H5v-.92L14.06 9m3.6-6c-.25 0-.51.1-.7.29l-1.83 1.83l3.75 3.75l1.83-1.83c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75Z"/>'},pf={width:24,height:24,body:'<path fill="currentColor" d="M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-18C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m2.59 6L12 10.59L9.41 8L8 9.41L10.59 12L8 14.59L9.41 16L12 13.41L14.59 16L16 14.59L13.41 12L16 9.41L14.59 8Z"/>'},gf={width:24,height:24,body:'<path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"/>'};function mf(e){let{sections:t,locked:n,onToggleLock:i,onAdd:o,onDelete:s,onRename:a,theme:l}=e;const[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)(""),y=()=>{const e=g.trim();e&&o(e),p(!1),m("")};return(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("div",{style:{fontSize:10,fontWeight:700,color:l.mutedText,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Sections",(0,nd.jsx)("button",{onClick:i,title:n?"Unlock to edit":"Lock sections",style:{background:"none",border:"none",padding:2,cursor:"pointer",color:n?l.textMuted:l.teacherGreen,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:n?df:hf,width:12})})]}),(0,nd.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[0===t.length&&(0,nd.jsx)("div",{style:{fontSize:10,color:l.textMuted,fontStyle:"italic",padding:"4px 6px"},children:"No sections configured"}),t.map(e=>{const t=c===e.id&&!n;return(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 6px",borderRadius:4,background:t?l.subtleBg:"transparent",transition:"background 0.15s"},children:[(0,nd.jsx)("div",{style:{width:6,height:6,borderRadius:2,background:l.accentGold,flexShrink:0}}),t?(0,nd.jsx)("input",{type:"text",value:d,autoFocus:!0,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.target.blur(),"Escape"===e.key&&(u(null),h(""))},onBlur:()=>(e=>{const t=d.trim();t&&a(e,t),u(null),h("")})(e.id),style:{flex:1,padding:"3px 6px",border:"1.5px solid ".concat(l.inputBorder),borderRadius:4,fontSize:10,fontFamily:"'Overpass Mono', monospace",background:l.inputBg,color:l.textPrimary,outline:"none",boxSizing:"border-box"}}):(0,nd.jsx)("span",{style:{fontSize:10,color:l.textPrimary,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,nd.jsx)("span",{style:{fontSize:8,color:l.textMuted,flexShrink:0,opacity:.6,fontFamily:"'Overpass Mono', monospace"},children:e.id}),!n&&(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("button",{onClick:()=>{return t?u(null):(u((n=e).id),void h(n.name));var n},title:"Rename section",style:{background:"none",border:"none",padding:0,cursor:"pointer",color:t?l.teacherGreen:l.textMuted,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:ff,width:11})}),(0,nd.jsx)("button",{onClick:()=>{window.confirm('Delete "'.concat(e.name,'"? Events in this section will only be visible in All Sections view.'))&&(s(e.id),c===e.id&&u(null))},title:"Delete section",onMouseEnter:e=>e.currentTarget.style.color=l.errorRed,onMouseLeave:e=>e.currentTarget.style.color=l.textMuted,style:{background:"none",border:"none",padding:0,cursor:"pointer",color:l.textMuted,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:pf,width:11})})]})]},e.id)})]}),!n&&(f?(0,nd.jsx)("div",{style:{marginTop:6,display:"flex",gap:6,alignItems:"center"},children:(0,nd.jsx)("input",{type:"text",value:g,autoFocus:!0,placeholder:"Section name",onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y(),"Escape"===e.key&&(p(!1),m(""))},onBlur:y,style:{flex:1,padding:"5px 8px",border:"1.5px solid ".concat(l.inputBorder),borderRadius:4,fontSize:10,fontFamily:"'Overpass Mono', monospace",background:l.inputBg,color:l.textPrimary,outline:"none",boxSizing:"border-box"}})}):(0,nd.jsxs)("button",{onClick:()=>p(!0),style:{width:"100%",marginTop:6,padding:"5px 0",border:"1.5px dashed ".concat(l.inputBorder),borderRadius:4,background:"transparent",color:l.textSecondary,fontSize:10,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:4,transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:gf,width:12}),"Add Section"]}))]})}const yf={width:24,height:24,body:'<path fill="currentColor" d="m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5Z"/>'},vf={width:24,height:24,body:'<path fill="currentColor" d="M16 10h-2V7h-4v3H8l4 4m7 1h-4a3 3 0 0 1-3 3a3 3 0 0 1-3-3H5V5h14m0-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/>'},bf={width:24,height:24,body:'<path fill="currentColor" d="M20 13.09V7c0-2.21-3.58-4-8-4S4 4.79 4 7v10c0 2.21 3.59 4 8 4c.46 0 .9 0 1.33-.06A5.94 5.94 0 0 1 13 19v-.05c-.32.05-.65.05-1 .05c-3.87 0-6-1.5-6-2v-2.23c1.61.78 3.72 1.23 6 1.23c.65 0 1.27-.04 1.88-.11A5.986 5.986 0 0 1 19 13c.34 0 .67.04 1 .09m-2-.64c-1.3.95-3.58 1.55-6 1.55s-4.7-.6-6-1.55V9.64c1.47.83 3.61 1.36 6 1.36s4.53-.53 6-1.36v2.81M12 9C8.13 9 6 7.5 6 7s2.13-2 6-2s6 1.5 6 2s-2.13 2-6 2m11 9v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3Z"/>'},_f={width:24,height:24,body:'<path fill="currentColor" d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"/>'},wf={width:24,height:24,body:'<path fill="currentColor" d="M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},Sf={width:24,height:24,body:'<path fill="currentColor" d="M19 7h3l-4-4l-4 4h3v14h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"/>'},kf={width:24,height:24,body:'<path fill="currentColor" d="M14.73 20.83L17.58 18l-2.85-2.83l1.42-1.41L19 16.57l2.8-2.81l1.42 1.41L20.41 18l2.81 2.83l-1.42 1.41L19 19.4l-2.85 2.84l-1.42-1.41M13 19.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0L7.29 16.7a.989.989 0 0 1-.29-.83v-5.12L2.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L13 10.75v9.13M5.04 5L9 10.06v5.52l2 2v-7.53L14.96 5H5.04Z"/>'},xf={width:24,height:24,body:'<path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4m0 2.18l7 3.12v4.92c0 1.7-.5 3.43-1.35 4.95C16 14.94 13.26 14.5 12 14.5c-1.26 0-4 .44-5.65 1.67C5.5 14.65 5 12.92 5 11.22V6.3l7-3.12M12 6a3.5 3.5 0 0 0-3.5 3.5A3.5 3.5 0 0 0 12 13a3.5 3.5 0 0 0 3.5-3.5A3.5 3.5 0 0 0 12 6m0 2a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 12 11a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 12 8m0 8.5c1.57 0 3.64.61 4.53 1.34C15.29 19.38 13.7 20.55 12 21c-1.7-.45-3.29-1.62-4.53-3.16c.9-.73 2.96-1.34 4.53-1.34Z"/>'},Cf={width:24,height:24,body:'<path fill="currentColor" d="M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42h-4m1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4h-1.5Z"/>'},Ef={width:24,height:24,body:'<path fill="currentColor" d="M12 9a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5c-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0a9.821 9.821 0 0 0-17.64 0Z"/>'},Tf={width:24,height:24,body:'<path fill="currentColor" d="M2 5.27L3.28 4L20 20.72L18.73 22l-3.08-3.08c-1.15.38-2.37.58-3.65.58c-5 0-9.27-3.11-11-7.5c.69-1.76 1.79-3.31 3.19-4.54L2 5.27M12 9a3 3 0 0 1 3 3a3 3 0 0 1-.17 1L11 9.17A3 3 0 0 1 12 9m0-4.5c5 0 9.27 3.11 11 7.5a11.79 11.79 0 0 1-4 5.19l-1.42-1.43A9.862 9.862 0 0 0 20.82 12A9.821 9.821 0 0 0 12 6.5c-1.09 0-2.16.18-3.16.5L7.3 5.47c1.44-.62 3.03-.97 4.7-.97M3.18 12A9.821 9.821 0 0 0 12 17.5c.69 0 1.37-.07 2-.21L11.72 15A3.064 3.064 0 0 1 9 12.28L5.6 8.87c-.99.85-1.82 1.91-2.42 3.13Z"/>'},If={width:24,height:24,body:'<path fill="currentColor" d="M11 18v-8H9.12l2-4H5.38L3 10.76V18m6-2H5v-4.76L6.62 8h1.26l-2 4H9m12 6v-8h-1.88l2-4h-5.74L13 10.76V18m6-2h-4v-4.76L16.62 8h1.26l-2 4H19Z"/>'};function Pf(){return new URLSearchParams(window.location.search).get("section")||"Period1"}function Nf(){var e,t,n,i;const{user:o,loading:s,authError:a,login:l,logout:u,isTeacher:d}=function(){const e=(0,r.useContext)(rd);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}(),{theme:h,mode:f,toggleTheme:p,getThemedPeriodBg:g}=ud(),[m,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(Pf),[_,w]=(0,r.useState)("all"),[S,k]=(0,r.useState)("all"),[x,C]=(0,r.useState)(null),[E,T]=(0,r.useState)(""),[I,P]=(0,r.useState)("chrono"),[N,R]=(0,r.useState)(!1),[A,O]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[D,F]=(0,r.useState)("all"),[j,z]=(0,r.useState)(!1),[B,U]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),V=(0,r.useRef)(null),[q,G]=(0,r.useState)(1910),[K,$]=(0,r.useState)(2e3),[Q,Y]=(0,r.useState)("1910"),[Z,J]=(0,r.useState)("2000"),[X,ee]=(0,r.useState)(!0),[te,ne]=(0,r.useState)([]),[re,ie]=(0,r.useState)(!0),[oe,se]=(0,r.useState)(null),[ae,le]=(0,r.useState)(""),[ce,ue]=(0,r.useState)(""),[de,he]=(0,r.useState)({}),fe=(0,r.useRef)(!1),[pe,ge]=(0,r.useState)([]),[me,ye]=(0,r.useState)(!1),[ve,be]=(0,r.useState)(null),[_e,we]=(0,r.useState)(!0),[Se,ke]=(0,r.useState)({text:"",enabled:!1}),[xe,Ce]=(0,r.useState)(""),[Ee,Te]=(0,r.useState)(!1),[Ie,Pe]=(0,r.useState)(!0),[Ne,Re]=(0,r.useState)(!1),[Ae,Oe]=(0,r.useState)({text:"",enabled:!1}),[Le,Me]=(0,r.useState)({}),De=(0,r.useRef)(!1),Fe=(0,r.useMemo)(()=>ve||[],[ve]),je=(0,r.useCallback)(e=>{var t;return(null===(t=Fe.find(t=>t.id===e))||void 0===t?void 0:t.name)||e},[Fe]),ze=e=>{se(e.id),le(String(e.era[0])),ue(String(e.era[1]))},Be=e=>{const t=Number(ae)||0,n=Number(ce)||0,r=te.map(r=>r.id===e?c(c({},r),{},{era:[t,Math.max(t+1,n)]}):r);ne(r),Ke(r)},Ue=(new Date).getFullYear(),We=e=>10*Math.ceil(e/10),He=e=>{b(e),C(null),ie(!0),fe.current=!1,se(null),ye(!1),Pe(!0),De.current=!1,Re(!1);const t=new URL(window.location);t.searchParams.set("section",e),window.history.replaceState({},"",t)};(0,r.useEffect)(()=>{if(!o)return;const e=md(d&&"all"===v?"all":v,e=>{y(e)});return()=>e()},[o,v,d]),(0,r.useEffect)(()=>{if(!o)return;const e=function(e){return Bu(Ru(Ju,"sections"),t=>{const n=t.val();e(Array.isArray(n)?n.filter(Boolean):null)})}(e=>{be(e||[])});return()=>e()},[o]);const Ve=(0,r.useCallback)(e=>{const t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),n=Fe.some(e=>e.id===t)?"".concat(t,"-").concat(Date.now()):t,r=[...Fe,{id:n,name:e}];be(r),bd(r),pe.length>0&&yd(n,pe),Ae.text&&vd(n,Ae)},[Fe,pe,Ae]),qe=(0,r.useCallback)(e=>{const t=Fe.filter(t=>t.id!==e);be(t),bd(t),v===e&&He(t.length>0?t[0].id:"all")},[Fe,v]),Ge=(0,r.useCallback)((e,t)=>{const n=Fe.map(n=>n.id===e?c(c({},n),{},{name:t}):n);be(n),bd(n)},[Fe]);(0,r.useEffect)(()=>{if(!o)return;const e=function(e){return Bu(Ru(Ju,"defaultPeriods"),t=>{const n=t.val();e(Array.isArray(n)?n.filter(Boolean):null)})}(e=>{ge(e||[])});return()=>e()},[o]),(0,r.useEffect)(()=>{me&&!fe.current&&ne(pe)},[me,pe]),(0,r.useEffect)(()=>{if(!o||me)return;const e=d&&"all"===v?"all":v;if("all"===e){const e=function(e,t){const n={},r=[];for(const i of e){const e=Bu(Ru(Ju,"sectionSettings/".concat(i,"/periods")),e=>{const r=e.val();n[i]=Array.isArray(r)?r.filter(Boolean):null,t(c({},n))});r.push(e)}return()=>r.forEach(e=>e())}(Fe.map(e=>e.id),e=>{fe.current||he(e)});return()=>e()}{const t=function(e,t){return Bu(Ru(Ju,"sectionSettings/".concat(e,"/periods")),e=>{const n=e.val();t(Array.isArray(n)?n.filter(Boolean):null)})}(e,e=>{fe.current||ne(e||[])});return()=>t()}},[o,v,d,Fe,me]);const Ke=(0,r.useCallback)(e=>{if(me){!async function(e){const t=Ru(Ju,"defaultPeriods");await Mu(t,e)}(e);for(const t of Fe)yd(t.id,e)}else"all"!==v&&yd(v,e)},[me,v,Fe]);(0,r.useEffect)(()=>{if(!o)return;const e=function(e){return Bu(Ru(Ju,"defaultCompellingQuestion"),t=>{e(t.val()||null)})}(e=>{Oe(e||{text:"",enabled:!1})});return()=>e()},[o]),(0,r.useEffect)(()=>{if(Ne&&!De.current){const e=Ae||{text:"",enabled:!1};ke(e),Ce(e.text),Te(e.enabled)}},[Ne,Ae]),(0,r.useEffect)(()=>{if(!o||Ne)return;const e=d&&"all"===v?"all":v;if("all"===e){const e=function(e,t){const n={},r=[];for(const i of e){const e=Bu(Ru(Ju,"sectionSettings/".concat(i,"/compellingQuestion")),e=>{n[i]=e.val()||null,t(c({},n))});r.push(e)}return()=>r.forEach(e=>e())}(Fe.map(e=>e.id),e=>{De.current||Me(e)});return()=>e()}{const t=function(e,t){return Bu(Ru(Ju,"sectionSettings/".concat(e,"/compellingQuestion")),e=>{t(e.val()||null)})}(e,e=>{if(De.current)return;const t=e||{text:"",enabled:!1};ke(t),Ce(t.text),Te(t.enabled)});return()=>t()}},[o,v,d,Fe,Ne]);const $e=(0,r.useCallback)(e=>{if(Ne){!async function(e){const t=Ru(Ju,"defaultCompellingQuestion");await Mu(t,e)}(e);for(const t of Fe)vd(t.id,e)}else"all"!==v&&vd(v,e)},[Ne,v,Fe]);(0,r.useEffect)(()=>{if(!W)return;const e=e=>{V.current&&!V.current.contains(e.target)&&H(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[W]);const Qe=(0,r.useMemo)(()=>m.filter(e=>"approved"===e.status),[m]),Ye=(0,r.useMemo)(()=>m.filter(e=>"pending"===e.status),[m]),Ze=(0,r.useMemo)(()=>{let e=[...Qe];if("all"!==_&&(e=e.filter(e=>e.period===_)),"all"!==S&&(e=e.filter(e=>(e.tags||[]).includes(S))),d&&"all"!==D&&(e=e.filter(e=>e.section===D)),E){const t=E.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.addedBy.toLowerCase().includes(t)||e.region&&e.region.toLowerCase().includes(t))}return e.sort((e,t)=>"chrono"===I?e.year-t.year:t.year-e.year),e},[Qe,_,S,E,I,d,D]),Je=(0,r.useMemo)(()=>{if("all"!==v||0===Object.keys(de).length)return te;const e=new Set,t=[];for(const n of Fe)for(const r of de[n.id]||[])e.has(r.id)||(e.add(r.id),t.push(r));return t},[v,de,te,Fe]),Xe="all"===v?Je:te,et=e=>hd(Xe,e),tt="all"===v?null:Se,nt=(0,r.useCallback)(async e=>{var t;await async function(e){const t=Ou(gd);return await Mu(t,c(c({},e),{},{status:"pending",dateAdded:(new Date).toISOString()})),t.key}(c(c({},e),{},{addedBy:o.displayName||o.email.split("@")[0],addedByEmail:o.email,addedByUid:o.uid,section:"all"===v?(null===(t=Fe[0])||void 0===t?void 0:t.id)||"Period1":v}))},[o,v,Fe]),rt=(0,r.useCallback)(async e=>{try{await async function(e){const t=Ru(Ju,"events/".concat(e));await Lu(t)}(e)}catch(t){console.error("Delete failed:",t)}},[]);if(s)return(0,nd.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Overpass Mono', monospace",color:h.textSecondary,fontSize:13,background:h.pageBg},children:"Loading..."});if(!o)return(0,nd.jsx)(uf,{onLogin:l,error:a});const it=[...new Set(Qe.filter(e=>e.addedByEmail!==td).map(e=>e.addedBy))].length;return(0,nd.jsxs)("div",{style:{fontFamily:"'Newsreader', 'Georgia', serif",background:h.pageBg,minHeight:"100vh",color:h.pageText,colorScheme:f},children:[(0,nd.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400;6..72,600;6..72,700&family=Overpass+Mono:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,nd.jsx)("style",{children:"* { transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; }"}),(0,nd.jsx)("div",{style:{background:h.headerBg,color:h.headerText,padding:"24px 28px 16px"},children:(0,nd.jsx)("div",{style:{maxWidth:960,margin:"0 auto"},children:(0,nd.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:12},children:[(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:2},children:[(0,nd.jsx)("span",{style:{fontSize:10,fontWeight:700,color:h.accentGold,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.1em",textTransform:"uppercase",background:h.accentGoldSubtle,padding:"3px 8px",borderRadius:4},children:"Historian's Workshop"}),d&&(0,nd.jsxs)("span",{style:{fontSize:10,fontWeight:700,color:h.teacherGreen,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.1em",textTransform:"uppercase",background:h.teacherGreenSubtle,padding:"3px 8px",borderRadius:4,display:"inline-flex",alignItems:"center",gap:4},children:[(0,nd.jsx)(jh,{icon:xf,width:12}),"Teacher View"]}),d&&(0,nd.jsxs)("div",{ref:V,style:{position:"relative"},children:[(0,nd.jsxs)("button",{onClick:()=>H(e=>!e),style:{fontSize:10,fontWeight:700,color:W?h.bg:h.teacherGreen,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.1em",textTransform:"uppercase",background:W?h.teacherGreen:h.teacherGreenSubtle,padding:"3px 8px",borderRadius:4,border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:4,transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:Cf,width:12}),"Admin",(0,nd.jsx)(jh,{icon:zh,width:12,style:{transform:W?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.15s"}})]}),W&&(0,nd.jsxs)("div",{style:{position:"absolute",top:"calc(100% + 6px)",left:0,background:h.cardBg,border:"1px solid ".concat(h.borderColor),borderRadius:8,padding:12,minWidth:280,zIndex:999,boxShadow:"0 8px 24px rgba(0,0,0,0.15)",fontFamily:"'Overpass Mono', monospace"},children:[(0,nd.jsxs)("div",{style:{fontSize:10,fontWeight:700,color:h.mutedText,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:10,display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Timeline Range",(0,nd.jsx)("button",{onClick:()=>ee(e=>!e),title:X?"Unlock to edit":"Lock value",style:{background:"none",border:"none",padding:2,cursor:"pointer",color:X?h.textMuted:h.teacherGreen,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:X?df:hf,width:12})})]}),(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,nd.jsxs)("div",{style:{flex:1},children:[(0,nd.jsx)("label",{style:{fontSize:9,color:h.textSecondary,textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600,marginBottom:3,display:"block"},children:"Start"}),(0,nd.jsx)("input",{type:"number",value:Q,step:10,disabled:X,onChange:e=>Y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},onBlur:()=>{const e=(t=Math.max(0,Math.min(Number(Q),K-10)),10*Math.floor(t/10));var t;G(e),Y(String(e))},style:{width:"100%",padding:"6px 8px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:6,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box",textAlign:"center",opacity:X?.5:1,cursor:X?"not-allowed":"text",transition:"opacity 0.15s"}})]}),(0,nd.jsx)("span",{style:{fontSize:12,color:h.textMuted,marginTop:14},children:"\u2013"}),(0,nd.jsxs)("div",{style:{flex:1},children:[(0,nd.jsx)("label",{style:{fontSize:9,color:h.textSecondary,textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:600,marginBottom:3,display:"block"},children:"End"}),(0,nd.jsx)("input",{type:"number",value:Z,step:10,disabled:X,onChange:e=>J(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},onBlur:()=>{const e=We(Ue),t=We(Math.max(q+10,Math.min(Number(Z),e)));$(t),J(String(t))},style:{width:"100%",padding:"6px 8px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:6,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box",textAlign:"center",opacity:X?.5:1,cursor:X?"not-allowed":"text",transition:"opacity 0.15s"}})]})]}),(0,nd.jsxs)("div",{style:{fontSize:9,color:h.textMuted,marginTop:6,textAlign:"center",letterSpacing:"0.05em"},children:[K-q," year span \xb7 snaps to decade"]}),(0,nd.jsx)("div",{style:{height:1,background:h.inputBorder,margin:"10px 0"}}),(0,nd.jsxs)("div",{style:{fontSize:10,fontWeight:700,color:h.mutedText,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,nd.jsxs)("span",{children:["Time Periods",me?" \xb7 Default":"all"!==v?" \xb7 ".concat(je(v)):""]}),(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,nd.jsx)("button",{onClick:()=>{ye(e=>!e),ie(!0),fe.current=!1,se(null)},title:me?"Switch to section time periods":"Edit default time periods (applies to all sections)",style:{fontSize:8,fontWeight:600,fontFamily:"'Overpass Mono', monospace",padding:"1px 5px",borderRadius:3,border:"1px solid ".concat(me?h.teacherGreen:h.inputBorder),background:me?h.teacherGreen+"20":"transparent",color:me?h.teacherGreen:h.textMuted,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.15s"},children:"Default"}),(0,nd.jsx)("button",{onClick:()=>{ie(e=>(fe.current=e,!e))},title:re?"Unlock to edit":"Lock time periods",style:{background:"none",border:"none",padding:2,cursor:"pointer",color:re?h.textMuted:h.teacherGreen,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:re?df:hf,width:12})})]})]}),me&&(0,nd.jsx)("div",{style:{fontSize:9,color:h.textMuted,fontStyle:"italic",marginBottom:6,letterSpacing:"0.03em"},children:"Edits apply to all sections & future sections"}),(0,nd.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[0===te.length&&(0,nd.jsx)("div",{style:{fontSize:10,color:h.textMuted,fontStyle:"italic",padding:"4px 6px"},children:"No time periods configured"}),te.map(e=>{const t=oe===e.id&&!re;return(0,nd.jsxs)("div",{children:[(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"4px 6px",borderRadius:4,background:t?h.subtleBg:"transparent",transition:"background 0.15s"},children:[(0,nd.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",background:e.accent,flexShrink:0}}),(0,nd.jsx)("span",{style:{fontSize:10,color:h.textPrimary,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.label}),(0,nd.jsxs)("span",{style:{fontSize:9,color:h.textMuted,flexShrink:0},children:[e.era[0],"\u2013",e.era[1]]}),!re&&(0,nd.jsxs)(nd.Fragment,{children:[(0,nd.jsx)("button",{onClick:()=>t?se(null):ze(e),title:"Edit time period",style:{background:"none",border:"none",padding:0,cursor:"pointer",color:t?h.teacherGreen:h.textMuted,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:ff,width:11})}),(0,nd.jsx)("button",{onClick:()=>{if(!window.confirm('Delete "'.concat(e.label,'"? Events assigned to this time period will lose their time period.')))return;const t=te.filter(t=>t.id!==e.id);ne(t),Ke(t),_===e.id&&w("all"),oe===e.id&&se(null)},title:"Delete time period",onMouseEnter:e=>e.currentTarget.style.color=h.errorRed,onMouseLeave:e=>e.currentTarget.style.color=h.textMuted,style:{background:"none",border:"none",padding:0,cursor:"pointer",color:h.textMuted,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:pf,width:11})})]})]}),t&&(0,nd.jsxs)("div",{style:{padding:"8px 6px 6px",display:"flex",flexDirection:"column",gap:6},children:[(0,nd.jsx)("input",{type:"text",value:e.label,onChange:t=>{const n=t.target.value;(n.trim()||""===n)&&ne(t=>t.map(t=>t.id===e.id?c(c({},t),{},{label:n}):t))},onBlur:t=>{const n=t.target.value.trim()||"Untitled Time Period",r=te.map(t=>t.id===e.id?c(c({},t),{},{label:n}):t);ne(r),Ke(r)},placeholder:"Time period label",style:{padding:"5px 8px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:4,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box"}}),(0,nd.jsxs)("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,nd.jsx)("input",{type:"number",value:ae,onChange:e=>le(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},onBlur:()=>Be(e.id),style:{width:"100%",padding:"5px 6px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:4,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box",textAlign:"center"}}),(0,nd.jsx)("span",{style:{fontSize:10,color:h.textMuted},children:"\u2013"}),(0,nd.jsx)("input",{type:"number",value:ce,onChange:e=>ue(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},onBlur:()=>Be(e.id),style:{width:"100%",padding:"5px 6px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:4,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box",textAlign:"center"}})]}),(0,nd.jsx)("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:dd.map((t,n)=>(0,nd.jsx)("button",{onClick:()=>{const n=te.map(n=>n.id===e.id?c(c({},n),{},{color:t.color,bg:t.bg,accent:t.accent}):n);ne(n),Ke(n)},title:"Color ".concat(n+1),style:{width:18,height:18,borderRadius:"50%",background:t.accent,border:e.color===t.color?"2px solid ".concat(h.textPrimary):"2px solid transparent",cursor:"pointer",padding:0,transition:"border-color 0.15s"}},n))})]})]},e.id)})]}),!re&&(0,nd.jsxs)("button",{onClick:()=>{const e="period-"+Date.now(),t=te.length%dd.length,n=dd[t],r={id:e,label:"New Time Period",color:n.color,bg:n.bg,accent:n.accent,era:[q,K]},i=[...te,r];ne(i),Ke(i),ze(r)},style:{width:"100%",marginTop:6,padding:"5px 0",border:"1.5px dashed ".concat(h.inputBorder),borderRadius:4,background:"transparent",color:h.textSecondary,fontSize:10,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:4,transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:gf,width:12}),"Add Time Period"]}),(0,nd.jsx)("div",{style:{height:1,background:h.inputBorder,margin:"10px 0"}}),(0,nd.jsxs)("div",{style:{fontSize:10,fontWeight:700,color:h.mutedText,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,nd.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[(0,nd.jsx)(jh,{icon:If,width:12}),"Question",Ne?" \xb7 Default":"all"!==v?" \xb7 ".concat(je(v)):""]}),(0,nd.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4},children:[(0,nd.jsx)("button",{onClick:()=>{Re(e=>!e),Pe(!0),De.current=!1},title:Ne?"Switch to section question":"Edit default question (applies to all sections)",style:{fontSize:8,fontWeight:600,fontFamily:"'Overpass Mono', monospace",padding:"1px 5px",borderRadius:3,border:"1px solid ".concat(Ne?h.teacherGreen:h.inputBorder),background:Ne?h.teacherGreen+"20":"transparent",color:Ne?h.teacherGreen:h.textMuted,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.15s"},children:"Default"}),(0,nd.jsx)("button",{onClick:()=>{Pe(e=>(De.current=e,!e))},title:Ie?"Unlock to edit":"Lock question",style:{background:"none",border:"none",padding:2,cursor:"pointer",color:Ie?h.textMuted:h.teacherGreen,display:"inline-flex",transition:"color 0.15s"},children:(0,nd.jsx)(jh,{icon:Ie?df:hf,width:12})})]})]}),Ne&&(0,nd.jsx)("div",{style:{fontSize:9,color:h.textMuted,fontStyle:"italic",marginBottom:6,letterSpacing:"0.03em"},children:"Edits apply to all sections & future sections"}),(0,nd.jsxs)("button",{onClick:()=>{Ie||(Te(e=>!e),De.current=!0)},disabled:Ie,style:{display:"flex",alignItems:"center",gap:6,padding:"4px 6px",borderRadius:4,border:"none",background:"transparent",cursor:Ie?"not-allowed":"pointer",opacity:Ie?.5:1,fontSize:10,fontFamily:"'Overpass Mono', monospace",color:Ee?h.teacherGreen:h.textMuted,fontWeight:600,transition:"all 0.15s",marginBottom:6},children:[(0,nd.jsx)(jh,{icon:Ee?Ef:Tf,width:13}),Ee?"Visible to students":"Hidden from students"]}),(0,nd.jsx)("textarea",{value:xe,disabled:Ie,onChange:e=>{Ce(e.target.value),De.current=!0},placeholder:"e.g., How did global conflicts reshape the American identity?",style:{width:"100%",padding:"8px 10px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:6,fontSize:12,fontFamily:"'Newsreader', 'Georgia', serif",background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box",resize:"vertical",minHeight:60,opacity:Ie?.5:1,cursor:Ie?"not-allowed":"text",transition:"opacity 0.15s"}}),!Ie&&(xe!==Se.text||Ee!==Se.enabled)&&(0,nd.jsxs)("button",{onClick:()=>{const e={text:xe,enabled:Ee};ke(e),$e(e),De.current=!1},style:{width:"100%",marginTop:6,padding:"6px 0",border:"none",borderRadius:4,background:h.teacherGreen,color:"#fff",fontSize:10,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:4,textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:tf,width:13}),"Update"]}),(0,nd.jsx)("div",{style:{height:1,background:h.inputBorder,margin:"10px 0"}}),(0,nd.jsx)(mf,{sections:Fe,locked:_e,onToggleLock:()=>we(e=>!e),onAdd:Ve,onDelete:qe,onRename:Ge,theme:h})]})]})]}),(0,nd.jsxs)("h1",{style:{fontSize:26,fontWeight:700,margin:"6px 0 0 0",fontFamily:"'Newsreader', 'Georgia', serif",letterSpacing:"-0.01em",lineHeight:1.2,display:"flex",alignItems:"center",gap:8},children:[(0,nd.jsx)(jh,{icon:af,width:26,style:{color:"#F59E0B"}}),"Timeline Explorer"]}),(0,nd.jsxs)("p",{style:{fontSize:11,color:h.headerSubtext,margin:"6px 0 0 0",fontFamily:"'Overpass Mono', monospace"},children:[Qe.length," events \xb7 ",it," student historians \xb7"," ",[...new Set(Qe.map(e=>e.period))].length," time periods"]}),d&&(0,nd.jsx)("div",{style:{display:"flex",gap:4,marginTop:10},children:[{id:"all",name:"All Sections"},...Fe].map(e=>{const t=v===e.id;return(0,nd.jsx)("button",{onClick:()=>He(e.id),style:{padding:"5px 12px",borderRadius:6,border:"none",background:t?h.accentGold:h.headerButtonBg,color:t?h.headerBg:h.headerSubtext,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:t?700:500,cursor:"pointer",transition:"all 0.15s"},children:e.name},e.id)})})]}),(0,nd.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[d&&!B&&0===Qe.length&&(0,nd.jsxs)("button",{onClick:async()=>{if(window.confirm("Seed the database with 25 sample events? Only do this once.")){z(!0);try{await async function(e){for(const t of e){const e=Ou(gd);await Mu(e,t)}}(_d),U(!0)}catch(e){console.error("Seed failed:",e)}z(!1)}},disabled:j,style:{padding:"10px 18px",background:h.seedPurple,color:h.headerText,border:"none",borderRadius:8,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:j?"default":"pointer"},children:[(0,nd.jsx)(jh,{icon:bf,width:14,style:{verticalAlign:"middle",marginRight:4}}),j?"Seeding...":"Seed Database"]}),d&&Ye.length>0&&(0,nd.jsxs)("button",{onClick:()=>M(!0),style:{padding:"10px 18px",background:h.errorRed,color:h.headerText,border:"none",borderRadius:8,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer",position:"relative"},children:[(0,nd.jsx)(jh,{icon:vf,width:14,style:{verticalAlign:"middle",marginRight:4}}),"Review (",Ye.length,")"]}),(0,nd.jsxs)("button",{onClick:()=>R(!0),style:{padding:"10px 18px",background:h.accentGold,color:h.headerBg,border:"none",borderRadius:8,fontSize:12,fontFamily:"'Overpass Mono', monospace",fontWeight:700,cursor:"pointer",letterSpacing:"0.02em"},children:[(0,nd.jsx)(jh,{icon:gf,width:14,style:{verticalAlign:"middle",marginRight:2}}),"Add Event"]}),(0,nd.jsx)("button",{onClick:p,title:"dark"===f?"Switch to light mode":"Switch to dark mode",style:{padding:"10px 14px",background:"transparent",color:h.headerSubtext,border:"1px solid ".concat(h.headerBorder),borderRadius:8,fontSize:16,fontFamily:"'Overpass Mono', monospace",cursor:"pointer",lineHeight:1},children:"dark"===f?"\u2600":"\u263e"}),(0,nd.jsxs)("button",{onClick:u,style:{padding:"10px 14px",background:"transparent",color:h.headerSubtext,border:"1px solid ".concat(h.headerBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",fontWeight:600,cursor:"pointer"},children:[(0,nd.jsx)(jh,{icon:yf,width:13,style:{verticalAlign:"middle",marginRight:4}}),"Sign Out"]})]})]})})}),tt&&tt.enabled&&tt.text.trim()&&(0,nd.jsx)("div",{style:{background:h.cardBg,borderBottom:"1px solid ".concat(h.cardBorder)},children:(0,nd.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",padding:"24px 28px 20px",textAlign:"center"},children:[(0,nd.jsx)("div",{style:{fontSize:9,fontWeight:700,color:h.textMuted,fontFamily:"'Overpass Mono', monospace",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:8},children:"Compelling Question"}),(0,nd.jsx)("p",{style:{fontSize:20,fontWeight:600,fontFamily:"'Newsreader', 'Georgia', serif",color:h.textPrimary,lineHeight:1.4,margin:0,fontStyle:"italic",maxWidth:680,marginLeft:"auto",marginRight:"auto"},children:tt.text})]})}),(0,nd.jsx)("div",{style:{background:h.cardBg,borderBottom:"1px solid ".concat(h.cardBorder)},children:(0,nd.jsx)("div",{style:{maxWidth:960,margin:"0 auto"},children:(0,nd.jsx)(wd,{filteredEvents:Ze,onEraClick:w,selectedPeriod:_,timelineStart:q,timelineEnd:K,currentYear:Ue,periods:Xe})})}),(0,nd.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",padding:"20px 28px"},children:[(0,nd.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16,alignItems:"center"},children:[(0,nd.jsxs)("div",{style:{flex:"1 1 200px",position:"relative",minWidth:160},children:[(0,nd.jsx)(jh,{icon:_f,width:14,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",color:h.textSecondary,pointerEvents:"none"}}),(0,nd.jsx)("input",{type:"text",placeholder:"Search events, people, regions...",value:E,onChange:e=>T(e.target.value),style:{width:"100%",padding:"9px 14px 9px 30px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:8,fontSize:12,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,color:h.textPrimary,outline:"none",boxSizing:"border-box"}})]}),(0,nd.jsxs)("select",{value:_,onChange:e=>w(e.target.value),style:{padding:"9px 12px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,cursor:"pointer",color:"all"===_?h.textSecondary:null===(e=et(_))||void 0===e?void 0:e.color,fontWeight:"all"===_?500:700},children:[(0,nd.jsx)("option",{value:"all",children:"All Time Periods"}),Xe.map(e=>(0,nd.jsx)("option",{value:e.id,children:e.label},e.id))]}),(0,nd.jsxs)("select",{value:S,onChange:e=>k(e.target.value),style:{padding:"9px 12px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,cursor:"pointer",color:"all"===S?h.textSecondary:h.textPrimary},children:[(0,nd.jsx)("option",{value:"all",children:"All Tags"}),fd.map(e=>(0,nd.jsx)("option",{value:e,children:e},e))]}),d&&"all"===v&&(0,nd.jsxs)("select",{value:D,onChange:e=>F(e.target.value),style:{padding:"9px 12px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,cursor:"pointer",color:"all"===D?h.textSecondary:h.textPrimary},children:[(0,nd.jsx)("option",{value:"all",children:"All Sections"}),Fe.map(e=>(0,nd.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,nd.jsxs)("button",{onClick:()=>P(e=>"chrono"===e?"reverse":"chrono"),style:{padding:"9px 12px",border:"1.5px solid ".concat(h.inputBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:h.inputBg,cursor:"pointer",color:h.textTertiary},children:[(0,nd.jsx)(jh,{icon:"chrono"===I?wf:Sf,width:14,style:{verticalAlign:"middle",marginRight:3}}),"chrono"===I?"Oldest":"Newest"]}),(0,nd.jsxs)("button",{onClick:()=>O(e=>!e),style:{padding:"9px 12px",border:"1.5px solid ".concat(A?h.activeToggleBg:h.inputBorder),borderRadius:8,fontSize:11,fontFamily:"'Overpass Mono', monospace",background:A?h.activeToggleBg:h.inputBg,color:A?h.activeToggleText:h.textTertiary,cursor:"pointer",fontWeight:600,transition:"all 0.15s"},children:[(0,nd.jsx)(jh,{icon:Jh,width:14,style:{verticalAlign:"middle",marginRight:4}}),"Contributors"]})]}),("all"!==_||"all"!==S||E||"all"!==D)&&(0,nd.jsxs)("div",{style:{display:"flex",gap:6,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[(0,nd.jsx)("span",{style:{fontSize:10,color:h.textMuted,fontFamily:"'Overpass Mono', monospace"},children:"Showing:"}),"all"!==_&&(0,nd.jsx)("span",{style:{fontSize:10,background:g(et(_))||(null===(t=et(_))||void 0===t?void 0:t.bg),color:null===(n=et(_))||void 0===n?void 0:n.color,padding:"3px 8px",borderRadius:4,fontFamily:"'Overpass Mono', monospace",fontWeight:700},children:null===(i=et(_))||void 0===i?void 0:i.label}),"all"!==S&&(0,nd.jsx)("span",{style:{fontSize:10,background:h.subtleBg,color:h.textDescription,padding:"3px 8px",borderRadius:4,fontFamily:"'Overpass Mono', monospace",fontWeight:600},children:S}),"all"!==D&&(0,nd.jsx)("span",{style:{fontSize:10,background:h.subtleBg,color:h.textDescription,padding:"3px 8px",borderRadius:4,fontFamily:"'Overpass Mono', monospace",fontWeight:600},children:je(D)}),E&&(0,nd.jsxs)("span",{style:{fontSize:10,background:h.subtleBg,color:h.textDescription,padding:"3px 8px",borderRadius:4,fontFamily:"'Overpass Mono', monospace"},children:['"',E,'"']}),(0,nd.jsxs)("button",{onClick:()=>{w("all"),k("all"),T(""),F("all")},style:{fontSize:10,color:h.errorRed,background:"none",border:"none",cursor:"pointer",fontFamily:"'Overpass Mono', monospace",fontWeight:700},children:[(0,nd.jsx)(jh,{icon:kf,width:12,style:{verticalAlign:"middle",marginRight:2}}),"Clear"]}),(0,nd.jsxs)("span",{style:{marginLeft:"auto",fontSize:11,color:h.textSecondary,fontFamily:"'Overpass Mono', monospace"},children:[Ze.length," of ",Qe.length," events"]})]}),(0,nd.jsxs)("div",{style:{display:"flex",gap:20,alignItems:"flex-start"},children:[(0,nd.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:8,minWidth:0},children:0===Ze.length?(0,nd.jsx)("div",{style:{textAlign:"center",padding:"48px 20px",color:h.textSecondary,fontFamily:"'Overpass Mono', monospace",fontSize:12},children:"No events match your filters."}):Ze.map(e=>(0,nd.jsx)(Kh,{event:e,isExpanded:x===e.id,onToggle:()=>C(x===e.id?null:e.id),isTeacher:d,onDelete:rt,periods:Xe},e.id))}),A&&(0,nd.jsx)("div",{style:{width:220,flexShrink:0},children:(0,nd.jsx)(ef,{events:Qe})})]}),(0,nd.jsx)("div",{style:{marginTop:32,padding:"16px 0",borderTop:"1px solid ".concat(h.cardBorder),textAlign:"center"},children:(0,nd.jsxs)("p",{style:{fontSize:10,color:h.textMuted,fontFamily:"'Overpass Mono', monospace",margin:0,lineHeight:1.6},children:["Historian's Workshop Timeline Explorer \xb7 ","all"!==v?v:"All Sections",(0,nd.jsx)("br",{}),"Signed in as ",o.displayName||o.email]})})]}),N&&(0,nd.jsx)(Zh,{onAdd:nt,onClose:()=>R(!1),userName:o.displayName||o.email.split("@")[0],timelineStart:q,timelineEnd:K,periods:Xe}),L&&d&&(0,nd.jsx)(sf,{pendingEvents:Ye,onClose:()=>M(!1),periods:Xe,getSectionName:je})]})}i.createRoot(document.getElementById("root")).render((0,nd.jsx)(r.StrictMode,{children:(0,nd.jsx)(id,{children:(0,nd.jsx)(cd,{children:(0,nd.jsx)(Nf,{})})})}))})();
//# sourceMappingURL=main.2bad0376.js.map